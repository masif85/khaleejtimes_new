var Handlebars=function(){var l=function(){"use strict";function t(t){this.string=t}return t.prototype.toString=function(){return""+this.string},t}(),h=function(){"use strict";var t={},e=l,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},n=/[&<>"'`]/g,s=/[&<>"'`]/;function a(t){return i[t]||"&amp;"}t.extend=function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])};var r=Object.prototype.toString;t.toString=r;var o=function(t){return"function"==typeof t};o(/x/)&&(o=function(t){return"function"==typeof t&&"[object Function]"===r.call(t)}),t.isFunction=o;var c=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===r.call(t)};return t.isArray=c,t.escapeExpression=function(t){return t instanceof e?t.toString():t||0===t?(t=""+t,s.test(t)?t.replace(n,a):t):""},t.isEmpty=function(t){return!t&&0!==t||!(!c(t)||0!==t.length)},t}(),p=function(){"use strict";var a=["description","fileName","lineNumber","message","name","number","stack"];function t(t,e){var i;e&&e.firstLine&&(t+=" - "+(i=e.firstLine)+":"+e.firstColumn);for(var n=Error.prototype.constructor.call(this,t),s=0;s<a.length;s++)this[a[s]]=n[a[s]];i&&(this.lineNumber=i,this.column=e.firstColumn)}return t.prototype=new Error,t}(),d=function(){"use strict";var t={},n=h,a=p;t.VERSION="1.3.0";t.COMPILER_REVISION=4;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var l=n.isArray,d=n.isFunction,s=n.toString,r="[object Object]";function e(t,e){var s;this.helpers=t||{},this.partials=e||{},(s=this).registerHelper("helperMissing",function(t){if(2!==arguments.length)throw new a("Missing helper: '"+t+"'")}),s.registerHelper("blockHelperMissing",function(t,e){var i=e.inverse||function(){},n=e.fn;return!0===(t=d(t)?t.call(this):t)?n(this):!1===t||null==t?i(this):l(t)?0<t.length?s.helpers.each(t,e):i(this):n(t)}),s.registerHelper("each",function(t,e){var i,n=e.fn,s=e.inverse,a=0,r="";if(d(t)&&(t=t.call(this)),e.data&&(i=u(e.data)),t&&"object"==typeof t)if(l(t))for(var o=t.length;a<o;a++)i&&(i.index=a,i.first=0===a,i.last=a===t.length-1),r+=n(t[a],{data:i});else for(var c in t)t.hasOwnProperty(c)&&(i&&(i.key=c,i.index=a,i.first=0===a),r+=n(t[c],{data:i}),a++);return r=0===a?s(this):r}),s.registerHelper("if",function(t,e){return d(t)&&(t=t.call(this)),!e.hash.includeZero&&!t||n.isEmpty(t)?e.inverse(this):e.fn(this)}),s.registerHelper("unless",function(t,e){return s.helpers.if.call(this,t,{fn:e.inverse,inverse:e.fn,hash:e.hash})}),s.registerHelper("with",function(t,e){if(d(t)&&(t=t.call(this)),!n.isEmpty(t))return e.fn(t)}),s.registerHelper("log",function(t,e){e=e.data&&null!=e.data.level?parseInt(e.data.level,10):1;s.log(e,t)})}(t.HandlebarsEnvironment=e).prototype={constructor:e,logger:i,log:o,registerHelper:function(t,e,i){if(s.call(t)===r){if(i||e)throw new a("Arg not supported with multiple helpers");n.extend(this.helpers,t)}else i&&(e.not=i),this.helpers[t]=e},registerPartial:function(t,e){s.call(t)===r?n.extend(this.partials,t):this.partials[t]=e}};var i={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(t,e){i.level<=t&&(t=i.methodMap[t],"undefined"!=typeof console&&console[t]&&console[t].call(console,e))}};function o(t,e){i.log(t,e)}t.logger=i,t.log=o;var u=function(t){var e={};return n.extend(e,t),e};return t.createFrame=u,t}(),o=function(){"use strict";var t={},n=h,c=p,s=d.COMPILER_REVISION,a=d.REVISION_CHANGES;function l(t,i,n){function e(t,e){return i(t,(e=e||{}).data||n)}return e.program=t,e.depth=0,e}return t.checkRevision=function(t){if((i=t&&t[0]||1)!==s){if(i<s){var e=a[s],i=a[i];throw new c("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+e+") or downgrade your runtime to an older version ("+i+").")}throw new c("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+t[1]+").")}},t.template=function(a,o){if(!o)throw new c("No environment passed to template");var r={escapeExpression:n.escapeExpression,invokePartial:function(t,e,i,n,s,a){var r=o.VM.invokePartial.apply(this,arguments);if(null!=r)return r;if(o.compile){n={helpers:n,partials:s,data:a};return s[e]=o.compile(t,{data:void 0!==a},o),s[e](i,n)}throw new c("The partial "+e+" could not be compiled when running in runtime-only mode")},programs:[],program:function(t,e,i){var n=this.programs[t];return n=i?l(t,e,i):n||(this.programs[t]=l(t,e))},merge:function(t,e){var i=t||e;return t&&e&&t!==e&&(i={},n.extend(i,e),n.extend(i,t)),i},programWithDepth:o.VM.programWithDepth,noop:o.VM.noop,compilerInfo:null};return function(t,e){var i,n=(e=e||{}).partial?e:o;e.partial||(i=e.helpers,s=e.partials);var s=a.call(r,n,t,i,s,e.data);return e.partial||o.VM.checkRevision(r.compilerInfo),s}},t.programWithDepth=function(t,i,n){function e(t,e){return e=e||{},i.apply(this,[t,e.data||n].concat(s))}var s=Array.prototype.slice.call(arguments,3);return e.program=t,e.depth=s.length,e},t.program=l,t.invokePartial=function(t,e,i,n,s,a){if(a={partial:!0,helpers:n,partials:s,data:a},void 0===t)throw new c("The partial "+e+" could not be found");if(t instanceof Function)return t(i,a)},t.noop=function(){return""},t}(),i=function(){"use strict";function t(){var e=new i.HandlebarsEnvironment;return a.extend(e,i),e.SafeString=n,e.Exception=s,e.Utils=a,e.VM=r,e.template=function(t){return r.template(t,e)},e}var i=d,n=l,s=p,a=h,r=o,e=t();return e.create=t,e}(),u=function(){"use strict";var c=p;function l(t){t=t||{},this.firstLine=t.first_line,this.firstColumn=t.first_column,this.lastColumn=t.last_column,this.lastLine=t.last_line}var a={ProgramNode:function(t,e,i,n){3===arguments.length?(n=i,i=null):2===arguments.length&&(n=e,e=null),l.call(this,n),this.type="program",this.statements=t,this.strip={},i?((t=i[0])?(t={first_line:t.firstLine,last_line:t.lastLine,last_column:t.lastColumn,first_column:t.firstColumn},this.inverse=new a.ProgramNode(i,e,t)):this.inverse=new a.ProgramNode(i,e),this.strip.right=e.left):e&&(this.strip.left=e.right)},MustacheNode:function(t,e,i,n,s){l.call(this,s),this.type="mustache",this.strip=n,null!=i&&i.charAt?(n=i.charAt(3)||i.charAt(2),this.escaped="{"!==n&&"&"!==n):this.escaped=!!i,t instanceof a.SexprNode?this.sexpr=t:this.sexpr=new a.SexprNode(t,e),this.sexpr.isRoot=!0,this.id=this.sexpr.id,this.params=this.sexpr.params,this.hash=this.sexpr.hash,this.eligibleHelper=this.sexpr.eligibleHelper,this.isHelper=this.sexpr.isHelper},SexprNode:function(t,e,i){l.call(this,i),this.type="sexpr",this.hash=e;i=this.id=t[0],t=this.params=t.slice(1),i=this.eligibleHelper=i.isSimple;this.isHelper=i&&(t.length||e)},PartialNode:function(t,e,i,n){l.call(this,n),this.type="partial",this.partialName=t,this.context=e,this.strip=i},BlockNode:function(t,e,i,n,s){if(l.call(this,s),t.sexpr.id.original!==n.path.original)throw new c(t.sexpr.id.original+" doesn't match "+n.path.original,this);this.type="block",this.mustache=t,this.program=e,this.inverse=i,this.strip={left:t.strip.left,right:n.strip.right},(e||i).strip.left=t.strip.right,(i||e).strip.right=n.strip.left,i&&!e&&(this.isInverse=!0)},ContentNode:function(t,e){l.call(this,e),this.type="content",this.string=t},HashNode:function(t,e){l.call(this,e),this.type="hash",this.pairs=t},IdNode:function(t,e){l.call(this,e),this.type="ID";for(var i="",n=[],s=0,a=0,r=t.length;a<r;a++){var o=t[a].part;if(i+=(t[a].separator||"")+o,".."===o||"."===o||"this"===o){if(0<n.length)throw new c("Invalid path: "+i,this);".."===o?s++:this.isScoped=!0}else n.push(o)}this.original=i,this.parts=n,this.string=n.join("."),this.depth=s,this.isSimple=1===t.length&&!this.isScoped&&0===s,this.stringModeValue=this.string},PartialNameNode:function(t,e){l.call(this,e),this.type="PARTIAL_NAME",this.name=t.original},DataNode:function(t,e){l.call(this,e),this.type="DATA",this.id=t},StringNode:function(t,e){l.call(this,e),this.type="STRING",this.original=this.string=this.stringModeValue=t},IntegerNode:function(t,e){l.call(this,e),this.type="INTEGER",this.original=this.integer=t,this.stringModeValue=Number(t)},BooleanNode:function(t,e){l.call(this,e),this.type="BOOLEAN",this.bool=t,this.stringModeValue="true"===t},CommentNode:function(t,e){l.call(this,e),this.type="comment",this.comment=t}};return a}(),n=function(){"use strict";var t,e;function c(t,e){return{left:"~"===t.charAt(2),right:"~"===e.charAt(0)||"~"===e.charAt(1)}}function i(){this.yy={}}return e={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,i=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);t=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[t[0],t[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(20<t.length?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(20<t.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,i,n;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),a=0;a<s.length&&(!(e=this._input.match(this.rules[s[a]]))||t&&!(e[0].length>t[0].length)||(t=e,i=a,this.options.flex));a++);return t?((n=t[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=n.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:n?n[n.length-1].length-n[n.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],n=this.performAction.call(this,this.yy,this,s[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,i,e,n){function s(t,e){return i.yytext=i.yytext.substr(t,i.yyleng-e)}switch(e){case 0:if("\\\\"===i.yytext.slice(-2)?(s(0,1),this.begin("mu")):"\\"===i.yytext.slice(-1)?(s(0,1),this.begin("emu")):this.begin("mu"),i.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return s(0,4),this.popState(),15;case 4:return 35;case 5:return 36;case 6:return 25;case 7:return 16;case 8:return 20;case 9:case 10:return 19;case 11:return 23;case 12:return 22;case 13:this.popState(),this.begin("com");break;case 14:return s(3,5),this.popState(),15;case 15:return 22;case 16:return 41;case 17:case 18:return 40;case 19:return 44;case 20:break;case 21:return this.popState(),24;case 22:return this.popState(),18;case 23:return i.yytext=s(1,2).replace(/\\"/g,'"'),32;case 24:return i.yytext=s(1,2).replace(/\\'/g,"'"),32;case 25:return 42;case 26:case 27:return 34;case 28:return 33;case 29:return 40;case 30:return i.yytext=s(1,2),40;case 31:return"INVALID";case 32:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:[\s\S]*?--\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{!--)/,/^(?:\{\{![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:-?[0-9]+(?=([~}\s)])))/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32],inclusive:!(t={trace:function(){},yy:{},symbols_:{error:2,root:3,statements:4,EOF:5,program:6,simpleInverse:7,statement:8,openInverse:9,closeBlock:10,openBlock:11,mustache:12,partial:13,CONTENT:14,COMMENT:15,OPEN_BLOCK:16,sexpr:17,CLOSE:18,OPEN_INVERSE:19,OPEN_ENDBLOCK:20,path:21,OPEN:22,OPEN_UNESCAPED:23,CLOSE_UNESCAPED:24,OPEN_PARTIAL:25,partialName:26,partial_option0:27,sexpr_repetition0:28,sexpr_option0:29,dataName:30,param:31,STRING:32,INTEGER:33,BOOLEAN:34,OPEN_SEXPR:35,CLOSE_SEXPR:36,hash:37,hash_repetition_plus0:38,hashSegment:39,ID:40,EQUALS:41,DATA:42,pathSegments:43,SEP:44,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"CONTENT",15:"COMMENT",16:"OPEN_BLOCK",18:"CLOSE",19:"OPEN_INVERSE",20:"OPEN_ENDBLOCK",22:"OPEN",23:"OPEN_UNESCAPED",24:"CLOSE_UNESCAPED",25:"OPEN_PARTIAL",32:"STRING",33:"INTEGER",34:"BOOLEAN",35:"OPEN_SEXPR",36:"CLOSE_SEXPR",40:"ID",41:"EQUALS",42:"DATA",44:"SEP"},productions_:[0,[3,2],[3,1],[6,2],[6,3],[6,2],[6,1],[6,1],[6,0],[4,1],[4,2],[8,3],[8,3],[8,1],[8,1],[8,1],[8,1],[11,3],[9,3],[10,3],[12,3],[12,3],[13,4],[7,2],[17,3],[17,1],[31,1],[31,1],[31,1],[31,1],[31,1],[31,3],[37,1],[39,3],[26,1],[26,1],[26,1],[30,2],[21,1],[43,3],[43,1],[27,0],[27,1],[28,0],[28,2],[29,0],[29,1],[38,1],[38,2]],performAction:function(t,e,i,n,s,a,r){var o=a.length-1;switch(s){case 1:return new n.ProgramNode(a[o-1],this._$);case 2:return new n.ProgramNode([],this._$);case 3:this.$=new n.ProgramNode([],a[o-1],a[o],this._$);break;case 4:this.$=new n.ProgramNode(a[o-2],a[o-1],a[o],this._$);break;case 5:this.$=new n.ProgramNode(a[o-1],a[o],[],this._$);break;case 6:this.$=new n.ProgramNode(a[o],this._$);break;case 7:case 8:this.$=new n.ProgramNode([],this._$);break;case 9:this.$=[a[o]];break;case 10:a[o-1].push(a[o]),this.$=a[o-1];break;case 11:this.$=new n.BlockNode(a[o-2],a[o-1].inverse,a[o-1],a[o],this._$);break;case 12:this.$=new n.BlockNode(a[o-2],a[o-1],a[o-1].inverse,a[o],this._$);break;case 13:case 14:this.$=a[o];break;case 15:this.$=new n.ContentNode(a[o],this._$);break;case 16:this.$=new n.CommentNode(a[o],this._$);break;case 17:case 18:this.$=new n.MustacheNode(a[o-1],null,a[o-2],c(a[o-2],a[o]),this._$);break;case 19:this.$={path:a[o-1],strip:c(a[o-2],a[o])};break;case 20:case 21:this.$=new n.MustacheNode(a[o-1],null,a[o-2],c(a[o-2],a[o]),this._$);break;case 22:this.$=new n.PartialNode(a[o-2],a[o-1],c(a[o-3],a[o]),this._$);break;case 23:this.$=c(a[o-1],a[o]);break;case 24:this.$=new n.SexprNode([a[o-2]].concat(a[o-1]),a[o],this._$);break;case 25:this.$=new n.SexprNode([a[o]],null,this._$);break;case 26:this.$=a[o];break;case 27:this.$=new n.StringNode(a[o],this._$);break;case 28:this.$=new n.IntegerNode(a[o],this._$);break;case 29:this.$=new n.BooleanNode(a[o],this._$);break;case 30:this.$=a[o];break;case 31:a[o-1].isHelper=!0,this.$=a[o-1];break;case 32:this.$=new n.HashNode(a[o],this._$);break;case 33:this.$=[a[o-2],a[o]];break;case 34:this.$=new n.PartialNameNode(a[o],this._$);break;case 35:this.$=new n.PartialNameNode(new n.StringNode(a[o],this._$),this._$);break;case 36:this.$=new n.PartialNameNode(new n.IntegerNode(a[o],this._$));break;case 37:this.$=new n.DataNode(a[o],this._$);break;case 38:this.$=new n.IdNode(a[o],this._$);break;case 39:a[o-2].push({part:a[o],separator:a[o-1]}),this.$=a[o-2];break;case 40:this.$=[{part:a[o]}];break;case 43:this.$=[];break;case 44:a[o-1].push(a[o]);break;case 47:this.$=[a[o]];break;case 48:a[o-1].push(a[o])}},table:[{3:1,4:2,5:[1,3],8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[3]},{5:[1,16],8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],22:[1,13],23:[1,14],25:[1,15]},{1:[2,2]},{5:[2,9],14:[2,9],15:[2,9],16:[2,9],19:[2,9],20:[2,9],22:[2,9],23:[2,9],25:[2,9]},{4:20,6:18,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{4:20,6:22,7:19,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,8],22:[1,13],23:[1,14],25:[1,15]},{5:[2,13],14:[2,13],15:[2,13],16:[2,13],19:[2,13],20:[2,13],22:[2,13],23:[2,13],25:[2,13]},{5:[2,14],14:[2,14],15:[2,14],16:[2,14],19:[2,14],20:[2,14],22:[2,14],23:[2,14],25:[2,14]},{5:[2,15],14:[2,15],15:[2,15],16:[2,15],19:[2,15],20:[2,15],22:[2,15],23:[2,15],25:[2,15]},{5:[2,16],14:[2,16],15:[2,16],16:[2,16],19:[2,16],20:[2,16],22:[2,16],23:[2,16],25:[2,16]},{17:23,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:29,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:30,21:24,30:25,40:[1,28],42:[1,27],43:26},{17:31,21:24,30:25,40:[1,28],42:[1,27],43:26},{21:33,26:32,32:[1,34],33:[1,35],40:[1,28],43:26},{1:[2,1]},{5:[2,10],14:[2,10],15:[2,10],16:[2,10],19:[2,10],20:[2,10],22:[2,10],23:[2,10],25:[2,10]},{10:36,20:[1,37]},{4:38,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,7],22:[1,13],23:[1,14],25:[1,15]},{7:39,8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,21],20:[2,6],22:[1,13],23:[1,14],25:[1,15]},{17:23,18:[1,40],21:24,30:25,40:[1,28],42:[1,27],43:26},{10:41,20:[1,37]},{18:[1,42]},{18:[2,43],24:[2,43],28:43,32:[2,43],33:[2,43],34:[2,43],35:[2,43],36:[2,43],40:[2,43],42:[2,43]},{18:[2,25],24:[2,25],36:[2,25]},{18:[2,38],24:[2,38],32:[2,38],33:[2,38],34:[2,38],35:[2,38],36:[2,38],40:[2,38],42:[2,38],44:[1,44]},{21:45,40:[1,28],43:26},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],42:[2,40],44:[2,40]},{18:[1,46]},{18:[1,47]},{24:[1,48]},{18:[2,41],21:50,27:49,40:[1,28],43:26},{18:[2,34],40:[2,34]},{18:[2,35],40:[2,35]},{18:[2,36],40:[2,36]},{5:[2,11],14:[2,11],15:[2,11],16:[2,11],19:[2,11],20:[2,11],22:[2,11],23:[2,11],25:[2,11]},{21:51,40:[1,28],43:26},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,3],22:[1,13],23:[1,14],25:[1,15]},{4:52,8:4,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,5],22:[1,13],23:[1,14],25:[1,15]},{14:[2,23],15:[2,23],16:[2,23],19:[2,23],20:[2,23],22:[2,23],23:[2,23],25:[2,23]},{5:[2,12],14:[2,12],15:[2,12],16:[2,12],19:[2,12],20:[2,12],22:[2,12],23:[2,12],25:[2,12]},{14:[2,18],15:[2,18],16:[2,18],19:[2,18],20:[2,18],22:[2,18],23:[2,18],25:[2,18]},{18:[2,45],21:56,24:[2,45],29:53,30:60,31:54,32:[1,57],33:[1,58],34:[1,59],35:[1,61],36:[2,45],37:55,38:62,39:63,40:[1,64],42:[1,27],43:26},{40:[1,65]},{18:[2,37],24:[2,37],32:[2,37],33:[2,37],34:[2,37],35:[2,37],36:[2,37],40:[2,37],42:[2,37]},{14:[2,17],15:[2,17],16:[2,17],19:[2,17],20:[2,17],22:[2,17],23:[2,17],25:[2,17]},{5:[2,20],14:[2,20],15:[2,20],16:[2,20],19:[2,20],20:[2,20],22:[2,20],23:[2,20],25:[2,20]},{5:[2,21],14:[2,21],15:[2,21],16:[2,21],19:[2,21],20:[2,21],22:[2,21],23:[2,21],25:[2,21]},{18:[1,66]},{18:[2,42]},{18:[1,67]},{8:17,9:5,11:6,12:7,13:8,14:[1,9],15:[1,10],16:[1,12],19:[1,11],20:[2,4],22:[1,13],23:[1,14],25:[1,15]},{18:[2,24],24:[2,24],36:[2,24]},{18:[2,44],24:[2,44],32:[2,44],33:[2,44],34:[2,44],35:[2,44],36:[2,44],40:[2,44],42:[2,44]},{18:[2,46],24:[2,46],36:[2,46]},{18:[2,26],24:[2,26],32:[2,26],33:[2,26],34:[2,26],35:[2,26],36:[2,26],40:[2,26],42:[2,26]},{18:[2,27],24:[2,27],32:[2,27],33:[2,27],34:[2,27],35:[2,27],36:[2,27],40:[2,27],42:[2,27]},{18:[2,28],24:[2,28],32:[2,28],33:[2,28],34:[2,28],35:[2,28],36:[2,28],40:[2,28],42:[2,28]},{18:[2,29],24:[2,29],32:[2,29],33:[2,29],34:[2,29],35:[2,29],36:[2,29],40:[2,29],42:[2,29]},{18:[2,30],24:[2,30],32:[2,30],33:[2,30],34:[2,30],35:[2,30],36:[2,30],40:[2,30],42:[2,30]},{17:68,21:24,30:25,40:[1,28],42:[1,27],43:26},{18:[2,32],24:[2,32],36:[2,32],39:69,40:[1,70]},{18:[2,47],24:[2,47],36:[2,47],40:[2,47]},{18:[2,40],24:[2,40],32:[2,40],33:[2,40],34:[2,40],35:[2,40],36:[2,40],40:[2,40],41:[1,71],42:[2,40],44:[2,40]},{18:[2,39],24:[2,39],32:[2,39],33:[2,39],34:[2,39],35:[2,39],36:[2,39],40:[2,39],42:[2,39],44:[2,39]},{5:[2,22],14:[2,22],15:[2,22],16:[2,22],19:[2,22],20:[2,22],22:[2,22],23:[2,22],25:[2,22]},{5:[2,19],14:[2,19],15:[2,19],16:[2,19],19:[2,19],20:[2,19],22:[2,19],23:[2,19],25:[2,19]},{36:[1,72]},{18:[2,48],24:[2,48],36:[2,48],40:[2,48]},{41:[1,71]},{21:56,30:60,31:73,32:[1,57],33:[1,58],34:[1,59],35:[1,61],40:[1,28],42:[1,27],43:26},{18:[2,31],24:[2,31],32:[2,31],33:[2,31],34:[2,31],35:[2,31],36:[2,31],40:[2,31],42:[2,31]},{18:[2,33],24:[2,33],36:[2,33],40:[2,33]}],defaultActions:{3:[2,2],16:[2,1],50:[2,42]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,i=[0],n=[null],s=[],a=this.table,r="",o=0,c=0,l=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===(this.yy.parser=this).lexer.yylloc&&(this.lexer.yylloc={});var d=this.lexer.yylloc;s.push(d);var u=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,p,g,f,m,_,b,v,y,k={};;){if(g=i[i.length-1],void 0===(f=this.defaultActions[g]||(null==h&&(y=void 0,h=y="number"!=typeof(y=e.lexer.lex()||1)&&e.symbols_[y]||y),a[g]&&a[g][h]))||!f.length||!f[0]){var w="";if(!l){for(_ in v=[],a[g])this.terminals_[_]&&2<_&&v.push("'"+this.terminals_[_]+"'");w=this.lexer.showPosition?"Parse error on line "+(o+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+v.join(", ")+", got '"+(this.terminals_[h]||h)+"'":"Parse error on line "+(o+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(w,{text:this.lexer.match,token:this.terminals_[h]||h,line:this.lexer.yylineno,loc:d,expected:v})}}if(f[0]instanceof Array&&1<f.length)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+h);switch(f[0]){case 1:i.push(h),n.push(this.lexer.yytext),s.push(this.lexer.yylloc),i.push(f[1]),h=null,p?(h=p,p=null):(c=this.lexer.yyleng,r=this.lexer.yytext,o=this.lexer.yylineno,d=this.lexer.yylloc,0<l&&l--);break;case 2:if(b=this.productions_[f[1]][1],k.$=n[n.length-b],k._$={first_line:s[s.length-(b||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(b||1)].first_column,last_column:s[s.length-1].last_column},u&&(k._$.range=[s[s.length-(b||1)].range[0],s[s.length-1].range[1]]),void 0!==(m=this.performAction.call(k,r,c,o,this.yy,f[1],n,s)))return m;b&&(i=i.slice(0,-1*b*2),n=n.slice(0,-1*b),s=s.slice(0,-1*b)),i.push(this.productions_[f[1]][0]),n.push(k.$),s.push(k._$),b=a[i[i.length-2]][i[i.length-1]],i.push(b);break;case 3:return!0}}return!0}})},emu:{rules:[2],inclusive:!1},com:{rules:[3],inclusive:!1},INITIAL:{rules:[0,1,32],inclusive:!0}}},t.lexer=e,new((i.prototype=t).Parser=i)}(),g=function(){"use strict";var t={},e=n,i=u;return t.parser=e,t.parse=function(t){return t.constructor===i.ProgramNode?t:(e.yy=i,e.parse(t))},t}(),f=function(){"use strict";var t={},o=p;function e(){}return(t.Compiler=e).prototype={compiler:e,disassemble:function(){for(var t,e,i=this.opcodes,n=[],s=0,a=i.length;s<a;s++)if("DECLARE"===(t=i[s]).opcode)n.push("DECLARE "+t.name+"="+t.value);else{for(var r=[],o=0;o<t.args.length;o++)"string"==typeof(e=t.args[o])&&(e='"'+e.replace("\n","\\n")+'"'),r.push(e);n.push(t.opcode+" "+r.join(" "))}return n.join("\n")},equals:function(t){var e=this.opcodes.length;if(t.opcodes.length!==e)return!1;for(var i=0;i<e;i++){var n=this.opcodes[i],s=t.opcodes[i];if(n.opcode!==s.opcode||n.args.length!==s.args.length)return!1;for(var a=0;a<n.args.length;a++)if(n.args[a]!==s.args[a])return!1}if(e=this.children.length,t.children.length!==e)return!1;for(i=0;i<e;i++)if(!this.children[i].equals(t.children[i]))return!1;return!0},guid:0,compile:function(t,e){this.opcodes=[],this.children=[],this.depths={list:[]},this.options=e;var i=this.options.knownHelpers;if(this.options.knownHelpers={helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0},i)for(var n in i)this.options.knownHelpers[n]=i[n];return this.accept(t)},accept:function(t){var e=t.strip||{};return e.left&&this.opcode("strip"),t=this[t.type](t),e.right&&this.opcode("strip"),t},program:function(t){for(var e=t.statements,i=0,n=e.length;i<n;i++)this.accept(e[i]);return this.isSimple=1===n,this.depths.list=this.depths.list.sort(function(t,e){return t-e}),this},compileProgram:function(t){var e,i=(new this.compiler).compile(t,this.options),t=this.guid++;this.usePartial=this.usePartial||i.usePartial;for(var n=0,s=(this.children[t]=i).depths.list.length;n<s;n++)(e=i.depths.list[n])<2||this.addDepth(e-1);return t},block:function(t){var e=t.mustache,i=t.program,n=t.inverse,i=i&&this.compileProgram(i),n=n&&this.compileProgram(n),t=e.sexpr,e=this.classifySexpr(t);"helper"===e?this.helperSexpr(t,i,n):"simple"===e?(this.simpleSexpr(t),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("blockValue")):(this.ambiguousSexpr(t,i,n),this.opcode("pushProgram",i),this.opcode("pushProgram",n),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},hash:function(t){var e,i,n=t.pairs;this.opcode("pushHash");for(var s=0,a=n.length;s<a;s++)i=(e=n[s])[1],this.options.stringParams?(i.depth&&this.addDepth(i.depth),this.opcode("getContext",i.depth||0),this.opcode("pushStringParam",i.stringModeValue,i.type),"sexpr"===i.type&&this.sexpr(i)):this.accept(i),this.opcode("assignToHash",e[0]);this.opcode("popHash")},partial:function(t){var e=t.partialName;this.usePartial=!0,t.context?this.ID(t.context):this.opcode("push","depth0"),this.opcode("invokePartial",e.name),this.opcode("append")},content:function(t){this.opcode("appendContent",t.string)},mustache:function(t){this.sexpr(t.sexpr),t.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},ambiguousSexpr:function(t,e,i){var n=t.id,s=n.parts[0],t=null!=e||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",e),this.opcode("pushProgram",i),this.opcode("invokeAmbiguous",s,t)},simpleSexpr:function(t){t=t.id;"DATA"===t.type?this.DATA(t):t.parts.length?this.ID(t):(this.addDepth(t.depth),this.opcode("getContext",t.depth),this.opcode("pushContext")),this.opcode("resolvePossibleLambda")},helperSexpr:function(t,e,i){e=this.setupFullMustacheParams(t,e,i),i=t.id.parts[0];if(this.options.knownHelpers[i])this.opcode("invokeKnownHelper",e.length,i);else{if(this.options.knownHelpersOnly)throw new o("You specified knownHelpersOnly, but used the unknown helper "+i,t);this.opcode("invokeHelper",e.length,i,t.isRoot)}},sexpr:function(t){var e=this.classifySexpr(t);"simple"===e?this.simpleSexpr(t):"helper"===e?this.helperSexpr(t):this.ambiguousSexpr(t)},ID:function(t){this.addDepth(t.depth),this.opcode("getContext",t.depth),t.parts[0]?this.opcode("lookupOnContext",t.parts[0]):this.opcode("pushContext");for(var e=1,i=t.parts.length;e<i;e++)this.opcode("lookup",t.parts[e])},DATA:function(t){if(this.options.data=!0,t.id.isScoped||t.id.depth)throw new o("Scoped data references are not supported: "+t.original,t);this.opcode("lookupData");for(var e=t.id.parts,i=0,n=e.length;i<n;i++)this.opcode("lookup",e[i])},STRING:function(t){this.opcode("pushString",t.string)},INTEGER:function(t){this.opcode("pushLiteral",t.integer)},BOOLEAN:function(t){this.opcode("pushLiteral",t.bool)},comment:function(){},opcode:function(t){this.opcodes.push({opcode:t,args:[].slice.call(arguments,1)})},declare:function(t,e){this.opcodes.push({opcode:"DECLARE",name:t,value:e})},addDepth:function(t){0!==t&&(this.depths[t]||(this.depths[t]=!0,this.depths.list.push(t)))},classifySexpr:function(t){var e=t.isHelper,i=t.eligibleHelper,n=this.options;return i&&!e&&(t=t.id.parts[0],n.knownHelpers[t]?e=!0:n.knownHelpersOnly&&(i=!1)),e?"helper":i?"ambiguous":"simple"},pushParams:function(t){for(var e,i=t.length;i--;)e=t[i],this.options.stringParams?(e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",e.stringModeValue,e.type),"sexpr"===e.type&&this.sexpr(e)):this[e.type](e)},setupFullMustacheParams:function(t,e,i){var n=t.params;return this.pushParams(n),this.opcode("pushProgram",e),this.opcode("pushProgram",i),t.hash?this.hash(t.hash):this.opcode("emptyHash"),n}},t.precompile=function(t,e,i){if(null==t||"string"!=typeof t&&t.constructor!==i.AST.ProgramNode)throw new o("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+t);return"data"in(e=e||{})||(e.data=!0),t=i.parse(t),t=(new i.Compiler).compile(t,e),(new i.JavaScriptCompiler).compile(t,e)},t.compile=function(n,s,a){if(null==n||"string"!=typeof n&&n.constructor!==a.AST.ProgramNode)throw new o("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+n);var r;return"data"in(s=s||{})||(s.data=!0),function(t,e){var i;return r||(i=a.parse(n),i=(new a.Compiler).compile(i,s),i=(new a.JavaScriptCompiler).compile(i,s,void 0,!0),r=a.template(i)),r.call(this,t,e)}},t}(),m=function(){"use strict";var t=d.COMPILER_REVISION,e=d.REVISION_CHANGES,o=d.log,c=p;function l(t){this.value=t}function n(){}n.prototype={nameLookup:function(t,e){var i;return 0===t.indexOf("depth")&&(i=!0),e=/^[0-9]+$/.test(e)?t+"["+e+"]":n.isValidJavaScriptVariableName(e)?t+"."+e:t+"['"+e+"']",i?"("+t+" && "+e+")":e},compilerInfo:function(){return"this.compilerInfo = ["+t+",'"+e[t]+"'];\n"},appendToBuffer:function(t){return this.environment.isSimple?"return "+t+";":{appendToBuffer:!0,content:t,toString:function(){return"buffer += "+t+";"}}},initializeBuffer:function(){return this.quotedString("")},namespace:"Handlebars",compile:function(t,e,i,n){this.environment=t,this.options=e||{},o("debug",this.environment.disassemble()+"\n\n"),this.name=this.environment.name,this.isChild=!!i,this.context=i||{programs:[],environments:[],aliases:{}},this.preamble(),this.stackSlot=0,this.stackVars=[],this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.compileChildren(t,e);var s,a=t.opcodes;this.i=0;for(var r=a.length;this.i<r;this.i++)"DECLARE"===(s=a[this.i]).opcode?this[s.name]=s.value:this[s.opcode].apply(this,s.args),s.opcode!==this.stripNext&&(this.stripNext=!1);if(this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new c("Compile completed with content left on stack");return this.createFunctionContext(n)},preamble:function(){var t,e,i=[];this.isChild?i.push(""):(e="helpers = this.merge(helpers, "+(t=this.namespace)+".helpers);",this.environment.usePartial&&(e=e+" partials = this.merge(partials, "+t+".partials);"),this.options.data&&(e+=" data = data || {};"),i.push(e)),this.environment.isSimple?i.push(""):i.push(", buffer = "+this.initializeBuffer()),this.lastContext=0,this.source=i},createFunctionContext:function(t){var e=this.stackVars.concat(this.registers.list);if(0<e.length&&(this.source[1]=this.source[1]+", "+e.join(", ")),!this.isChild)for(var i in this.context.aliases)this.context.aliases.hasOwnProperty(i)&&(this.source[1]=this.source[1]+", "+i+"="+this.context.aliases[i]);this.source[1]&&(this.source[1]="var "+this.source[1].substring(2)+";"),this.isChild||(this.source[1]+="\n"+this.context.programs.join("\n")+"\n"),this.environment.isSimple||this.pushSource("return buffer;");for(var n=this.isChild?["depth0","data"]:["Handlebars","depth0","helpers","partials","data"],s=0,a=this.environment.depths.list.length;s<a;s++)n.push("depth"+this.environment.depths.list[s]);e=this.mergeSource();if(this.isChild||(e=this.compilerInfo()+e),t)return n.push(e),Function.apply(this,n);e="function "+(this.name||"")+"("+n.join(",")+") {\n  "+e+"}";return o("debug",e+"\n\n"),e},mergeSource:function(){for(var t,e="",i=0,n=this.source.length;i<n;i++){var s=this.source[i];s.appendToBuffer?t=t?t+"\n    + "+s.content:s.content:(t&&(e+="buffer += "+t+";\n  ",t=void 0),e+=s+"\n  ")}return e},blockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var e=["depth0"];this.setupParams(0,e),this.replaceStack(function(t){return e.splice(1,0,t),"blockHelperMissing.call("+e.join(", ")+")"})},ambiguousBlockValue:function(){this.context.aliases.blockHelperMissing="helpers.blockHelperMissing";var t=["depth0"];this.setupParams(0,t);var e=this.topStack();t.splice(1,0,e),this.pushSource("if (!"+this.lastHelper+") { "+e+" = blockHelperMissing.call("+t.join(", ")+"); }")},appendContent:function(t){this.pendingContent&&(t=this.pendingContent+t),this.stripNext&&(t=t.replace(/^\s+/,"")),this.pendingContent=t},strip:function(){this.pendingContent&&(this.pendingContent=this.pendingContent.replace(/\s+$/,"")),this.stripNext="strip"},append:function(){this.flushInline();var t=this.popStack();this.pushSource("if("+t+" || "+t+" === 0) { "+this.appendToBuffer(t)+" }"),this.environment.isSimple&&this.pushSource("else { "+this.appendToBuffer("''")+" }")},appendEscaped:function(){this.context.aliases.escapeExpression="this.escapeExpression",this.pushSource(this.appendToBuffer("escapeExpression("+this.popStack()+")"))},getContext:function(t){this.lastContext!==t&&(this.lastContext=t)},lookupOnContext:function(t){this.push(this.nameLookup("depth"+this.lastContext,t,"context"))},pushContext:function(){this.pushStackLiteral("depth"+this.lastContext)},resolvePossibleLambda:function(){this.context.aliases.functionType='"function"',this.replaceStack(function(t){return"typeof "+t+" === functionType ? "+t+".apply(depth0) : "+t})},lookup:function(e){this.replaceStack(function(t){return t+" == null || "+t+" === false ? "+t+" : "+this.nameLookup(t,e,"context")})},lookupData:function(){this.pushStackLiteral("data")},pushStringParam:function(t,e){this.pushStackLiteral("depth"+this.lastContext),this.pushString(e),"sexpr"!==e&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(){this.pushStackLiteral("{}"),this.options.stringParams&&(this.push("{}"),this.push("{}"))},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:[],types:[],contexts:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.options.stringParams&&(this.push("{"+t.contexts.join(",")+"}"),this.push("{"+t.types.join(",")+"}")),this.push("{\n    "+t.values.join(",\n    ")+"\n  }")},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},push:function(t){return this.inlineStack.push(t),t},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},invokeHelper:function(t,e,i){this.context.aliases.helperMissing="helpers.helperMissing",this.useRegister("helper");t=this.lastHelper=this.setupHelper(t,e,!0),e=this.nameLookup("depth"+this.lastContext,e,"context"),e="helper = "+t.name+" || "+e;t.paramsInit&&(e+=","+t.paramsInit),this.push("("+e+",helper ? helper.call("+t.callParams+") : helperMissing.call("+t.helperMissingParams+"))"),i||this.flushInline()},invokeKnownHelper:function(t,e){e=this.setupHelper(t,e);this.push(e.name+".call("+e.callParams+")")},invokeAmbiguous:function(t,e){this.context.aliases.functionType='"function"',this.useRegister("helper"),this.emptyHash();var i=this.setupHelper(0,t,e),n=this.lastHelper=this.nameLookup("helpers",t,"helper"),e=this.nameLookup("depth"+this.lastContext,t,"context"),t=this.nextStack();i.paramsInit&&this.pushSource(i.paramsInit),this.pushSource("if (helper = "+n+") { "+t+" = helper.call("+i.callParams+"); }"),this.pushSource("else { helper = "+e+"; "+t+" = typeof helper === functionType ? helper.call("+i.callParams+") : helper; }")},invokePartial:function(t){t=[this.nameLookup("partials",t,"partial"),"'"+t+"'",this.popStack(),"helpers","partials"];this.options.data&&t.push("data"),this.context.aliases.self="this",this.push("self.invokePartial("+t.join(", ")+")")},assignToHash:function(t){var e,i,n=this.popStack();this.options.stringParams&&(i=this.popStack(),e=this.popStack());var s=this.hash;e&&s.contexts.push("'"+t+"': "+e),i&&s.types.push("'"+t+"': "+i),s.values.push("'"+t+"': ("+n+")")},compiler:n,compileChildren:function(t,e){for(var i=t.children,n=0,s=i.length;n<s;n++){var a=i[n],r=new this.compiler,o=this.matchExistingProgram(a);null==o?(this.context.programs.push(""),o=this.context.programs.length,a.index=o,a.name="program"+o,this.context.programs[o]=r.compile(a,e,this.context),this.context.environments[o]=a):(a.index=o,a.name="program"+o)}},matchExistingProgram:function(t){for(var e=0,i=this.context.environments.length;e<i;e++){var n=this.context.environments[e];if(n&&n.equals(t))return e}},programExpression:function(t){if(this.context.aliases.self="this",null==t)return"self.noop";for(var e,t=this.environment.children[t],i=t.depths.list,n=[t.index,t.name,"data"],s=0,a=i.length;s<a;s++)1===(e=i[s])?n.push("depth0"):n.push("depth"+(e-1));return(0===i.length?"self.program(":"self.programWithDepth(")+n.join(", ")+")"},register:function(t,e){this.useRegister(t),this.pushSource(t+" = "+e+";")},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},pushStackLiteral:function(t){return this.push(new l(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.quotedString(this.pendingContent))),this.pendingContent=void 0),t&&this.source.push(t)},pushStack:function(t){this.flushInline();var e=this.incrStack();return t&&this.pushSource(e+" = "+t+";"),this.compileStack.push(e),e},replaceStack:function(t){var e,i,n,s,a,r="",o=this.isInline();o?(i=this.popStack(!0))instanceof l?(a=i.value,e=!0):(s=(n=!this.stackSlot)?this.incrStack():this.topStackName(),r="("+this.push(s)+" = "+i+"),",a=this.topStack()):a=this.topStack();t=t.call(this,a);return o?(e||this.popStack(),n&&this.stackSlot--,this.push("("+r+t+")")):(/^stack/.test(a)||(a=this.nextStack()),this.pushSource(a+" = ("+r+t+");")),a},nextStack:function(){return this.pushStack()},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;if(t.length){this.inlineStack=[];for(var e=0,i=t.length;e<i;e++){var n=t[e];n instanceof l?this.compileStack.push(n):this.pushStack(n)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var e=this.isInline(),i=(e?this.inlineStack:this.compileStack).pop();if(!t&&i instanceof l)return i.value;if(!e){if(!this.stackSlot)throw new c("Invalid stack pop");this.stackSlot--}return i},topStack:function(t){var e=this.isInline()?this.inlineStack:this.compileStack,e=e[e.length-1];return!t&&e instanceof l?e.value:e},quotedString:function(t){return'"'+t.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},setupHelper:function(t,e,i){var n=[];return{params:n,paramsInit:this.setupParams(t,n,i),name:this.nameLookup("helpers",e,"helper"),callParams:["depth0"].concat(n).join(", "),helperMissingParams:i&&["depth0",this.quotedString(e)].concat(n).join(", ")}},setupOptions:function(t,e){var i,n,s,a=[],r=[],o=[];a.push("hash:"+this.popStack()),this.options.stringParams&&(a.push("hashTypes:"+this.popStack()),a.push("hashContexts:"+this.popStack())),n=this.popStack(),((s=this.popStack())||n)&&(s||(this.context.aliases.self="this",s="self.noop"),n||(this.context.aliases.self="this",n="self.noop"),a.push("inverse:"+n),a.push("fn:"+s));for(var c=0;c<t;c++)i=this.popStack(),e.push(i),this.options.stringParams&&(o.push(this.popStack()),r.push(this.popStack()));return this.options.stringParams&&(a.push("contexts:["+r.join(",")+"]"),a.push("types:["+o.join(",")+"]")),this.options.data&&a.push("data:data"),a},setupParams:function(t,e,i){t="{"+this.setupOptions(t,e).join(",")+"}";return i?(this.useRegister("options"),e.push("options"),"options="+t):(e.push(t),"")}};for(var i="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield".split(" "),s=n.RESERVED_WORDS={},a=0,r=i.length;a<r;a++)s[i[a]]=!0;return n.isValidJavaScriptVariableName=function(t){return!(n.RESERVED_WORDS[t]||!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t))},n}();return function(){"use strict";function t(){var i=d();return i.compile=function(t,e){return o(t,e,i)},i.precompile=function(t,e){return c(t,e,i)},i.AST=n,i.Compiler=r,i.JavaScriptCompiler=l,i.Parser=s,i.parse=a,i}var e=i,n=u,s=g.parser,a=g.parse,r=f.Compiler,o=f.compile,c=f.precompile,l=m,d=e.create;return(e=t()).create=t,e}()}();function base64_encode(t){var e,i,n,s,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",r=0,o=0,c="",l=[];if(!(t=unescape(encodeURIComponent(t))))return t;for(;e=(s=t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<8|t.charCodeAt(r++))>>18&63,i=s>>12&63,n=s>>6&63,s=63&s,l[o++]=a.charAt(e)+a.charAt(i)+a.charAt(n)+a.charAt(s),r<t.length;);var c=l.join(""),d=t.length%3;return(d?c.slice(0,d-3):c)+"===".slice(d||3)}function base64_decode(t){var e,i,n,s,a,r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o=0,c=0,l="",d=[];if(!t)return t;for(t+="";e=(a=r.indexOf(t.charAt(o++))<<18|r.indexOf(t.charAt(o++))<<12|(n=r.indexOf(t.charAt(o++)))<<6|(s=r.indexOf(t.charAt(o++))))>>16&255,i=a>>8&255,a=255&a,d[c++]=64==n?String.fromCharCode(e):64==s?String.fromCharCode(e,i):String.fromCharCode(e,i,a),o<t.length;);return l=(l=d.join("")).replace(/\0+$/,""),decodeURIComponent(escape(l))}!function(o){var t,e,i=0,n=/^ui-id-\d+$/;function s(t,e){var i,n,s=t.nodeName.toLowerCase();return"area"===s?(n=(i=t.parentNode).name,!(!t.href||!n||"map"!==i.nodeName.toLowerCase())&&(!!(n=o("img[usemap=#"+n+"]")[0])&&a(n))):(/input|select|textarea|button|object/.test(s)?!t.disabled:"a"===s&&t.href||e)&&a(t)}function a(t){return o.expr.filters.visible(t)&&!o(t).parents().addBack().filter(function(){return"hidden"===o.css(this,"visibility")}).length}o.ui=o.ui||{},o.extend(o.ui,{version:"1.10.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),o.fn.extend({focus:(t=o.fn.focus,function(e,i){return"number"==typeof e?this.each(function(){var t=this;setTimeout(function(){o(t).focus(),i&&i.call(t)},e)}):t.apply(this,arguments)}),scrollParent:function(){var t=(o.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(o.css(this,"position"))&&/(auto|scroll)/.test(o.css(this,"overflow")+o.css(this,"overflow-y")+o.css(this,"overflow-x"))}):this.parents().filter(function(){return/(auto|scroll)/.test(o.css(this,"overflow")+o.css(this,"overflow-y")+o.css(this,"overflow-x"))})).eq(0);return/fixed/.test(this.css("position"))||!t.length?o(document):t},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var e,i,n=o(this[0]);n.length&&n[0]!==document;){if(e=n.css("position"),("absolute"===e||"relative"===e||"fixed"===e)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){n.test(this.id)&&o(this).removeAttr("id")})}}),o.extend(o.expr[":"],{data:o.expr.createPseudo?o.expr.createPseudo(function(e){return function(t){return!!o.data(t,e)}}):function(t,e,i){return!!o.data(t,i[3])},focusable:function(t){return s(t,!isNaN(o.attr(t,"tabindex")))},tabbable:function(t){var e=o.attr(t,"tabindex"),i=isNaN(e);return(i||0<=e)&&s(t,!i)}}),o("<a>").outerWidth(1).jquery||o.each(["Width","Height"],function(t,i){var s="Width"===i?["Left","Right"]:["Top","Bottom"],n=i.toLowerCase(),a={innerWidth:o.fn.innerWidth,innerHeight:o.fn.innerHeight,outerWidth:o.fn.outerWidth,outerHeight:o.fn.outerHeight};function r(t,e,i,n){return o.each(s,function(){e-=parseFloat(o.css(t,"padding"+this))||0,i&&(e-=parseFloat(o.css(t,"border"+this+"Width"))||0),n&&(e-=parseFloat(o.css(t,"margin"+this))||0)}),e}o.fn["inner"+i]=function(t){return void 0===t?a["inner"+i].call(this):this.each(function(){o(this).css(n,r(this,t)+"px")})},o.fn["outer"+i]=function(t,e){return"number"!=typeof t?a["outer"+i].call(this,t):this.each(function(){o(this).css(n,r(this,t,!0,e)+"px")})}}),o.fn.addBack||(o.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),o("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(o.fn.removeData=(e=o.fn.removeData,function(t){return arguments.length?e.call(this,o.camelCase(t)):e.call(this)})),o.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),o.support.selectstart="onselectstart"in document.createElement("div"),o.fn.extend({disableSelection:function(){return this.bind((o.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),o.extend(o.ui,{plugin:{add:function(t,e,i){var n,s=o.ui[t].prototype;for(n in i)s.plugins[n]=s.plugins[n]||[],s.plugins[n].push([e,i[n]])},call:function(t,e,i){var n,s=t.plugins[e];if(s&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;n<s.length;n++)t.options[s[n][0]]&&s[n][1].apply(t.element,i)}},hasScroll:function(t,e){if("hidden"===o(t).css("overflow"))return!1;var i=e&&"left"===e?"scrollLeft":"scrollTop",e=!1;return 0<t[i]||(t[i]=1,e=0<t[i],t[i]=0,e)}})}(jQuery),function(w,c){w.extend(w.ui,{datepicker:{version:"1.10.4"}});var s,o="datepicker";function t(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},w.extend(this._defaults,this.regional[""]),this.dpDiv=i(w("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(t){var e="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return t.delegate(e,"mouseout",function(){w(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&w(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&w(this).removeClass("ui-datepicker-next-hover")}).delegate(e,"mouseover",function(){w.datepicker._isDisabledDatepicker((s.inline?t.parent():s.input)[0])||(w(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),w(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&w(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&w(this).addClass("ui-datepicker-next-hover"))})}function l(t,e){for(var i in w.extend(t,e),e)null==e[i]&&(t[i]=e[i]);return t}w.extend(t.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return l(this._defaults,t||{}),this},_attachDatepicker:function(t,e){var i,n=t.nodeName.toLowerCase(),s="div"===n||"span"===n;t.id||(this.uuid+=1,t.id="dp"+this.uuid),(i=this._newInst(w(t),s)).settings=w.extend({},e||{}),"input"===n?this._connectDatepicker(t,i):s&&this._inlineDatepicker(t,i)},_newInst:function(t,e){return{id:t[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:t,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:e,dpDiv:e?i(w("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(t,e){var i=w(t);e.append=w([]),e.trigger=w([]),i.hasClass(this.markerClassName)||(this._attachments(i,e),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(e),w.data(t,o,e),e.settings.disabled&&this._disableDatepicker(t))},_attachments:function(t,e){var i,n=this._get(e,"appendText"),s=this._get(e,"isRTL");e.append&&e.append.remove(),n&&(e.append=w("<span class='"+this._appendClass+"'>"+n+"</span>"),t[s?"before":"after"](e.append)),t.unbind("focus",this._showDatepicker),e.trigger&&e.trigger.remove(),"focus"!==(i=this._get(e,"showOn"))&&"both"!==i||t.focus(this._showDatepicker),"button"!==i&&"both"!==i||(n=this._get(e,"buttonText"),i=this._get(e,"buttonImage"),e.trigger=w(this._get(e,"buttonImageOnly")?w("<img/>").addClass(this._triggerClass).attr({src:i,alt:n,title:n}):w("<button type='button'></button>").addClass(this._triggerClass).html(i?w("<img/>").attr({src:i,alt:n,title:n}):n)),t[s?"before":"after"](e.trigger),e.trigger.click(function(){return w.datepicker._datepickerShowing&&w.datepicker._lastInput===t[0]?w.datepicker._hideDatepicker():(w.datepicker._datepickerShowing&&w.datepicker._lastInput!==t[0]&&w.datepicker._hideDatepicker(),w.datepicker._showDatepicker(t[0])),!1}))},_autoSize:function(t){var e,i,n,s,a,r;this._get(t,"autoSize")&&!t.inline&&(a=new Date(2009,11,20),(r=this._get(t,"dateFormat")).match(/[DM]/)&&(e=function(t){for(s=n=i=0;s<t.length;s++)t[s].length>i&&(i=t[s].length,n=s);return n},a.setMonth(e(this._get(t,r.match(/MM/)?"monthNames":"monthNamesShort"))),a.setDate(e(this._get(t,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-a.getDay())),t.input.attr("size",this._formatDate(t,a).length))},_inlineDatepicker:function(t,e){var i=w(t);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(e.dpDiv),w.data(t,o,e),this._setDate(e,this._getDefaultDate(e),!0),this._updateDatepicker(e),this._updateAlternate(e),e.settings.disabled&&this._disableDatepicker(t),e.dpDiv.css("display","block"))},_dialogDatepicker:function(t,e,i,n,s){var a,r=this._dialogInst;return r||(this.uuid+=1,a="dp"+this.uuid,this._dialogInput=w("<input type='text' id='"+a+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),w("body").append(this._dialogInput),(r=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},w.data(this._dialogInput[0],o,r)),l(r.settings,n||{}),e=e&&e.constructor===Date?this._formatDate(r,e):e,this._dialogInput.val(e),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(a=document.documentElement.clientWidth,n=document.documentElement.clientHeight,e=document.documentElement.scrollLeft||document.body.scrollLeft,s=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+e,n/2-150+s]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),r.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),w.blockUI&&w.blockUI(this.dpDiv),w.data(this._dialogInput[0],o,r),this},_destroyDatepicker:function(t){var e,i=w(t),n=w.data(t,o);i.hasClass(this.markerClassName)&&(e=t.nodeName.toLowerCase(),w.removeData(t,o),"input"===e?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==e&&"span"!==e||i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var t,i=w(e),n=w.data(e,o);i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!1,n.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==t&&"span"!==t||((i=i.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=w.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var t,i=w(e),n=w.data(e,o);i.hasClass(this.markerClassName)&&("input"===(t=e.nodeName.toLowerCase())?(e.disabled=!0,n.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==t&&"span"!==t||((i=i.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=w.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(t){try{return w.data(t,o)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(t,e,i){var n,s,a,r,o=this._getInst(t);if(2===arguments.length&&"string"==typeof e)return"defaults"===e?w.extend({},w.datepicker._defaults):o?"all"===e?w.extend({},o.settings):this._get(o,e):null;n=e||{},"string"==typeof e&&((n={})[e]=i),o&&(this._curInst===o&&this._hideDatepicker(),s=this._getDateDatepicker(t,!0),a=this._getMinMaxDate(o,"min"),r=this._getMinMaxDate(o,"max"),l(o.settings,n),null!==a&&n.dateFormat!==c&&n.minDate===c&&(o.settings.minDate=this._formatDate(o,a)),null!==r&&n.dateFormat!==c&&n.maxDate===c&&(o.settings.maxDate=this._formatDate(o,r)),"disabled"in n&&(n.disabled?this._disableDatepicker(t):this._enableDatepicker(t)),this._attachments(w(t),o),this._autoSize(o),this._setDate(o,s),this._updateAlternate(o),this._updateDatepicker(o))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){t=this._getInst(t);t&&this._updateDatepicker(t)},_setDateDatepicker:function(t,e){t=this._getInst(t);t&&(this._setDate(t,e),this._updateDatepicker(t),this._updateAlternate(t))},_getDateDatepicker:function(t,e){t=this._getInst(t);return t&&!t.inline&&this._setDateFromField(t,e),t?this._getDate(t):null},_doKeyDown:function(t){var e,i,n=w.datepicker._getInst(t.target),s=!0,a=n.dpDiv.is(".ui-datepicker-rtl");if(n._keyEvent=!0,w.datepicker._datepickerShowing)switch(t.keyCode){case 9:w.datepicker._hideDatepicker(),s=!1;break;case 13:return(i=w("td."+w.datepicker._dayOverClass+":not(."+w.datepicker._currentClass+")",n.dpDiv))[0]&&w.datepicker._selectDay(t.target,n.selectedMonth,n.selectedYear,i[0]),(e=w.datepicker._get(n,"onSelect"))?(i=w.datepicker._formatDate(n),e.apply(n.input?n.input[0]:null,[i,n])):w.datepicker._hideDatepicker(),!1;case 27:w.datepicker._hideDatepicker();break;case 33:w.datepicker._adjustDate(t.target,t.ctrlKey?-w.datepicker._get(n,"stepBigMonths"):-w.datepicker._get(n,"stepMonths"),"M");break;case 34:w.datepicker._adjustDate(t.target,t.ctrlKey?+w.datepicker._get(n,"stepBigMonths"):+w.datepicker._get(n,"stepMonths"),"M");break;case 35:(t.ctrlKey||t.metaKey)&&w.datepicker._clearDate(t.target),s=t.ctrlKey||t.metaKey;break;case 36:(t.ctrlKey||t.metaKey)&&w.datepicker._gotoToday(t.target),s=t.ctrlKey||t.metaKey;break;case 37:(t.ctrlKey||t.metaKey)&&w.datepicker._adjustDate(t.target,a?1:-1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&w.datepicker._adjustDate(t.target,t.ctrlKey?-w.datepicker._get(n,"stepBigMonths"):-w.datepicker._get(n,"stepMonths"),"M");break;case 38:(t.ctrlKey||t.metaKey)&&w.datepicker._adjustDate(t.target,-7,"D"),s=t.ctrlKey||t.metaKey;break;case 39:(t.ctrlKey||t.metaKey)&&w.datepicker._adjustDate(t.target,a?-1:1,"D"),s=t.ctrlKey||t.metaKey,t.originalEvent.altKey&&w.datepicker._adjustDate(t.target,t.ctrlKey?+w.datepicker._get(n,"stepBigMonths"):+w.datepicker._get(n,"stepMonths"),"M");break;case 40:(t.ctrlKey||t.metaKey)&&w.datepicker._adjustDate(t.target,7,"D"),s=t.ctrlKey||t.metaKey;break;default:s=!1}else 36===t.keyCode&&t.ctrlKey?w.datepicker._showDatepicker(this):s=!1;s&&(t.preventDefault(),t.stopPropagation())},_doKeyPress:function(t){var e,i=w.datepicker._getInst(t.target);if(w.datepicker._get(i,"constrainInput"))return e=w.datepicker._possibleChars(w.datepicker._get(i,"dateFormat")),i=String.fromCharCode(null==t.charCode?t.keyCode:t.charCode),t.ctrlKey||t.metaKey||i<" "||!e||-1<e.indexOf(i)},_doKeyUp:function(t){var e=w.datepicker._getInst(t.target);if(e.input.val()!==e.lastVal)try{w.datepicker.parseDate(w.datepicker._get(e,"dateFormat"),e.input?e.input.val():null,w.datepicker._getFormatConfig(e))&&(w.datepicker._setDateFromField(e),w.datepicker._updateAlternate(e),w.datepicker._updateDatepicker(e))}catch(t){}return!0},_showDatepicker:function(t){var e,i,n,s;"input"!==(t=t.target||t).nodeName.toLowerCase()&&(t=w("input",t.parentNode)[0]),w.datepicker._isDisabledDatepicker(t)||w.datepicker._lastInput===t||(s=w.datepicker._getInst(t),w.datepicker._curInst&&w.datepicker._curInst!==s&&(w.datepicker._curInst.dpDiv.stop(!0,!0),s&&w.datepicker._datepickerShowing&&w.datepicker._hideDatepicker(w.datepicker._curInst.input[0])),!1!==(i=(n=w.datepicker._get(s,"beforeShow"))?n.apply(t,[t,s]):{})&&(l(s.settings,i),s.lastVal=null,w.datepicker._lastInput=t,w.datepicker._setDateFromField(s),w.datepicker._inDialog&&(t.value=""),w.datepicker._pos||(w.datepicker._pos=w.datepicker._findPos(t),w.datepicker._pos[1]+=t.offsetHeight),e=!1,w(t).parents().each(function(){return!(e|="fixed"===w(this).css("position"))}),n={left:w.datepicker._pos[0],top:w.datepicker._pos[1]},w.datepicker._pos=null,s.dpDiv.empty(),s.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),w.datepicker._updateDatepicker(s),n=w.datepicker._checkOffset(s,n,e),s.dpDiv.css({position:w.datepicker._inDialog&&w.blockUI?"static":e?"fixed":"absolute",display:"none",left:n.left+"px",top:n.top+"px"}),s.inline||(i=w.datepicker._get(s,"showAnim"),n=w.datepicker._get(s,"duration"),s.dpDiv.zIndex(w(t).zIndex()+1),w.datepicker._datepickerShowing=!0,w.effects&&w.effects.effect[i]?s.dpDiv.show(i,w.datepicker._get(s,"showOptions"),n):s.dpDiv[i||"show"](i?n:null),w.datepicker._shouldFocusInput(s)&&s.input.focus(),w.datepicker._curInst=s)))},_updateDatepicker:function(t){this.maxRows=4,(s=t).dpDiv.empty().append(this._generateHTML(t)),this._attachHandlers(t),t.dpDiv.find("."+this._dayOverClass+" a").mouseover();var e,i=this._getNumberOfMonths(t),n=i[1];t.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<n&&t.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",17*n+"em"),t.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),t.dpDiv[(this._get(t,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),t===w.datepicker._curInst&&w.datepicker._datepickerShowing&&w.datepicker._shouldFocusInput(t)&&t.input.focus(),t.yearshtml&&(e=t.yearshtml,setTimeout(function(){e===t.yearshtml&&t.yearshtml&&t.dpDiv.find("select.ui-datepicker-year:first").replaceWith(t.yearshtml),e=t.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(t,e,i){var n=t.dpDiv.outerWidth(),s=t.dpDiv.outerHeight(),a=t.input?t.input.outerWidth():0,r=t.input?t.input.outerHeight():0,o=document.documentElement.clientWidth+(i?0:w(document).scrollLeft()),c=document.documentElement.clientHeight+(i?0:w(document).scrollTop());return e.left-=this._get(t,"isRTL")?n-a:0,e.left-=i&&e.left===t.input.offset().left?w(document).scrollLeft():0,e.top-=i&&e.top===t.input.offset().top+r?w(document).scrollTop():0,e.left-=Math.min(e.left,e.left+n>o&&n<o?Math.abs(e.left+n-o):0),e.top-=Math.min(e.top,e.top+s>c&&s<c?Math.abs(s+r):0),e},_findPos:function(t){for(var e=this._getInst(t),i=this._get(e,"isRTL");t&&("hidden"===t.type||1!==t.nodeType||w.expr.filters.hidden(t));)t=t[i?"previousSibling":"nextSibling"];return[(e=w(t).offset()).left,e.top]},_hideDatepicker:function(t){var e,i,n=this._curInst;!n||t&&n!==w.data(t,o)||this._datepickerShowing&&(e=this._get(n,"showAnim"),i=this._get(n,"duration"),t=function(){w.datepicker._tidyDialog(n)},w.effects&&(w.effects.effect[e]||w.effects[e])?n.dpDiv.hide(e,w.datepicker._get(n,"showOptions"),i,t):n.dpDiv["slideDown"===e?"slideUp":"fadeIn"===e?"fadeOut":"hide"](e?i:null,t),e||t(),this._datepickerShowing=!1,(t=this._get(n,"onClose"))&&t.apply(n.input?n.input[0]:null,[n.input?n.input.val():"",n]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),w.blockUI&&(w.unblockUI(),w("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(t){var e;w.datepicker._curInst&&(e=w(t.target),t=w.datepicker._getInst(e[0]),(e[0].id===w.datepicker._mainDivId||0!==e.parents("#"+w.datepicker._mainDivId).length||e.hasClass(w.datepicker.markerClassName)||e.closest("."+w.datepicker._triggerClass).length||!w.datepicker._datepickerShowing||w.datepicker._inDialog&&w.blockUI)&&(!e.hasClass(w.datepicker.markerClassName)||w.datepicker._curInst===t)||w.datepicker._hideDatepicker())},_adjustDate:function(t,e,i){var n=w(t),t=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(t,e+("M"===i?this._get(t,"showCurrentAtPos"):0),i),this._updateDatepicker(t))},_gotoToday:function(t){var e=w(t),i=this._getInst(e[0]);this._get(i,"gotoCurrent")&&i.currentDay?(i.selectedDay=i.currentDay,i.drawMonth=i.selectedMonth=i.currentMonth,i.drawYear=i.selectedYear=i.currentYear):(t=new Date,i.selectedDay=t.getDate(),i.drawMonth=i.selectedMonth=t.getMonth(),i.drawYear=i.selectedYear=t.getFullYear()),this._notifyChange(i),this._adjustDate(e)},_selectMonthYear:function(t,e,i){var n=w(t),t=this._getInst(n[0]);t["selected"+("M"===i?"Month":"Year")]=t["draw"+("M"===i?"Month":"Year")]=parseInt(e.options[e.selectedIndex].value,10),this._notifyChange(t),this._adjustDate(n)},_selectDay:function(t,e,i,n){var s=w(t);w(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(s[0])||((s=this._getInst(s[0])).selectedDay=s.currentDay=w("a",n).html(),s.selectedMonth=s.currentMonth=e,s.selectedYear=s.currentYear=i,this._selectDate(t,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(t){t=w(t);this._selectDate(t,"")},_selectDate:function(t,e){var i=w(t),t=this._getInst(i[0]);e=null!=e?e:this._formatDate(t),t.input&&t.input.val(e),this._updateAlternate(t),(i=this._get(t,"onSelect"))?i.apply(t.input?t.input[0]:null,[e,t]):t.input&&t.input.trigger("change"),t.inline?this._updateDatepicker(t):(this._hideDatepicker(),this._lastInput=t.input[0],"object"!=typeof t.input[0]&&t.input.focus(),this._lastInput=null)},_updateAlternate:function(t){var e,i,n,s=this._get(t,"altField");s&&(e=this._get(t,"altFormat")||this._get(t,"dateFormat"),i=this._getDate(t),n=this.formatDate(e,i,this._getFormatConfig(t)),w(s).each(function(){w(this).val(n)}))},noWeekends:function(t){t=t.getDay();return[0<t&&t<6,""]},iso8601Week:function(t){var e=new Date(t.getTime());return e.setDate(e.getDate()+4-(e.getDay()||7)),t=e.getTime(),e.setMonth(0),e.setDate(1),Math.floor(Math.round((t-e)/864e5)/7)+1},parseDate:function(e,s,t){if(null==e||null==s)throw"Invalid arguments";if(""===(s="object"==typeof s?s.toString():s+""))return null;function a(t){return(t=k+1<e.length&&e.charAt(k+1)===t)&&k++,t}function i(t){var e=a(t),t=new RegExp("^\\d{1,"+("@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2)+"}");if(!(t=s.substring(d).match(t)))throw"Missing number at position "+d;return d+=t[0].length,parseInt(t[0],10)}function n(t,e,i){var n=-1,e=w.map(a(t)?i:e,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(w.each(e,function(t,e){var i=e[1];if(s.substr(d,i.length).toLowerCase()===i.toLowerCase())return n=e[0],d+=i.length,!1}),-1!==n)return n+1;throw"Unknown name at position "+d}function r(){if(s.charAt(d)!==e.charAt(k))throw"Unexpected literal at position "+d;d++}for(var o,c,l,d=0,u=(t?t.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,p=(t?t.dayNames:null)||this._defaults.dayNames,g=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,f=(t?t.monthNames:null)||this._defaults.monthNames,m=-1,_=-1,b=-1,v=-1,y=!1,k=0;k<e.length;k++)if(y)"'"!==e.charAt(k)||a("'")?r():y=!1;else switch(e.charAt(k)){case"d":b=i("d");break;case"D":n("D",h,p);break;case"o":v=i("o");break;case"m":_=i("m");break;case"M":_=n("M",g,f);break;case"y":m=i("y");break;case"@":m=(l=new Date(i("@"))).getFullYear(),_=l.getMonth()+1,b=l.getDate();break;case"!":m=(l=new Date((i("!")-this._ticksTo1970)/1e4)).getFullYear(),_=l.getMonth()+1,b=l.getDate();break;case"'":a("'")?r():y=!0;break;default:r()}if(d<s.length&&(c=s.substr(d),!/^\s+/.test(c)))throw"Extra/unparsed characters found in date: "+c;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=u?0:-100)),-1<v)for(_=1,b=v;;){if(b<=(o=this._getDaysInMonth(m,_-1)))break;_++,b-=o}if((l=this._daylightSavingAdjust(new Date(m,_-1,b))).getFullYear()!==m||l.getMonth()+1!==_||l.getDate()!==b)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(e,t,i){if(!t)return"";function s(t){return(t=r+1<e.length&&e.charAt(r+1)===t)&&r++,t}function n(t,e,i){var n=""+e;if(s(t))for(;n.length<i;)n="0"+n;return n}function a(t,e,i,n){return(s(t)?n:i)[e]}var r,o=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,c=(i?i.dayNames:null)||this._defaults.dayNames,l=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,d=(i?i.monthNames:null)||this._defaults.monthNames,u="",h=!1;if(t)for(r=0;r<e.length;r++)if(h)"'"!==e.charAt(r)||s("'")?u+=e.charAt(r):h=!1;else switch(e.charAt(r)){case"d":u+=n("d",t.getDate(),2);break;case"D":u+=a("D",t.getDay(),o,c);break;case"o":u+=n("o",Math.round((new Date(t.getFullYear(),t.getMonth(),t.getDate()).getTime()-new Date(t.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=n("m",t.getMonth()+1,2);break;case"M":u+=a("M",t.getMonth(),l,d);break;case"y":u+=s("y")?t.getFullYear():(t.getYear()%100<10?"0":"")+t.getYear()%100;break;case"@":u+=t.getTime();break;case"!":u+=1e4*t.getTime()+this._ticksTo1970;break;case"'":s("'")?u+="'":h=!0;break;default:u+=e.charAt(r)}return u},_possibleChars:function(e){function t(t){return(t=s+1<e.length&&e.charAt(s+1)===t)&&s++,t}for(var i="",n=!1,s=0;s<e.length;s++)if(n)"'"!==e.charAt(s)||t("'")?i+=e.charAt(s):n=!1;else switch(e.charAt(s)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":t("'")?i+="'":n=!0;break;default:i+=e.charAt(s)}return i},_get:function(t,e){return(t.settings[e]!==c?t.settings:this._defaults)[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,s=this._getDefaultDate(t),a=s,r=this._getFormatConfig(t);try{a=this.parseDate(i,n,r)||s}catch(t){n=e?"":n}t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),t.currentDay=n?a.getDate():0,t.currentMonth=n?a.getMonth():0,t.currentYear=n?a.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(o,t,e){var i,n,t=null==t||""===t?e:"string"==typeof t?function(t){try{return w.datepicker.parseDate(w.datepicker._get(o,"dateFormat"),t,w.datepicker._getFormatConfig(o))}catch(t){}for(var e=(t.toLowerCase().match(/^c/)?w.datepicker._getDate(o):null)||new Date,i=e.getFullYear(),n=e.getMonth(),s=e.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,r=a.exec(t);r;){switch(r[2]||"d"){case"d":case"D":s+=parseInt(r[1],10);break;case"w":case"W":s+=7*parseInt(r[1],10);break;case"m":case"M":n+=parseInt(r[1],10),s=Math.min(s,w.datepicker._getDaysInMonth(i,n));break;case"y":case"Y":i+=parseInt(r[1],10),s=Math.min(s,w.datepicker._getDaysInMonth(i,n))}r=a.exec(t)}return new Date(i,n,s)}(t):"number"==typeof t?isNaN(t)?e:(i=t,(n=new Date).setDate(n.getDate()+i),n):new Date(t.getTime());return(t=t&&"Invalid Date"===t.toString()?e:t)&&(t.setHours(0),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0)),this._daylightSavingAdjust(t)},_daylightSavingAdjust:function(t){return t?(t.setHours(12<t.getHours()?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,s=t.selectedMonth,a=t.selectedYear,e=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=e.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=e.getMonth(),t.drawYear=t.selectedYear=t.currentYear=e.getFullYear(),s===t.selectedMonth&&a===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(t){var e=this._get(t,"stepMonths"),i="#"+t.id.replace(/\\\\/g,"\\");t.dpDiv.find("[data-handler]").map(function(){var t={prev:function(){w.datepicker._adjustDate(i,-e,"M")},next:function(){w.datepicker._adjustDate(i,+e,"M")},hide:function(){w.datepicker._hideDatepicker()},today:function(){w.datepicker._gotoToday(i)},selectDay:function(){return w.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return w.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return w.datepicker._selectMonthYear(i,this,"Y"),!1}};w(this).bind(this.getAttribute("data-event"),t[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,s,a,r,o,c,l,d,u,h,p,g,f,m,_,b,v,y,k,w,x,S,D,C,I,N,T,M,E,A,O=new Date,j=this._daylightSavingAdjust(new Date(O.getFullYear(),O.getMonth(),O.getDate())),P=this._get(t,"isRTL"),L=this._get(t,"showButtonPanel"),H=this._get(t,"hideIfNoPrevNext"),$=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),F=this._get(t,"showCurrentAtPos"),O=this._get(t,"stepMonths"),R=1!==q[0]||1!==q[1],z=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(t,"min"),Y=this._getMinMaxDate(t,"max"),B=t.drawMonth-F,V=t.drawYear;if(B<0&&(B+=12,V--),Y)for(e=this._daylightSavingAdjust(new Date(Y.getFullYear(),Y.getMonth()-q[0]*q[1]+1,Y.getDate())),e=K&&e<K?K:e;this._daylightSavingAdjust(new Date(V,B,1))>e;)--B<0&&(B=11,V--);for(t.drawMonth=B,t.drawYear=V,F=this._get(t,"prevText"),F=$?this.formatDate(F,this._daylightSavingAdjust(new Date(V,B-O,1)),this._getFormatConfig(t)):F,i=this._canAdjustMonth(t,-1,V,B)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+F+"'><span class='ui-icon ui-icon-circle-triangle-"+(P?"e":"w")+"'>"+F+"</span></a>":H?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+F+"'><span class='ui-icon ui-icon-circle-triangle-"+(P?"e":"w")+"'>"+F+"</span></a>",F=this._get(t,"nextText"),F=$?this.formatDate(F,this._daylightSavingAdjust(new Date(V,B+O,1)),this._getFormatConfig(t)):F,n=this._canAdjustMonth(t,1,V,B)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+F+"'><span class='ui-icon ui-icon-circle-triangle-"+(P?"w":"e")+"'>"+F+"</span></a>":H?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+F+"'><span class='ui-icon ui-icon-circle-triangle-"+(P?"w":"e")+"'>"+F+"</span></a>",H=this._get(t,"currentText"),F=this._get(t,"gotoCurrent")&&t.currentDay?z:j,H=$?this.formatDate(H,F,this._getFormatConfig(t)):H,$=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",$=L?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(P?$:"")+(this._isInRange(t,F)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+H+"</button>":"")+(P?"":$)+"</div>":"",s=parseInt(this._get(t,"firstDay"),10),s=isNaN(s)?0:s,a=this._get(t,"showWeek"),r=this._get(t,"dayNames"),o=this._get(t,"dayNamesMin"),c=this._get(t,"monthNames"),l=this._get(t,"monthNamesShort"),d=this._get(t,"beforeShowDay"),u=this._get(t,"showOtherMonths"),h=this._get(t,"selectOtherMonths"),p=this._getDefaultDate(t),g="",m=0;m<q[0];m++){for(_="",this.maxRows=4,b=0;b<q[1];b++){if(v=this._daylightSavingAdjust(new Date(V,B,t.selectedDay)),y=" ui-corner-all",k="",R){if(k+="<div class='ui-datepicker-group",1<q[1])switch(b){case 0:k+=" ui-datepicker-group-first",y=" ui-corner-"+(P?"right":"left");break;case q[1]-1:k+=" ui-datepicker-group-last",y=" ui-corner-"+(P?"left":"right");break;default:k+=" ui-datepicker-group-middle",y=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+y+"'>"+(/all|left/.test(y)&&0===m?P?n:i:"")+(/all|right/.test(y)&&0===m?P?i:n:"")+this._generateMonthYearHeader(t,B,V,K,Y,0<m||0<b,c,l)+"</div><table class='ui-datepicker-calendar'><thead><tr>",w=a?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",f=0;f<7;f++)w+="<th"+(5<=(f+s+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+r[x=(f+s)%7]+"'>"+o[x]+"</span></th>";for(k+=w+"</tr></thead><tbody>",D=this._getDaysInMonth(V,B),V===t.selectedYear&&B===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,D)),S=(this._getFirstDayOfMonth(V,B)-s+7)%7,D=Math.ceil((S+D)/7),C=R&&this.maxRows>D?this.maxRows:D,this.maxRows=C,I=this._daylightSavingAdjust(new Date(V,B,1-S)),N=0;N<C;N++){for(k+="<tr>",T=a?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(I)+"</td>":"",f=0;f<7;f++)M=d?d.apply(t.input?t.input[0]:null,[I]):[!0,""],A=(E=I.getMonth()!==B)&&!h||!M[0]||K&&I<K||Y&&Y<I,T+="<td class='"+(5<=(f+s+6)%7?" ui-datepicker-week-end":"")+(E?" ui-datepicker-other-month":"")+(I.getTime()===v.getTime()&&B===t.selectedMonth&&t._keyEvent||p.getTime()===I.getTime()&&p.getTime()===v.getTime()?" "+this._dayOverClass:"")+(A?" "+this._unselectableClass+" ui-state-disabled":"")+(E&&!u?"":" "+M[1]+(I.getTime()===z.getTime()?" "+this._currentClass:"")+(I.getTime()===j.getTime()?" ui-datepicker-today":""))+"'"+(E&&!u||!M[2]?"":" title='"+M[2].replace(/'/g,"&#39;")+"'")+(A?"":" data-handler='selectDay' data-event='click' data-month='"+I.getMonth()+"' data-year='"+I.getFullYear()+"'")+">"+(E&&!u?"&#xa0;":A?"<span class='ui-state-default'>"+I.getDate()+"</span>":"<a class='ui-state-default"+(I.getTime()===j.getTime()?" ui-state-highlight":"")+(I.getTime()===z.getTime()?" ui-state-active":"")+(E?" ui-priority-secondary":"")+"' href='#'>"+I.getDate()+"</a>")+"</td>",I.setDate(I.getDate()+1),I=this._daylightSavingAdjust(I);k+=T+"</tr>"}11<++B&&(B=0,V++),_+=k+="</tbody></table>"+(R?"</div>"+(0<q[0]&&b===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}g+=_}return g+=$,t._keyEvent=!1,g},_generateMonthYearHeader:function(t,e,i,n,s,a,r,o){var c,l,d,u,h,p,g,f=this._get(t,"changeMonth"),m=this._get(t,"changeYear"),_=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",v="";if(a||!f)v+="<span class='ui-datepicker-month'>"+r[e]+"</span>";else{for(c=n&&n.getFullYear()===i,l=s&&s.getFullYear()===i,v+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",d=0;d<12;d++)(!c||d>=n.getMonth())&&(!l||d<=s.getMonth())&&(v+="<option value='"+d+"'"+(d===e?" selected='selected'":"")+">"+o[d]+"</option>");v+="</select>"}if(_||(b+=v+(!a&&f&&m?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",a||!m)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),h=(new Date).getFullYear(),p=(r=function(t){t=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?h+parseInt(t,10):parseInt(t,10);return isNaN(t)?h:t})(u[0]),g=Math.max(p,r(u[1]||"")),p=n?Math.max(p,n.getFullYear()):p,g=s?Math.min(g,s.getFullYear()):g,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";p<=g;p++)t.yearshtml+="<option value='"+p+"'"+(p===i?" selected='selected'":"")+">"+p+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),_&&(b+=(!a&&f&&m?"":"&#xa0;")+v),b+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),s=t.drawMonth+("M"===i?e:0),e=Math.min(t.selectedDay,this._getDaysInMonth(n,s))+("D"===i?e:0),e=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,s,e)));t.selectedDay=e.getDate(),t.drawMonth=t.selectedMonth=e.getMonth(),t.drawYear=t.selectedYear=e.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),t=this._getMinMaxDate(t,"max"),e=i&&e<i?i:e;return t&&t<e?t:e},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){t=this._get(t,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var s=this._getNumberOfMonths(t),s=this._daylightSavingAdjust(new Date(i,n+(e<0?e:s[0]*s[1]),1));return e<0&&s.setDate(this._getDaysInMonth(s.getFullYear(),s.getMonth())),this._isInRange(t,s)},_isInRange:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),s=null,a=null,r=this._get(t,"yearRange");return r&&(t=r.split(":"),r=(new Date).getFullYear(),s=parseInt(t[0],10),a=parseInt(t[1],10),t[0].match(/[+\-].*/)&&(s+=r),t[1].match(/[+\-].*/)&&(a+=r)),(!i||e.getTime()>=i.getTime())&&(!n||e.getTime()<=n.getTime())&&(!s||e.getFullYear()>=s)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);e=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),e,this._getFormatConfig(t))}}),w.fn.datepicker=function(t){if(!this.length)return this;w.datepicker.initialized||(w(document).mousedown(w.datepicker._checkExternalClick),w.datepicker.initialized=!0),0===w("#"+w.datepicker._mainDivId).length&&w("body").append(w.datepicker.dpDiv);var e=Array.prototype.slice.call(arguments,1);return"string"==typeof t&&("isDisabled"===t||"getDate"===t||"widget"===t)||"option"===t&&2===arguments.length&&"string"==typeof arguments[1]?w.datepicker["_"+t+"Datepicker"].apply(w.datepicker,[this[0]].concat(e)):this.each(function(){"string"==typeof t?w.datepicker["_"+t+"Datepicker"].apply(w.datepicker,[this].concat(e)):w.datepicker._attachDatepicker(this,t)})},w.datepicker=new t,w.datepicker.initialized=!1,w.datepicker.uuid=(new Date).getTime(),w.datepicker.version="1.10.4"}(jQuery);let initDataSource;jQuery(document).ready(function(){let e;function s(t,a){var e=oc_ajax.oc_ajax_url||"";a.empty().append('<i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>').addClass("oc-test-result--loaded"),jQuery.post(e,t,null,"json").done(function(t){let e={ok:'<span class="icon icon--ok dashicons dashicons-yes-alt"></span>',warning:'<span class="icon icon--warning dashicons dashicons-warning"></span>',error:'<span class="icon icon--error dashicons dashicons-warning"></span>'},i=t.responseSubject,n=t.response,s;switch(t.responseType){case"OK":s=e.ok;break;case"WARNING":s=e.warning;break;case"ERROR":s=e.error;break;default:s=e.error,i="Unknown response type"}t="<p><strong>"+s+i+":</strong> "+n+"</p>";a.empty().append(t)})}function i(){var t="list"===function(t){let i=null;return t.each(function(t,e){e.checked&&(i=e.value)}),i}(e.find(".js-data_source"));e.find(".js-data_source_type_list").toggle(t),e.find(".js-data_source_type_query").toggle(!t),e.find(".js-oc-list").attr("required",t),e.find(".js-oc-query").attr("required",!t),e.find(".js-oc-query-sort").attr("required",!t)}function n(t){let e=jQuery(t.target).closest(".js-data_source_type_list"),i=e.find(".js-oc-test-result"),n=e.find(".js-oc-list").val();"0"===n?i.empty():s({action:"oc_client_validation",type:"list",data:{uuid:n}},i)}function a(t){t.preventDefault();let e=jQuery(t.target).closest(".js-data_source_type_query"),i={action:"oc_client_validation",type:"query",data:{query:e.find(".js-oc-query").val(),start:e.find(".js-oc-query-start").val(),limit:e.find(".js-oc-query-limit").val()}},n=e.find(".js-oc-test-result");s(i,n)}function r(t){t.preventDefault();let e=jQuery(t.target),i=e.closest(".js-linked-input-container"),n=e.attr("name"),s=e.val();i.find(`input[name="${n}"]`).not(e).each(function(t,e){$linkedInput=jQuery(e),$linkedInput.val()!==s&&$linkedInput.val(s)})}initDataSource=function(t){e=t,e.on("change",".js-data_source",null,i),e.on("change",".js-oc-list",null,n),e.on("click",".js-oc-query-test",null,a),e.on("change",".js-linked-input",null,r),i()}});var Everyware=Everyware||{},Exception=Exception||{NoDependencyException:function(t,e){"use strict";return{name:"NoDependencyException",message:"Couldn't find "+(t=t||"Dependency")+(e=e?" - "+e:"")}},LogException:function(t){"use strict";for(var e,i=t.length,n=0;n<i;n+=1)e=t[n],console.log(e.name+": %c"+e.message,"color: red")}};function exist(t){"use strict";return void 0!==window[t]}function checkEveryBoardDependency(){"use strict";var t,e=[];exist("jQuery")||(t=translation_boardadmin.error_jquery_not_found,e.push(Exception.NoDependencyException("jQuery",t))),exist("Everyware")||(t=translation_boardadmin.error_everywarejs_not_found,e.push(Exception.NoDependencyException("Everyware",t))),exist("Everyboard")||(t=translation_boardadmin.error_everyware_variable,e.push(Exception.NoDependencyException("Everyboard",t))),exist("ajaxurl")||(t=translation_boardadmin.error_ajaxurl_variable,e.push(Exception.NoDependencyException("ajaxurl",t))),exist("article_templates")||(t=translation_boardadmin.error_article_template_variable,e.push(Exception.NoDependencyException("article_templates",t))),exist("framework")||(t=translation_boardadmin.error_framework_variable,e.push(Exception.NoDependencyException("framework",t))),exist("Handlebars")||(t=translation_boardadmin.error_handlebars,e.push(Exception.NoDependencyException("Handlebars",t))),0<e.length&&Exception.LogException(e)}window.onload=checkEveryBoardDependency(),function(n,s){"use strict";n.fn.observer=function(e,i){n(this).each(function(){var t=this;n(s).on(e,t,function(){i.apply(t,arguments)})})}}(jQuery,document),function(_,c,e,i,a,t,n){"use strict";var s,l,r,o,d,b,u,h,p,g,f,m,v,y,k,w={isEmptyString:function(t){return 0===(t=t.replace(/^\s+|\s+$/,"")).length},exceedsStrLength:function(t,e){return(t=t.replace(/\s+/g," ")).length>e}};function x(){return t.parts}function S(){return c.globalsettings.oclists}function D(){return r=void 0===r?c.globalsettings.cssClasses:r}function C(t,e){var i,n=t.getSettings("layout"),s="";"None"===n&&"None"!==e&&(n=e,s=" <em>("+translation_boardadmin.template_inherited+")</em>"),s=translation_boardadmin.template_templatename+"<strong>"+(i=n,n=x(),0<(n=_.map(n,function(t,e){if(i.toLowerCase()===t.toLocaleLowerCase()||i.toLowerCase()===e.toLocaleLowerCase())return e})).length?n[0]:(console.log("Oc-template ( "+i+" ) doesn't exist"),null))+"</strong>"+s,t.find(".article_template_name").html(s)}function I(t){var i,e=t.getSettings();"col"===e.type?(i=e.layout,t.find(".article-preview").each(function(t,e){C(_(e),i)})):(i=t.closest(".col").getSettings("layout"),C(t,i))}function N(t,e,i){return void 0!==e&&void 0!==i?_.ajax({url:a,type:i,data:{action:"everyboard_api",route:e,data:t}}):_.ajax({url:a,type:"post",data:t})}function T(t,e,i){var n,s=_("#everyboard-message-wrapper");t=t||"updated","function"!=typeof i&&(i=function(){}),n=_("<div />").addClass(t).html("<p>"+e+"</p>").prependTo(s),s.show(),setTimeout(function(){i(n),s.fadeOut("slow",function(){s.html("")})},u)}function M(t,e){var i=(e=_(e)).find(".structure_item:not(.ui-sortable-helper, .ui-sortable-placeholder)"),n={index:t+1,width:e.data("width")||100,type:"col",settings:e.getSettings(),content:[]};return i.each(function(t,e){var i;n.content.push((i={index:(i=t)+1,type:e=(t=_(t=e)).data("type"),settings:t.getSettings()},"oc_article"===e&&t.data("uuid")&&(i.oc_uuid=t.data("uuid")),"widget"===e&&t.data("widgetid")&&(i.widget_id=t.data("widgetid")),i))}),n}function E(){return _("#title").val()}function A(){var n,t=(new Date).getTime(),e=d.find(".row.structure-item:not(.ui-sortable-helper, .ui-sortable-placeholder)");return v=t,n={board:E(),settings:d.getSettings(),date:t,rows:[],version:s},e.each(function(t,e){var i;n.rows.push((t=t,e=_(e=e),i={index:t+1,type:"row",settings:e.getSettings(),cols:[]},e.find(".col.structure-item:not(.ui-sortable-helper, .ui-sortable-placeholder)").each(function(t,e){i.cols.push(M(t,e))}),i))}),n}function O(e,i){var t,n;i&&T("updated",translation_boardadmin.board_json_saving+'... <i class="fa fa-spinner fa-spin"></i></div>',function(){}),t=A(),t={action:"save_board_json",post_id:p,board_json:JSON.stringify(t),json_name:e},n=_(".is_draft"),"everyboard_json_temp"===e?n.html("Unsaved changes in temp"):i&&n.html("Saving..."),_.post(a,t,function(t){i&&("success"===(t=_.trim(t))?"everyboard_json_temp"===e?T("updated","Board draft saved.",function(t){t.fadeOut(),_(".draft_message").fadeOut(),n.hide()}):N({action:"cpt_save_post",post_id:p,post_title:E(),post_tags:_('form#post textarea[name="tax_input[post_tag]"]').val(),is_shared:_('form#post #everyboard_share_meta input[name="board_is_shared"]').is(":checked")}).done(function(){T("updated","Board saved and published.",function(t){t.fadeOut(),_(".draft_message").fadeOut(),_(".is_draft").hide(),Et()})}):T("error","Content not changed / Could not save board data..",function(t){t.fadeOut()}))})}function j(t){O("everyboard_json_temp",t=void 0!==t&&t)}function P(){j(),O("everyboard_json",!0)}function L(){return{hidden:"false",removed:"false"}}function H(t,i){var n,s,a,e=t.find(":input:disabled").removeAttr("disabled");return t=t.serializeArray(),e.attr("disabled","disabled"),a={cssclass:""},i&&(a.devices={mobile:L(),tablet:L(),smallscreen:L(),largescreen:L()}),_.each(t,function(t,e){i&&/\[*\]/.test(e.name)?(n=e.name.split(/[\[\]]/),s=n[0],n=n[1],a.devices.hasOwnProperty(s)||(a.devices[s]={}),a.devices[s][n]=e.value):"cssclass"===e.name?a[e.name]=a[e.name]?a[e.name]+" "+e.value:e.value:a[e.name]=e.value}),a}function $(t){t.setHideEffectOnStructure(o),t.find(".col").each(function(t,e){q(_(e))})}function q(t){var i=o,e=t.getDeviceSettings(i).colspan,n=/(col-xs-[1-9]{1,12})/g;t.removeClass(function(t,e){return(e.match(n)||[]).join(" ")});var s=parseInt(e,10)/b*100;t.attr("style","width: "+s+"%"),t.find(".col-width").html(e),t.setHideEffectOnStructure(i),t.find(".structure-item").each(function(t,e){_(e).setHideEffectOnStructure(i)})}function F(){return c.globalsettings.boards}function R(){return c.globalsettings.networkBoards}function z(t){var e,i,n,s=t.getSettings("board_id"),a=t.getSettings("network_board_id"),r=t.find(".linked-board-message");0!==parseInt(s,10)||0!==parseInt(a,10)?0!==parseInt(s,10)?(e=(n=(n=s)||null)&&_.grep(F(),function(t){return t.name.toLocaleLowerCase()===n.toLocaleLowerCase()||parseInt(t.boardId,10)===parseInt(n,10)})[0],0!==(t=r.find("a")).length?i=t.attr("href"):(i=window.location.href,t=_('<a target="_blank"/>').text(e.name)),t.attr("href",i.replace(/post=(\d+)/,"post="+s)),r.html(translation_boardadmin.linked_board_widget_connected+": ").append(t)):0!==parseInt(a,10)&&(e=function(i){if(!(i=i||null))return i;var t=R(),n={},s="";return _(t).each(function(t,e){if(s=e.name,void 0!==(n=_.grep(e.boards,function(t){return t.name.toLocaleLowerCase()===i.toLocaleLowerCase()||parseInt(t.boardId,10)===parseInt(i,10)})[0]))return!1}),n.siteName=s,n}(a),r.html(translation_boardadmin.linked_board_widget_connected+": "+e.name+" "+translation_boardadmin.from+" "+e.siteName)):r.text(translation_boardadmin.linked_board_no_widget_connection+"...")}function K(t){var p,g,f,m=_(t.target).closest(".structure-item");m.removeClass("hidden-on-device").removeClass("removed-on-device"),t=m.showSettingsBox(),g=m.getSettings("type"),m.append(t),initDataSource(m),void 0===g&&(g=m.hasClass("oc_col")?"oc_col":m.hasClass("col")?"col":"row"),m.hasClass("row")&&m.on("click","#settingsbox-save-template",function(){var t,i,n;return n={settings:(t=m).getSettings(),cols:[]},t.find(".col").each(function(t,e){e=_(e),i={width:e.data("width")||100,settings:e.getSettings()},n.cols.push(i)}),N({row:n},"row/save","POST").done(function(t){T("updated","Row saved.",function(t){t.fadeOut()}),ot(t)}),!1}),(f=m.find("#board-settings")).on("submit",function(t){var e,i,n,s,a,r,o,c,l,d,u,h;return t.preventDefault(),t.stopPropagation(),p=H(f,"board"!==g),"col"===g?p.hiddenwrapper=p.hiddenwrapper||"false":"linked_widget"===g&&(p.network_board_source_render=p.network_board_source_render||"false"),!!function(t){if(!t.hasOwnProperty("name")||!w.isEmptyString(t.name))return t.hasOwnProperty("content")&&(t.content=base64_encode(t.content)),t.hasOwnProperty("devices")&&(t=t.devices,_.each(t,function(t,e){if(e.hasOwnProperty("colspan"))return w.isEmptyString(e.colspan)?(alert("Width is required on "+t),!1):parseInt(e.colspan,0)>b?(alert("The column width "+e.colspan+" on "+t+" exceeds the limit of "+b),!1):void 0})),1;alert("Name is required!")}(p)&&(m.updateSettings(p),"board"!==g&&(t=(h=m).getSettings(),h=h.find(".structure-item-name:first"),t.hasOwnProperty("name")&&0<t.name.length?h.html(t.name):h.html("Unnamed")),"linked_widget"===g&&z(m),"template_board_widget"===g&&(u=(d=m).getSettings(),d.find(".widget-content").append('<div class="ajax-loader"></div>'),_.post(ajaxurl,{action:"cpt_get_template_board_meta_content",settings:u},function(t){for(var e in d.find(".widget-content").html("<p>"+t.content.join("</p><p>")+"</p>"),t.variable_classes)!0===t.variable_classes[e]?d.addClass(e):d.removeClass(e)})),"embed_widget"===g&&(l=(c=m).find(".widget-content"),c=base64_decode(c.getSettings("content")),l.text(c).html()),"articlelist_widget"===g&&(u=(o=m).getSettings(),l=null,o.find(".articlelist-content").append('<div class="ajax-loader"></div>'),c=u.list,""!==u.network_list_site_id&&"0"!==u.network_list_site_id&&(l=u.network_list_site_id,c=u.network_list),_.post(ajaxurl,{action:"cpt_get_meta_content",listId:c,listPosition:u.listposition,listLimit:u.listlimit,siteId:l},function(t){o.find(".articlelist-content").html(t)})),"oclist_widget"===g&&(s=(n=m).getSettings(),a=n.closest(".col").getSettings(),(r=n.find(".structure-content")).append('<div class="ajax-loader"></div>'),_.post(ajaxurl,{action:"cpt_get_widget_meta_content",type:"oclist",settings:JSON.stringify(s),colSettings:JSON.stringify(a)},function(t){r.html(t.content),n.find(".structure-item-name").html(t.headline)})),"contentcontainer_widget"===g&&(s=(e=m).getSettings(),a=e.closest(".col").getSettings(),(i=e.find(".structure-content")).append('<div class="ajax-loader"></div>'),_.post(ajaxurl,{action:"cpt_get_widget_meta_content",type:"contentcontainer",settings:JSON.stringify(s),colSettings:JSON.stringify(a)},function(t){i.html(t.content),e.find(".structure-item-name").html(t.headline)})),"col"!==g&&"oc_article"!==g||I(m),"col"===g?q(m):"row"===g&&$(m),void j())})}function Y(t,e){e=e||{};e=_.extend({connectToSortable:"#everyboard_main_area",handle:"> .structure-drag-handle",cancel:".structure-action a",distance:2,helper:"clone",zIndex:1003,containment:"document",revert:"invalid",start:function(t,e){e.helper.addClass("structure-draggable-helper")},stop:function(t,e){e.helper.removeClass("structure-draggable-helper"),e.helper.removeAttr("style"),e.helper.css("width","100%")}},e),t.draggable(e)}function B(t){var e,i,n,s,a,r,o;void 0===t&&(t=0),o=_("#oc-search-form"),i=_("#search_query",o).val(),n=_('input[name="section"]',o).val(),a=_("#oc_search_sort",o).val(),s=_("#search_result"),e=_(".oc_search_ajax",o),r=_('input[name="pubdate_start"]',o).val(),o=_('input[name="pubdate_stop"]',o).val(),o={oc_query:i=(i=""===i?"*:*":i).trim()+" AND contenttype:Article",section:n,sorting:a,start:t,pubdate_start:r,pubdate_stop:o},e.show(),s.empty(),N(o,"search","POST").done(function(t){e.hide(),s.append(t),Y(f.find(".article_preview"),{connectToSortable:"#everyboard_main_area .col .structure-content",opacity:.7}),_(".pagination li a",s).click(function(){return B(_(this).data("start")),!1})})}function V(t,e){e=e||{};var i={items:"> .structure-item",handle:"> .structure-drag-handle",cancel:".structure-action a",opacity:.7,helper:"clone",tolerance:"pointer",scroll:!0,stop:function(t,e){_(".ui-sortable-helper","#everyboard_main_area").each(function(){_(this).remove()})}};return e=_.extend(i,e),t.sortable(e)}function W(t){V(t.find(".col > .structure-content:not(.ui-sortable)"),{connectWith:"#everyboard_main_area .col > .structure-content",beforeStop:function(t,e){e.item.attr("style","")},update:function(t,e){"oc_article"===e.item.getSettings("type")&&I(e.item),j()}})}function U(t,e){t.getDeviceSettings(o).colspan=e}function Q(t){return Math.round(t/h*b)}function J(t){var i,e;e=t,t=(t={start:function(t,e){tt(),i=Math.round(h/b),e.element.resizable("option",{grid:i,maxWidth:h})},resize:function(t,e){var i=e.element,n=Q(i.width());U(i,n),q(i),i.find(".col-width").html(n),e.helper.height(e.originalSize.height)},stop:function(t,e){var i=e.element,e=Q(i.width());U(i,e),q(i),i.find(".col-width").html(e),j()}})||{},t=_.extend({containment:"#everyboard_main_area .row .structure-content ",handles:"e"},t),e.resizable(t)}function G(t){J(t.find(".col:not(.ui-resizable)"))}function X(){var n,t=d.find(".row > .structure-content:not(.ui-sortable)");V(n=t,{items:"> .col",connectWith:"#everyboard_main_area .row > .structure-content",beforeStop:function(t,e){e=e.item;e.removeClass("is-sorting"),_(e).height("auto")},receive:function(t,e){W(n),G(n);var i=e.item,e=i.getDeviceSettings(o).colspan,e=parseInt(e,10)/b*100;i.attr("style","width: "+e+"%")},start:function(t,e){var i=e.item,n=i.getDeviceSettings(o).colspan,n=parseInt(n,10)/b*100;i.addClass("is-sorting"),e.placeholder.attr("style","width: "+n+"%")},update:function(){j()}}),W(t),G(t)}function Z(t){var e=_(t.currentTarget);e.siblings().removeClass("active-layout"),e.addClass("active-layout"),(e=e.data("device")||"smallscreen")!==o&&(o=e,d.find(".row").each(function(t,e){$(_(e))})),t.stopPropagation()}function tt(t){h=t||d.find(".row").innerWidth()}function et(){clearTimeout(g),g=setTimeout(tt,200)}function it(){}function nt(t){var e=_(t.target).closest(".structure-item").data("type"),i=translation_boardadmin.structure_item_remove_confirm,s=!1;"row"!==e&&"col"!==e||(n="col"===e?"board_confirm_delete_col":"board_confirm_delete_row",i="<p>"+translation_boardadmin.board_confirm_delete_sure+" "+translation_boardadmin[n]+"?</p>",i+='<p><input type="checkbox" id="confirm-delete-checkbox" class="confirm-delete-checkbox" />',i+='<label for="confirm-delete-checkbox">'+translation_boardadmin.board_confirm_delete_checkbox+"</label></p>",s=!0);var n={};return n[translation_boardadmin.button_cancel]=function(){_(this).dialog("close")},n[translation_boardadmin.button_ok]=function(){s&&!_("#modal-board-confirm .confirm-delete-checkbox").prop("checked")||(_(t.target).closest(".structure-item").remove(),j(),_(this).dialog("close"))},_("body").append('<div id="modal-board-confirm">'+i+"</div>"),_("#modal-board-confirm").dialog({dialogClass:"   wp-dialog",modal:!0,autoOpen:!0,closeOnEscape:!1,resizeable:!1,title:translation_boardadmin.board_confirm_delete,buttons:n,create:function(t,e){var i,n;s&&(i=_(".wp-dialog .ui-dialog-buttonset .ui-button:last"),n=_(".wp-dialog .confirm-delete-checkbox"),i.attr("disabled","disabled"),n.change(function(){this.checked?i.attr("disabled",!1):i.attr("disabled","disabled")}))},open:function(t,e){_(".wp-dialog .ui-dialog-titlebar-close").hide()},close:function(t,e){_(this).dialog("destroy").remove()}}),!1}function st(t){var e=_(t.target),t=e.data("query"),e=e.data("sorting");return _("#search_query").val(t),_("#oc_search_sort").val(e),B(),!1}function at(t){var e;return confirm(translation_boardadmin.query_remove_confirm)&&N({id:(e=_(t.currentTarget)).data("id")},"search/remove","POST").done(function(){e.closest(".list-item").fadeOut("slow").remove()}),!1}function rt(){var t=prompt("Name of query",""),e=_("#search_query").val(),i=_("#oc_search_sort").val();return confirm(translation_boardadmin.query_save_confirm)&&N({oc_query:e,sorting:i,name:t},"search/save","POST").done(function(t){T("updated","Search saved",function(t){t.fadeOut()}),m.find(".query-list").html(t)}),!1}function ot(t){_("#saved-templates-list").html(t).promise(Y(m.find(".saved-row:not(.ui-draggable)"),{connectToSortable:"#everyboard_main_area"}))}function ct(t){var e;return confirm(translation_boardadmin.remove_row_confirm)&&(e={remove_row_id:e=(t=_(t.target).closest(".row")).hasClass("saved-row")?t.data("rowid"):e},t.fadeOut(),N(e,"row/remove","POST").done(function(t){T("updated","Row removed",function(t){t.fadeOut()}),ot(t)})),!1}function lt(t){if("keypress"!==t.type||13===t.which)return B(),t.preventDefault(),!1}function dt(t){var e,i=_(t.currentTarget).val().toLowerCase(),t=_("#tab_widgets").find(".widget-list-container").not(".list-hidden");_("#tab_widgets").find(".board-widget").removeClass("hidden"),0<i.length?t.each(function(){var t=_(this);(e=t.find(".board-widget")).addClass("hidden"),e.filter(function(t,e){return-1<_(e).find(".structure-item-name").text().toLowerCase().indexOf(i)}).removeClass("hidden"),0===e.not(".hidden").length?t.addClass("hidden"):t.removeClass("hidden")}):(t.removeClass("hidden"),t.find(".board-widget").removeClass("hidden"))}function ut(t){var e,i;t.toggleClass("minimized"),i=t.find(".toggle_item"),t=(e=i).attr("src"),i=e.attr("rel"),e.attr("rel",t),e.attr("src",i)}function ht(t){var e=t.find(".col");t.find(".col.minimized").length===e.length?e.each(function(t,e){ut(_(e))}):e.each(function(t,e){(e=_(e)).hasClass("minimized")||ut(e)})}function pt(t){t=_(t.currentTarget).closest(".structure-item");t.hasClass("col")&&ut(t),t.hasClass("row")&&ht(t)}function gt(t){var e=_(t.currentTarget).hasClass("fa-chevron-up")?"hide":"show";_(t.currentTarget).toggleClass("fa-chevron-down").toggleClass("fa-chevron-up"),_("#tab_widgets").find(".widget-list-container").trigger(e+".eb.list")}function ft(){d=_("#everyboard_main_area"),o="smallscreen",h=tt(),u=2e3,p=_("#post_ID").val(),_("#title").val(),k=_(window),_(i),f=_("#postbox-container-1"),m=_("#tabs"),s=c.globalsettings.jsonFormatVersion,v=_('#everyboard_main_area input[name="board_initial_changedate"]').val(),y=!0,b=parseInt(n.columns,0),l=x(),r=D()}function mt(t){t.stopPropagation(),bt(_(t.currentTarget))}function _t(t){t=_(t.currentTarget);t.closest("#board-settings").trigger("submit"),t.is("#settingsbox-ok")&&bt(t)}function bt(t){t.closest(".structure-item").setHideEffectOnStructure(o),t.closest(".settingsbox-backdrop").remove()}function vt(t){t=_(t.currentTarget);t.removeClass("add-classbox").addClass("hide-classbox"),t.closest("#settingsbox").find(".classbox-content").removeClass("hidden")}function yt(t){t=_(t.currentTarget);_("#settingsbox-add-classbox").removeClass("hide-classbox").addClass("add-classbox"),t.closest("#settingsbox").find(".classbox-content").addClass("hidden")}function kt(t){var e=_(t.currentTarget),t=e.parent(),e=e.data("visualizer");_("#"+e).toggleClass("deactivated"),t.toggleClass("active-class")}function wt(t){var e,i,t=_(t.currentTarget);"linkable-board-selector"===t.attr("id")?(e=t,i=_("#linkable-network-board-selector")):"linkable-network-board-selector"===t.attr("id")&&(e=t,i=_("#linkable-board-selector")),""!==e.val()&&0!==e.val()&&"0"!==e.val()?i.prop("disabled","disabled"):i.prop("disabled",!1)}function xt(t){var e,i,t=_(t.currentTarget);t.hasClass("internal-selector")?(e=t,i=_(".external-selector")):t.hasClass("external-selector")&&(e=t,i=_(".internal-selector")),""!==e.val()&&0!==e.val()&&"0"!==e.val()?i.prop("disabled","disabled"):i.prop("disabled",!1)}function St(t){var e=_(t.currentTarget),t=_("#network-board-site-id"),e=e.find(":selected").data("board-site-id");t.val(e)}function Dt(t){var e=_(t.currentTarget),t=_("#network-site-id"),e=e.find(":selected").data("network-site-id");t.val(e)}function Ct(t){t=_(t.currentTarget).closest(".settingsbox-active-class").data("for");_("#"+t).trigger("click")}function It(){k.on("resize",et).on("scroll",it),i.addEventListener("keydown",function(t){y&&(83===t.keyCode&&(navigator.platform.match("Mac")?t.metaKey:t.ctrlKey)?(t.preventDefault(),P()):27!==t.keyCode||0<(t=_("#settingsbox-cancel")).length&&t.trigger("click"))},!1),_(i).on("heartbeat-send",function(t,e){e.cpt_action="cpt_check_temp_json",e.cpt_board_date=v,e.cpt_board_id=p}),_(i).on("heartbeat-tick",function(t,e){void 0!==e.board_temp_json&&"expired"===e.board_temp_json&&(y=!1,(e={})[translation_boardadmin.board_go_back]=function(){window.location.href=admin.boards_url},_("body").append('<div id="modal-board-changed">'+translation_boardadmin.board_changed_info+"</div>"),_("#modal-board-changed").dialog({dialogClass:"   wp-dialog",modal:!0,autoOpen:!0,closeOnEscape:!1,resizeable:!1,title:translation_boardadmin.board_changed,buttons:e,open:function(t,e){_(".wp-dialog .ui-dialog-titlebar-close").hide()}}))}),_("#post").on("submit",function(t){return t.preventDefault(),!1}),_("#save_board").on("click",function(){return j(!0),!1}),_("#publish").on("click",function(){return P(),!0}),_("#tab_structure").on("click",".remove_item",ct),_("#tab_articles").on("click",".prefab_search",st).on("click",".prefab_remove",at).on("click",".save_search",rt).on("click","#search_articles",lt).on("keypress","#search_query",lt).on("keypress",".input-section",lt).on("keypress",".input-date",lt).on("keypress","#oc_search_sort",lt),_("#tab_articles .input-date").datepicker({dateFormat:"yy-mm-dd",changeMonth:!0,changeYear:!0}),_("#everyboard_version_meta").on("click",".restore-version-link",Mt),_(".list-container").on("click",".list-toggler",function(t){_(t.delegateTarget).trigger("toggle.eb.list")}).on("toggle.eb.list",function(t){var e=_(t.currentTarget).hasClass("list-hidden")?"show":"hide";_(t.currentTarget).trigger(e+".eb.list")}).on("show.eb.list",function(t){_(t.currentTarget).removeClass("list-hidden").trigger("shown.eb.list")}).on("hide.eb.list",function(t){_(t.currentTarget).addClass("list-hidden").trigger("hidden.eb.list")}).on("hidden.eb.list",function(t){_(t.currentTarget).find(".list-toggler-icon").addClass("fa-chevron-down").removeClass("fa-chevron-up")}).on("shown.eb.list",function(t){_(t.currentTarget).find(".list-toggler-icon").removeClass("fa-chevron-down").addClass("fa-chevron-up")}),_("#tab_widgets").on("keyup blur focus","#widget_filter",dt).on("blur","#widget_filter",dt).on("click",".list-toggle-all-icon",gt),d.on("click",".remove_item",nt).on("click",".settings_item",K).on("click",".device-layout-icon",Z).on("click",".toggle_item",pt).on("mouseover",".row",function(){_(this).addClass("row_hover")}).on("mouseout",".row",function(){_(this).removeClass("row_hover")}).on("click","#settingsbox-cancel",mt).on("click","#settingsbox-apply",_t).on("click","#settingsbox-ok",_t).on("click","#settingsbox-classbox-done",yt).on("click",".add-classbox",vt).on("click",".hide-classbox",yt).on("click",".settingsbox-remove-class",Ct).on("change",".classbox-class input",kt).on("change","#linkable-board-selector, #linkable-network-board-selector",wt).on("change","#linkable-network-board-selector",St).on("change",".internal-selector, .external-selector",xt).on("change",".external-selector",Dt),_("#reload_preview").on("click",function(){return j(),!1}),_(i).bind("ebExternalArticleAdded",function(t){j()});var n=_("#search_query"),t=new Bloodhound({name:"ocSuggest",remote:{url:a+"?action=everyboard_api&route=suggest&data[field]=freetext",replace:function(t,e){return t+"&"+Nt(n,!0)},filter:function(t){if(!n.is(":focus"))return!1;var i=Nt(n,!0,!0);return _.map(t.terms,function(t,e){return{name:i.replace("[term]",t.name),freq:t.frequency}})}},datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.val())},queryTokenizer:Bloodhound.tokenizers.whitespace});t.initialize(),n.typeahead({highlight:!0,hint:!1},{displayKey:"name",source:t.ttAdapter(),templates:{suggestion:e.compile('<p class="suggestion-row">{{name}}<br /><span class="suggestion-meta">'+translation_boardadmin.bloodhound_hits+": {{freq}}</span></p>")}});var s=_('input[name="section"]',f),t=new Bloodhound({name:"ocSuggest",remote:{url:a+"?action=everyboard_api&route=suggest&data[field]=Section",replace:function(t,e){return t+"&"+Nt(s,!1)},filter:function(t){if(!s.is(":focus"))return!1;var i=Nt(s,!1,!0);return _.map(t.facetFields[0].terms,function(t,e){return{name:i.replace("[term]",t.name),freq:t.frequency}})}},datumTokenizer:function(t){return Bloodhound.tokenizers.whitespace(t.val())},queryTokenizer:Bloodhound.tokenizers.whitespace});t.initialize(),s.typeahead({highlight:!0,hint:!1},{displayKey:"name",source:t.ttAdapter(),templates:{suggestion:e.compile('<p class="suggestion-row">{{name}}<br /><span class="suggestion-meta">'+translation_boardadmin.bloodhound_hits+": {{freq}}</span></p>")}})}function Nt(t,e,i){void 0===i&&(i=!1);var n=function(t){var e=0;try{e=t[0].selectionStart}catch(t){return 0}return t.focus(),e}(t),s=t.val(),a="",r=_.trim(s),o=r.indexOf(" ",n);-1!==o&&(r=r.substring(0,o),r=_.trim(r));var c=r.lastIndexOf(" ");-1!==c&&(r=r.substring(c),r=_.trim(r)),s=s.replace(/\+/g,"\\+");try{var l=s.search(r);-1!==l&&(a=s.slice(0,l,l+r.length),a+=s.slice(l+r.length),a=_.trim(a))}catch(t){}var d=r.toLowerCase();d=(d=d.replace(/\\/g,"")).replace(/\+/g,"");n="";n+=e?"incompleteWordInText="+d:"incompleteWord="+d;o="",c=_("#oc-search-form"),e=_('input[name="pubdate_start"]',c).val(),d=_('input[name="pubdate_stop"]',c).val();""!==e&&""!==d&&(e=new Date(e),d=new Date(d),isNaN(e.getTime())||isNaN(d.getTime())||(o="Pubdate:["+(e=Tt(e))+" TO "+(d=Tt(d))+"]"));e=t.attr("name"),d="",t=_('input[name="search_query"]',c).val(),c=_('input[name="section"]',c).val();return"search_query"===e&&""!==c?d="Section:"+c:"section"===e&&""!==t&&(d="freetext:"+t),void 0!==a&&""!==a?(n+="&q="+a,""!==o&&(n+=" AND "+o),""!==d&&(n+=" AND "+d)):""!==o&&""!==d?n+="&q="+o+"AND "+d:""!==o?n+="&q="+o:""!==d&&(n+="&q="+d),i?s.replace(r,"[term]"):n}function Tt(t){var e=t.getUTCFullYear().toString(),i=(t.getUTCMonth()+1).toString(),n=t.getUTCDate().toString(),s=t.getUTCHours().toString(),a=t.getUTCMinutes().toString(),t=t.getUTCSeconds().toString(),n=e+"-"+(i[1]?i:"0"+i[0])+"-"+(n[1]?n:"0"+n[0])+"T";return n+=(s[1]?s:"0"+s[0])+":"+(a[1]?a:"0"+a[0])+":"+(t[1]?t:"0"+t[0])+"Z"}function Mt(t){var e=_(t.target).data("version-id"),t=_(t.target).text();return void 0!==e?confirm(translation_boardadmin.restore_boardversion_confirm+"("+t+")")&&N({boardId:p,versionId:e},"versions/restore","POST").done(function(t){"success"===t?location.reload():alert(translation_boardadmin.restore_boardversion_failure)}):alert(translation_boardadmin.restore_boardversion_failure),!1}function Et(){var d=_("#everyboard_version_meta .inside");d.empty(),d.append('<div class="loading"><i class="fa fa-spinner fa-spin"></i></div>'),N({boardId:p},"versions","GET").done(function(t){var e,i,n,s="";if(""!==t)try{for(var a=JSON.parse(t),r=0;r<a.length;r++){var o=JSON.parse(a[r].json),c=(c=new Date(parseInt(o.date,0)),l=o=n=l=i=e=void 0,e=c.getFullYear().toString(),i=(c.getMonth()+1).toString(),l=c.getDate().toString(),n=c.getHours().toString(),o=c.getMinutes().toString(),c=c.getSeconds().toString(),l=e+"-"+(i[1]?i:"0"+i[0])+"-"+(l[1]?l:"0"+l[0])+" ",l+=(n[1]?n:"0"+n[0])+":"+(o[1]?o:"0"+o[0])+":"+(c[1]?c:"0"+c[0])),l=a[r].id;s+="<p>",s+='<a href="#" data-version-id="'+l+'" class="restore-version-link">'+c+"</a>",s+="</p>"}}catch(t){console.log("Could not parse version data.")}else s+='<p class="description">',s+=translation_boardadmin.render_boardversion_no_earlier_versions,s+="</p>";d.empty().append(s)})}function At(){V(d,{items:"> .row",receive:function(t,e){X()},beforeStop:function(t,e){e.item.attr("style","")},update:function(){j()}}),X(),Y(m.find(".row:not(.ui-draggable)"),{connectToSortable:"#everyboard_main_area"}),Y(m.find(".column-wrapper .col:not(.ui-draggable)"),{connectToSortable:"#everyboard_main_area .row > .structure-content"}),Y(m.find(".board_widget:not(.ui-draggable)"),{connectToSortable:"#everyboard_main_area .col > .structure-content"}),V(m.find(".saved-search-queries"),{items:"> .saved_search_span",handle:!1}),m.tabs(),d.find(".row").each(function(t,e){$(_(e))}),Et()}function Ot(){ft(),_("#post").prepend('<div id="everyboard-message-wrapper"></div>'),It(),At()}e.registerHelper("compare",function(t,e,i,n){var s;if(arguments.length<3)throw new Error("Handlerbars Helper 'compare' needs 2 parameters");if(void 0===n&&(n=i,i=e,e="==="),!(s={"===":function(t,e){return t===e},"!==":function(t,e){return t!==e},"<":function(t,e){return t<e},">":function(t,e){return e<t},"<=":function(t,e){return t<=e},">=":function(t,e){return e<=t},typeof:function(t,e){return typeof t===e}})[e])throw new Error("Handlerbars Helper 'compare' doesn't know the operator "+e);return s[e](t,i)?n.fn(this):n.inverse(this)}),_.fn.templates={boardSettingsBoxTemplate:'<div class="settingsbox-backdrop"><div id="settingsbox"><div class="settingsbox-dialog"><div class="settingsbox-content"><form method="POST" role="form" id="board-settings"><div class="settingsbox-header {{type}}"><h3 class="settingsbox-title">'+translation_boardadmin.header_settings+'</h3></div>\x3c!-- /.settingsbox-header--\x3e<div class="settingsbox-body"><div class="form-group"><label class="control-label" for="structure-description">'+translation_boardadmin.label_description+': </label><textarea name="description" class="form-control"id="structure-description" placeholder="'+translation_boardadmin.placeholder_description+'">{{description}}</textarea></div><div class="settingsbox-field settingsbox-active-classes"><h3 class="settingsbox-field-header">'+translation_boardadmin.header_active_classes+'</h3><div class="settingsbox-active-classes-body">{{#each cssClasses}}<span data-for="structure-class-{{className}}" id="structure-class-{{className}}-visualizer"class="settingsbox-active-class{{#if active}}{{else}} deactivated{{/if}}">{{description}}<i class="fa fa-times settingsbox-remove-class"></i></span>{{/each}}<span id="settingsbox-add-classbox" class="add-classbox" title="'+translation_boardadmin.span_edit_classes+'"><i class="fa fa-cog"></i></span></div></div><br class="clearfix" /><div class="settingsbox-content classbox-content hidden"><div class="settingsbox-header"><h3 class="settingsbox-title classbox-title">'+translation_boardadmin.header_classlist+'</h3></div><div class="settingsbox-body classbox-body"><div class="classbox-class-container"><ul>{{#each cssClasses}}<li class="classbox-class{{#if active}} active-class{{/if}}"><input type="checkbox" data-visualizer="structure-class-{{className}}-visualizer" id="structure-class-{{className}}" name="cssclass" value="{{className}}"{{#if active}}checked="checked"{{/if}} /><label for="structure-class-{{className}}">{{description}}</label></li>{{/each}}</ul></div></div>\x3c!-- /.classbox-body--\x3e <div class="settingsbox-footer classbox-footer"><button type="button" role="button" id="settingsbox-classbox-done" title="'+translation_boardadmin.buttontitle_close_window+'" class="settingsbox-btn btn btn-default">'+translation_boardadmin.button_done+'</button></div>\x3c!-- /.classbox-footer--\x3e</div>\x3c!-- /.classbox-content --\x3e</div>\x3c!-- /.settingsbox-body --\x3e<div class="settingsbox-footer {{type}}"><button type="button" role="button" id="settingsbox-cancel" title="'+translation_boardadmin.buttontitle_close_without_save+'" class="settingsbox-btn btn btn-default">'+translation_boardadmin.button_cancel+'</button><button type="button" role="button" id="settingsbox-apply" title="'+translation_boardadmin.buttontitle_save_changes+'" class="settingsbox-btn btn btn-default">'+translation_boardadmin.button_apply+'</button><button type="button" role="button" id="settingsbox-ok" title="'+translation_boardadmin.buttontitle_save_changes_and_close+'" class="settingsbox-btn btn btn-primary">'+translation_boardadmin.button_ok+"</button></div>\x3c!-- /.settingsbox-footer--\x3e</form></div>\x3c!-- /.settingsbox-content --\x3e</div>\x3c!-- /.settingsbox-dialog --\x3e</div>\x3c!-- /#settingsbox --\x3e</div>\x3c!-- /.settingsbox-backdrop --\x3e",settingsBoxTemplate:'<div class="settingsbox-backdrop"><div id="settingsbox"><div class="settingsbox-dialog"><div class="settingsbox-content"><form method="POST" role="form" id="board-settings"><div class="settingsbox-header {{type}}"><h3 class="settingsbox-title">{{settingsBoxTitle}}</h3>{{#if articleTemplates }}<div class="settingsbox-header-selector"><label for="layout-selector">'+translation_boardadmin.label_active_layout+': </label><select name="layout" id="layout-selector">{{#each articleTemplates}}<option value="{{this}}" {{#compare this "===" ../layout}}selected="selected" {{/compare}}>{{@key}}</option>{{/each}}</select></div>{{/if}}</div>\x3c!-- /.settingsbox-header--\x3e<div class="settingsbox-body"><div><div class="form-group"><label class="control-label" for="structure-name">'+translation_boardadmin.label_name+': </label><input type="text" name="name" class="form-control" id="structure-name" placeholder="Name" value="{{name}}" /></div></div>{{#compare type "===" "linked_widget"}}<div class="form-group form-row"><div class="linked-board-container"><label for="linkable-board-selector">'+translation_boardadmin.label_linked_board+':</label><select class="control-label form-control" name="board_id" id="linkable-board-selector"{{#compare network_board_id "!==" 0}}disabled="disabled"{{/compare}}>{{#each boards}}<option value="{{boardId}}" {{#compare boardId "===" ../board_id}}selected="selected" {{/compare}}>{{name}}</option>{{/each}}</select></div><div class="linked-board-container"><label for="linkable-board-selector">'+translation_boardadmin.label_linked_network_board+':</label><select class="control-label form-control" name="network_board_id" id="linkable-network-board-selector"{{#compare board_id "!==" 0}}disabled="disabled"{{/compare}}>{{#each networkBoards}}{{#compare name "!==" ""}}<optgroup label="{{name}}">{{/compare}}>{{#each boards}}<option value="{{boardId}}" data-board-site-id="{{../siteId}}" {{#compare boardId "===" ../../network_board_id}}selected="selected" {{/compare}}>{{name}}</option>{{/each}}{{#compare name "!==" ""}}</optgroup>{{/compare}}>{{/each}}</select><div class="form-group"><p><input type="checkbox" name="network_board_source_render" id="linkable-network-board-source-render" value="true" {{#compare network_board_source_render "===" "true"}}checked="checked" {{/compare}}/><label for="linkable-network-board-source-render">'+translation_boardadmin.board_render_from_source+'</label></p></div><input type="hidden" name="network_board_site_id" id="network-board-site-id" value="{{network_board_site_id}}" /></div></div>{{/compare}}{{#compare type "===" "template_board_widget"}}<div class="form-group form-row"><div class="linked-board-container"><label for="linkable-board-selector">'+translation_boardadmin.label_linked_template_board+':</label><select class="control-label form-control" name="board_id" id="linkable-board-selector"{{#compare network_board_id "!==" 0}}disabled="disabled"{{/compare}}>{{#each boards}}<option value="{{boardId}}" {{#compare boardId "===" ../board_id}}selected="selected" {{/compare}}>{{name}}</option>{{/each}}</select></div><div class="linked-board-container"><label for="linkable-board-selector">'+translation_boardadmin.label_linked_network_template_board+':</label><select class="control-label form-control" name="network_board_id" id="linkable-network-board-selector"{{#compare board_id "!==" 0}}disabled="disabled"{{/compare}}>{{#each networkBoards}}{{#compare name "!==" ""}}<optgroup label="{{name}}">{{/compare}}>{{#each boards}}<option value="{{boardId}}" data-board-site-id="{{../siteId}}" {{#compare boardId "===" ../../network_board_id}}selected="selected" {{/compare}}>{{name}}</option>{{/each}}{{#compare name "!==" ""}}</optgroup>{{/compare}}>{{/each}}</select><input type="hidden" name="network_board_site_id" id="network-board-site-id" value="{{network_board_site_id}}" /></div></div><div class="form-group data-source"><label>'+translation_boardadmin.label_data_source+':</label><table class="form-table js-linked-input-container"><tbody><tr class="data-source"><td width="25%"><p><label><input name="data_source" type="radio" value="list" class="js-data_source"{{#compare data_source "===" "list"}} checked{{/compare}}>'+translation_boardadmin.label_oc_list+'</label></p><p><label><input name="data_source" type="radio" value="query" class="js-data_source"{{#compare data_source "===" "query"}} checked{{/compare}}>'+translation_boardadmin.label_oc_query+'</label></p></td><td width="75%"><div class="js-data_source_type_list"><table><tr><td colspan="2"><label for="list">'+translation_boardadmin.label_oc_list+'</label><br><select name="list" id="list-selector" class="form-control js-oc-list"><option value="">-- '+translation_boardadmin.placeholder_oc_list+' --</option>{{#each ocArticleLists}}<option value="{{@key}}" {{#compare @key "===" ../list}}selected="selected" {{/compare}}>{{this}}</option>{{/each}}</select></td></tr><tr><td colspan="3"><div class="js-oc-test-result"></div></td></tr><tr><td width="25%"><label for="list-position">'+translation_boardadmin.label_oc_query_start+':</label><br><input name="oc_query_start" id="list-position" type="number" min="1" class="form-control js-oc-query-start js-linked-input" value="{{oc_query_start}}"></td><td width="25%"><label for="list-limit">'+translation_boardadmin.label_oc_query_limit+':</label><br><input name="oc_query_limit" id="list-limit" type="number" min="1" class="form-control js-oc-query-limit js-linked-input" value="{{oc_query_limit}}"></td><td width="50%"></td></tr></table></div><div class="js-data_source_type_query"><table><tr><td colspan="3"><label for="oc_query">'+translation_boardadmin.label_oc_query+'</label><br><textarea name="oc_query" placeholder="'+translation_boardadmin.placeholder_oc_query+'" class="form-control js-oc-query">{{oc_query}}</textarea></td></tr><tr><td width="25%"><label for="oc_query_start">'+translation_boardadmin.label_oc_query_start+':</label><br><input name="oc_query_start" id="oc_query_start" type="number" min="1" class="form-control js-oc-query-start js-linked-input" value="{{oc_query_start}}"></td><td width="25%"><label for="oc_query_limit">'+translation_boardadmin.label_oc_query_limit+':</label><br><input name="oc_query_limit" id="oc_query_limit" type="number" min="1" class="form-control js-oc-query-limit js-linked-input" value="{{oc_query_limit}}"></td><td width="50%"><label for="oc_query_sort">'+translation_boardadmin.label_oc_query_sort+':</label><br><select name="oc_query_sort" id="oc_query_sort" class="form-control js-oc-query-sort"><option value="0">-- '+translation_boardadmin.placeholder_oc_query_sort+' --</option>{{#each ocSortings}}<option value="{{this}}" {{#compare this "===" ../oc_query_sort}}selected="selected" {{/compare}}>{{this}}</option>{{/each}}</select></td></tr><tr><td colspan="3"><button class="button js-oc-query-test">'+translation_boardadmin.button_validate_query+'</button><div class="js-oc-test-result"></div></td></tr></table></div></td></tr></tbody></table></div>{{/compare}}{{#compare type "===" "col"}}<div class="form-group"><label class="control-label" for="structure-description">'+translation_boardadmin.label_description+': </label><textarea name="description" class="form-control"id="structure-description" placeholder="'+translation_boardadmin.placeholder_description+'">{{description}}</textarea></div>{{/compare}}{{#compare type "===" "row"}}<div class="form-group"><label class="control-label" for="structure-description">'+translation_boardadmin.label_description+': </label><textarea name="description" class="form-control"id="structure-description" placeholder="'+translation_boardadmin.placeholder_description+'">{{description}}</textarea></div>{{/compare}}{{#compare type "===" "embed_widget" }}<div class="form-group"><label class="control-label" for="embed-widget-content">'+translation_boardadmin.label_content+': </label><textarea name="content" class="form-control" id="embed-widget-content" placeholder="'+translation_boardadmin.placeholder_add_html_here+'">{{content}}</textarea></div>{{/compare}}{{#compare type "===" "contentcontainer_widget" }}<div class="form-group form-row"><div class="content-container-position-container"><label class="control-label" for="listposition">'+translation_boardadmin.label_position+': </label><input class="form-control" type="number" name="position" id="content-container-position" min="0" max="100" value="{{position}}" /></div><div class="content-container-position-container"><label class="control-label" for="listlimit">'+translation_boardadmin.label_limit+': </label><input class="form-control" type="number" name="limit" id="content-container-limit" min="0" max="100" value="{{limit}}" /></div></div>{{/compare}}{{#compare type "===" "articlelist_widget" }}<div class="form-group form-row"><div class="list-share-container"><label class="control-label" for="list-selector">'+translation_boardadmin.label_list_name+': </label><select name="list" id="list-selector"{{#compare network_list "!==" 0}}disabled="disabled"{{/compare}}class="form-control internal-selector"><option value="0">None</option>{{#each articleLists}}<option value="{{@key}}" {{#compare @key "===" ../list}}selected="selected" {{/compare}}>{{this}}</option>{{/each}}</select></div><div class="list-share-container"><label class="control-label" for="network-list-selector">'+translation_boardadmin.label_external_list_name+':</label><select name="network_list" id="network-list-selector" {{#compare list "!==" "0"}}disabled="disabled"{{/compare}}class="form-control external-selector"><option value="0">None</option>{{#each networkArticleLists}}{{#compare name "!==" ""}}<optgroup label="{{name}}">{{/compare}}{{#each lists}}<option value="{{listId}}" data-network-site-id="{{../siteId}}" {{#compare listId "===" ../../network_list}}selected="selected" {{/compare}}>{{name}}</option>{{/each}}{{/each}}</option></select></div><div class="form-group"><div class="list-position-container"><label class="control-label" for="listposition">'+translation_boardadmin.label_list_position+': </label><input class="form-control" type="number" name="listposition" id="listposition" min="0" max="100" value="{{listposition}}" /></div><div class="list-position-container"><label class="control-label" for="listlimit">'+translation_boardadmin.label_list_limit+': </label><input class="form-control" type="number" name="listlimit" id="listlimit" min="0" max="100" value="{{listlimit}}" /></div><input type="hidden" name="network_list_site_id" id="network-site-id" value="{{network_list_site_id}}" /></div></div>{{/compare}}{{#compare type "===" "oclist_widget" }}<div class="form-group"><label class="control-label" for="list-selector">'+translation_boardadmin.oclist_name+': </label><select name="list" id="list-selector" class="form-control internal-selector"><option value="0">None</option>{{#each ocArticleLists}}<option value="{{@key}}" {{#compare @key "===" ../list}}selected="selected" {{/compare}}>{{this}}</option>{{/each}}</select></div><div class="form-group form-row"><div class="list-position-container"><label class="control-label" for="listposition">'+translation_boardadmin.label_list_position+': </label><input class="form-control" type="number" name="listposition" id="listposition" min="1" max="100" value="{{listposition}}"/></div><div class="list-position-container"><label class="control-label" for="listlimit">'+translation_boardadmin.label_list_limit+': </label><input class="form-control" type="number" name="listlimit" id="listlimit" min="1" max="100" value="{{listlimit}}" /></div></div>{{/compare}}<div class="settingsbox-field-container settingsbox-responsive-container"><table id="structure-device-settings-table" class="table"><thead><tr><th>'+translation_boardadmin.tablehead_device+'</th>{{#compare type "===" "col" }}<th class="settingsbox-device-width">'+translation_boardadmin.tablehead_width+"</th>{{/compare}}<th>"+translation_boardadmin.tablehead_hide+"</th><th>"+translation_boardadmin.tablehead_remove+'</th></tr></thead><tbody>{{#each devices}}<tr><td class="settingsbox-device-label"><i class="fa {{#compare @key "===" "mobile" }}fa-mobile{{/compare}}{{#compare @key "===" "tablet" }}fa-tablet{{/compare}}{{#compare @key "===" "smallscreen" }}fa-laptop{{/compare}}{{#compare @key "===" "largescreen" }}fa-desktop{{/compare}} fa-2x" title="{{@key}}"></i></td>{{#compare ../type "===" "col" }}<td class="settingsbox-device-width"><input type="text" class="form-control" name="{{@key}}[colspan]" value="{{colspan}}" placeholder="1-{{../../maxColumns}}" /></td>{{/compare}}<td><input type="checkbox" name="{{@key}}[hidden]" value="true" {{#compare hidden "===" "true"}}checked="checked" {{/compare}}/></td><td><input type="checkbox" name="{{@key}}[removed]" value="true" {{#compare removed "===" "true"}}checked="checked" {{/compare}}/></td></tr>{{/each}}</tbody></table></div>\x3c!-- /.settingsbox-responsive-container --\x3e<div class="settingsbox-field-container{{#compare type "===" "col"}} settingsbox-active-col-classes-container{{/compare}}{{#compare type "!==" "col"}} settingsbox-active-classes-container{{/compare}}"><h3 class="settingsbox-field-header">'+translation_boardadmin.header_active_classes+'</h3><div class="settingsbox-active-classes-body">{{#each cssClasses}}<span data-for="structure-class-{{className}}" id="structure-class-{{className}}-visualizer" class="settingsbox-active-class{{#if active}}{{else}} deactivated{{/if}}">{{description}}<i class="fa fa-times settingsbox-remove-class"></i></span>{{/each}}<span id="settingsbox-add-classbox" class="add-classbox" title="'+translation_boardadmin.span_edit_classes+'"><i class="fa fa-cog"></i></span></div></div><br class="clearfix" />{{#compare type "===" "col" }}<div class="form-group settingsbox-row"><input id="hidewrapper" type="checkbox" value="true" name="hiddenwrapper" {{#compare hiddenwrapper "===" "true"}}checked="checked" {{/compare}}/><label for="hidewrapper">'+translation_boardadmin.label_deactivate_wrapper+'</label></div>{{/compare}}<div class="settingsbox-content classbox-content hidden"><div class="settingsbox-header"><h3 class="settingsbox-title classbox-title">'+translation_boardadmin.header_classlist+'</h3></div><div class="settingsbox-body classbox-body"><div class="classbox-class-container"><ul>{{#each cssClasses}}<li class="classbox-class{{#if active}} active-class{{/if}}"><input type="checkbox" data-visualizer="structure-class-{{className}}-visualizer" id="structure-class-{{className}}" name="cssclass" value="{{className}}" {{#if active}}checked="checked" {{/if}}/><label for="structure-class-{{className}}">{{description}}</label></li>{{/each}}</ul></div></div>\x3c!-- /.classbox-body--\x3e <div class="settingsbox-footer classbox-footer"><button type="button" role="button" id="settingsbox-classbox-done" title="'+translation_boardadmin.buttontitle_close_window+'" class="settingsbox-btn btn btn-default">'+translation_boardadmin.button_done+'</button></div>\x3c!-- /.classbox-footer--\x3e</div>\x3c!-- /.classbox-content --\x3e</div>\x3c!-- /.settingsbox-body --\x3e<div class="settingsbox-footer {{type}}">{{#compare type "===" "row" }}<button type="button" role="button" id="settingsbox-save-template"title="'+translation_boardadmin.buttontitle_save_row_and_settings+'"class="settingsbox-btn btn btn-default">'+translation_boardadmin.button_save_as_template+'</button>{{/compare}}<button type="button" role="button" id="settingsbox-cancel" title="'+translation_boardadmin.buttontitle_close_without_save+'" class="settingsbox-btn btn btn-default">'+translation_boardadmin.button_cancel+'</button><button type="button" role="button" id="settingsbox-apply" title="'+translation_boardadmin.buttontitle_save_changes+'" class="settingsbox-btn btn btn-default">'+translation_boardadmin.button_apply+'</button><button type="button" role="button" id="settingsbox-ok" title="'+translation_boardadmin.buttontitle_save_changes_and_close+'" class="settingsbox-btn btn btn-primary">'+translation_boardadmin.button_ok+"</button></div>\x3c!-- /.settingsbox-footer--\x3e</form></div>\x3c!-- /.settingsbox-content --\x3e</div>\x3c!-- /.settingsbox-dialog --\x3e</div>\x3c!-- /#settingsbox --\x3e</div>\x3c!-- /.settingsbox-backdrop --\x3e",checkBoardId:function(t){if(void 0===t.boards)return parseInt(t.boardId,10)===this;for(var e=0;e<t.boards.length;e++)if(parseInt(t.boards[e].boardId,10)===this)return!0;return!1},settingsBox:function(t){var e,i,n,s,a=_.extend(!0,{},t),r=this.getTemplate(this.settingsBoxTemplate),o={settingsBoxTitle:translation_boardadmin.header_settings,cssClasses:this.getSettingsClassList(a),indicator:this.getTypeIndicator(a)};return"col"===a.type&&(o.maxColumns=b,o.hiddenwrapper=o.hiddenwrapper||"false"),["col","oc_article","articlelist_widget","oclist_widget","contentcontainer_widget"].includes(a.type)&&(o.articleTemplates=l),["linked_widget","template_board_widget"].includes(a.type)&&(t=parseInt(a.board_id,10),e=parseInt(a.network_board_id,10),i=parseInt(a.network_board_site_id,10),o.boards=F(),o.networkBoards=R(),a.board_id=isNaN(t)?0:t,a.network_board_id=isNaN(e)?0:e,a.network_board_site_id=isNaN(i)?0:i,o.boards.find(this.checkBoardId,a.network_board_id)||(a.board_id=0),o.networkBoards.find(this.checkBoardId,a.network_board_id)||(a.network_board_id=0)),["oclist_widget"].includes(a.type)&&(e=parseInt(a.listposition,10),i=parseInt(a.listlimit,10),o.ocArticleLists=S(),a.listposition=isNaN(e)?0:e,a.listlimit=isNaN(i)?"":i),["template_board_widget"].includes(a.type)&&(n=parseInt(a.oc_query_start,10),s=parseInt(a.oc_query_limit,10),o.ocSortings=c.globalsettings.ocsortings,a.oc_query_start=isNaN(n)?0:n,a.oc_query_limit=isNaN(s)?10:s),"template_board_widget"===a.type&&(o.settingsBoxTitle=translation_boardadmin.header_settings_template_board,o.ocArticleLists=S()),"embed_widget"===a.type&&(a.content=base64_decode(a.content)),"board"===a.type&&(r=this.getTemplate(this.boardSettingsBoxTemplate)),"articlelist_widget"===a.type&&(n=parseInt(a.network_list,10),s=parseInt(a.network_list_site_id,10),o.articleLists=c.globalsettings.lists,o.networkArticleLists=c.globalsettings.networkLists,a.network_list=isNaN(n)?0:n,a.network_list_site_id=isNaN(s)?0:s),r(o=_.extend(!0,o,a))},getSettingsClassList:function(s){var a=s.cssclass.split(" "),t=D(),r=[];return _.each(t,function(t,i){var n=!1;_.each(a,function(t,e){e===i.className&&(n=!0)});var e=!1;(e="row"===s.type&&"true"===i.row||"board"===s.type&&"true"===i.board||"col"===s.type&&"true"===i.column||"oc_article"===s.type&&"true"===i.article||"widget"===s.type&&"true"===i.widget||"linked_widget"===s.type&&"true"===i.widget||"template_board_widget"===s.type&&"true"===i.widget||"embed_widget"===s.type&&"true"===i.widget||"articlelist_widget"===s.type&&"true"===i.widget||"oclist_widget"===s.type&&"true"===i.widget||"contentcontainer_widget"===s.type&&"true"===i.widget?!0:e)&&r.push({className:i.className,description:i.description,active:n})}),r},getTemplate:function(t){return e.compile(t)},getTypeIndicator:function(i){var n={},t=this.getStructureIndicators();return _.each(t,function(t,e){e.type===i.type&&(n=e)}),n},getStructureIndicators:function(){return[{type:"row",name:"Row",color:"#464646"},{type:"col",name:"Column",color:"#35b5b8"},{type:"oc_article",name:"Article",color:"#6A1238"},{type:"widget",name:"Widget",color:"#f84f4a"},{type:"linked_widget",name:"Linked widget",color:"#f84f4a"},{type:"embed_widget",name:"Embed widget",color:"#f84f4a"},{type:"articlelist_widget",name:"Article list item",color:"#e47d18"},{type:"oclist_widget",name:"OC List item",color:"#29c192"},{type:"contentcontainer_widget",name:"Content container",color:"#288DC0"}]}},_.fn.extend({getSettings:function(t){t=t||"";var e=this.data("settings")||{};return""===t?e:e[t]||{}},getDeviceSettings:function(t){var e=this.getSettings("devices");return void 0===t?e:e[t]||{}},structureHasContent:function(){return 0<this.find(".structure-content").children().length},setHideEffectOnStructure:function(t){this.structureIsHidden(t)?this.addClass("hidden-on-device"):this.removeClass("hidden-on-device"),this.structureIsRemoved(t)?this.addClass("removed-on-device"):this.removeClass("removed-on-device")},structureIsHidden:function(t){return"true"===this.getDeviceSettings(t).hidden},structureIsRemoved:function(t){return"true"===this.getDeviceSettings(t).removed},setSettings:function(t){return this.data("settings",t)},updateSettings:function(t){return t=_.extend(!0,this.getSettings(),t),this.setSettings(t)}}),_.fn.removeSettingsBox=function(){this.find(".settingsbox-backdrop").remove();var t=this.getSettings("type");"row"===t?$(this):"col"===t?q(this):this.setHideEffectOnStructure(o)},_.fn.showSettingsBox=function(){var t=this.getSettings(),t=this.templates.settingsBox(t);return _(t)},_(i).ready(function(){Ot()})}(jQuery,Everyboard,Handlebars,document,ajaxurl,article_templates,framework),function(s,t,e,a){"use strict";t=t||{},(t={inherit:function(t,e){for(var i=e.split(" "),n=i.length;0<n;--n)this.methodList.hasOwnProperty(i[n])&&(t[i[n]]=this.methodList[i[n]])},methodList:{syncHandler:function(t,e,i){s[t](a,e,function(t){i(t)})}},EveryBoard:{name:"EveryBoard",version:"0.3",Settings:{tempJsonString:"everyboard_json_temp",jsonString:"everyboard_json"},Connection:{},Structure:{},Visibility:{},Widget:{},init:function(){this.Connection.init()}}}).EveryBoard.Visibility={settings:{},init:function(t){}},t.EveryBoard.Structure={init:function(t){}},t.EveryBoard.Connection={boardId:"",dataAction:"cpt_make_connection",selector:{makeConnection:"#make_connection_link",pageSelect:"#make_connection_select"},init:function(){t.inherit(this,"syncHandler"),this.boardId=s("#post_ID").val(),s("#everyboard_side_area").on("click","#make_connection_link",this.makeConnection.bind(this))},connectPage:function(i){var t={action:this.dataAction,board_id:this.boardId,page_id:i.id},n=s("p.no_connections");s.post(a,t,function(t){var e=s(".tab-meta-container .connected-list");"1"===t&&(i.selectOption.remove(),e.append(i.link),0<n.length&&(n.remove(),e.prepend('<p style="margin: 6px 0 -10px 0;"><strong>'+translation_boardadmin.boardconnection_active_on+":</strong><p>")))})},getSelectedPage:function(){var t=s(this.selector.pageSelect).find(":selected"),e=t.data("page_id"),i=t.val(),n=t.data("pageurl")+"?preview=true&preview_id="+e;return{id:e,selectOption:t,link:s("<li/>").html(s("<a/>",{text:i,href:n,target:"_blank"}))}},makeConnection:function(){var t=this.getSelectedPage();return t?this.connectPage(t):alert(translation_boardadmin.boardconnection_no_page_chosen),!1}},t.EveryBoard.Widget={init:function(t){}},s(e).ready(function(){t.EveryBoard.init()})}(jQuery,Everyware,(window,document),ajaxurl,(article_templates,framework)),function(u){function i(t,e){var i=u(".structure-item:not(.loading_article)",t),n=!1,s=null,a=u("<article/>",{class:"structure-item article-preview structure_item article_preview ui-sortable-placeholder loading_article"}),r=t.find(".loading_article");if(0<i.length){var o=[];i.each(function(){o.push({center:u(this).position().top+u(this).outerHeight()/2,height:u(this).outerHeight(),element:u(this)})});for(var c=e.originalEvent.clientY-(t.offset().top-u(document).scrollTop()),s=(e.originalEvent.clientX,i[i.length-1]),l=0;l<o.length;l++){var d=o[l];if(c<=d.center){s=d.element,n=!0;break}if(c>d.center&&(s=d.element,n=!1,c<d.center+d.height/2))break}n?u(a).insertBefore(s):u(a).insertAfter(s)}else u(t).append(a);1<=r.length&&r.remove()}function e(t){var e=u(t.currentTarget).parent(),t=u(".col_inside",e),t=u(".loading_article",t);1<=t.length&&t.remove();e=u(".dropArea",e);1<=e.length&&e.remove()}function o(t){var e=u(t).parent().parent();t.remove();e=u(".dropArea",e);1<=e.length&&e.remove()}u(document).ready(function(){u(document).on("dragover","#everyboard_main_area .structure_item.row .structure_item.col .dropArea",function(t){i(u(".col_inside",u(t.currentTarget).parent()),t)}),u(document).on("dragover","#everyboard_main_area .structure_item.row .structure_item.col .col_inside",function(t){t.preventDefault(),t.stopPropagation();var e=u(t.currentTarget);return e.hasClass("col_inside")||(e=u(".col_inside",e.parent())),u(".dropArea",e.parent()).length<1&&u("<textarea/>").css({position:"absolute",top:0,left:0,right:0,bottom:0,opacity:0,zIndex:9999,display:"block",width:"100%",height:"100%",color:"#000"}).attr("class","dropArea").appendTo(e.parent()),t.originalEvent.dataTransfer.setData("Text","hooola"),i(e,t),!1}),u(document).on("dragend","body",function(t){e(t)}),u(document).on("dragleave","#everyboard_main_area .structure_item.row .structure_item.col .dropArea",function(t){e(t)}),u(document).on("drop","#everyboard_main_area .structure_item.row .structure_item.col .dropArea",function(t){var e=u(this),i=u(".col_inside",e.parent()),n="",e="",s=null;if(void 0!==t.originalEvent.dataTransfer.getData("text")&&""!==t.originalEvent.dataTransfer.getData("text")){var e=(n=t.originalEvent.dataTransfer.getData("text")).split("\n");if(null===(s=/opencontent\/objects/.test(e[0])?e[0].match(/(.+\/)objects\/([^\/]+)/i)[2]:s))try{var a=JSON.parse(n);a.hasOwnProperty("uuid")&&(s=a.uuid)}catch(t){console.log("Error: Could not parse json drop data: "+n)}}else void 0!==t.originalEvent.dataTransfer.getData("text/uri-list")&&""!==t.originalEvent.dataTransfer.getData("text/uri-list")&&(e=(n=t.originalEvent.dataTransfer.getData("text/uri-list")).split("\n"),t="data",e=e[0],t=t.replace(/[\[\]]/g,"\\$&"),null===(e=(e=new RegExp("[?&]"+t+"(=([^&#]*)|&|#|$)").exec(e))?e[2]?decodeURIComponent(e[2].replace(/\+/g," ")):"":null)||""===e||void 0!==(e=JSON.parse(e)).uuid&&""!==e.uuid&&(s=e.uuid));console.log(s);var r=u(".loading_article",i);return null!==s?(r.append(translation_boardadmin.board_external_loading_article),i={action:"cpt_oc_make_article",uuid:s},u.post(ajaxurl,i,function(t){1<t.length?(u(t).insertAfter(r),o(r),u(document).trigger("ebExternalArticleAdded")):(o(r),alert(translation_boardadmin.board_external_could_not_find_article+"\nOC UUID: "+s))})):(o(r),alert(translation_boardadmin.board_external_no_oc_connection)),!0})})}(jQuery),function(o){function c(t){return"X: <input class='im_ms im_x1' value='"+t.x1+"' /> Y: <input class='im_ms im_y1' value='"+t.y1+"' /> Width: <input class='im_ms im_width' value='"+t.width+"' /> Height: <input class='im_ms im_height' value='"+t.height+"' />"}o(document).ready(function(){var r;o(document).on("keyup",".im_ms",function(){r.setSelection(parseInt(o(".im_x1").val()),parseInt(o(".im_y1").val()),parseInt(o(".im_width").val())+parseInt(o(".im_x1").val()),parseInt(o(".im_height").val())+parseInt(o(".im_y1").val()),!0),r.update(),o(".image_tool_image").trigger("updated_selection")}),o(document).on("click",".article_preview_thumb_settings",function(){var t=o(this),i=o(t.closest(".structure_item")),n=i.data("settings")||{},e=o("<div />").css({position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.3)","z-index":26}).addClass("widget_box_bg").appendTo("body"),s=o("<div />").css({"min-width":600,background:"#fff",padding:20,position:"absolute",top:100,left:o(window).width()/2-300,"box-shadow":"0px 0px 5px #555","z-index":27}).html(translation_boardadmin.imengine_load_image+"...").appendTo("body"),a=new Image;return a.src=o(this).data("url"),o(a).addClass("image_tool_image"),o(document).on("updated_selection",".image_tool_image",function(){n.image=r.getSelection(),o(i).trigger("updated_settings")}),a.onload=function(){o(s).html("<div class='image_full'></div><div class='image_tool_data'></div>"),o(s).find(".image_full").html(a);var t=o(s).find("img");o(s).css({left:o(window).width()/2-o(s).width()/2}),n.image=void 0!==n.image?n.image:{x1:0,y1:0,x2:t.width(),y2:t.height(),width:t.width(),height:t.height()},o(".image_tool_data").html(c(n.image)),r=t.imgAreaSelect({handles:!0,instance:!0,x1:n.image.x1,y1:n.image.y1,x2:n.image.x2,y2:n.image.y2,onSelectEnd:function(t,e){n.image=e,i.data("settings",n),o(".image_tool_data").html(c(e)),o(i).trigger("updated_settings")},onSelectChange:function(t,e){o(".image_tool_data").html(c(e))}})},o(".widget_box_bg, .widget-control-close").click(function(){return o(s).remove(),o(e).remove(),r.remove(),!1}),!1})})}(jQuery),function(vt){var yt=Math.abs,kt=Math.max,wt=Math.min,xt=Math.round;function St(){return vt("<div/>")}vt.imgAreaSelect=function(i,a){var e,n,r,o,c,l,s,d,u,h,p,g,t,f,m,_,b,v,y,k,w,x,S,D,C,I,N,T=vt(i),M=St(),E=St(),A=St().add(St()).add(St()).add(St()),O=St().add(St()).add(St()).add(St()),j=vt([]),P={left:0,top:0},L={left:0,top:0},H=0,$="absolute",q={x1:0,y1:0,x2:0,y2:0,width:0,height:0},F=document.documentElement,R=navigator.userAgent;function z(t){return t+P.left-L.left}function K(t){return t+P.top-L.top}function Y(t){return t-P.left+L.left}function B(t){return t-P.top+L.top}function V(t){return t.pageX-L.left}function W(t){return t.pageY-L.top}function U(t){var e=t||h,t=t||p;return{x1:xt(q.x1*e),y1:xt(q.y1*t),x2:xt(q.x2*e),y2:xt(q.y2*t),width:xt(q.x2*e)-xt(q.x1*e),height:xt(q.y2*t)-xt(q.y1*t)}}function Q(t,e,i,n,s){var a=s||h,s=s||p;(q={x1:xt(t/a||0),y1:xt(e/s||0),x2:xt(i/a||0),y2:xt(n/s||0)}).width=q.x2-q.x1,q.height=q.y2-q.y1}function J(){e&&T.width()&&(P={left:xt(T.offset().left),top:xt(T.offset().top)},c=T.innerWidth(),l=T.innerHeight(),P.top+=T.outerHeight()-l>>1,P.left+=T.outerWidth()-c>>1,t=xt(a.minWidth/h)||0,f=xt(a.minHeight/p)||0,m=xt(wt(a.maxWidth/h||1<<24,c)),_=xt(wt(a.maxHeight/p||1<<24,l)),"1.3.2"!=vt().jquery||"fixed"!=$||F.getBoundingClientRect||(P.top+=kt(document.body.scrollTop,F.scrollTop),P.left+=kt(document.body.scrollLeft,F.scrollLeft)),L=/absolute|relative/.test(s.css("position"))?{left:xt(s.offset().left)-s.scrollLeft(),top:xt(s.offset().top)-s.scrollTop()}:"fixed"==$?{left:vt(document).scrollLeft(),top:vt(document).scrollTop()}:{left:0,top:0},r=z(0),o=K(0),(q.x2>c||q.y2>l)&&st())}function G(t){if(v){switch(M.css({left:z(q.x1),top:K(q.y1)}).add(E).width(C=q.width).height(I=q.height),E.add(A).add(j).css({left:0,top:0}),A.width(kt(C-A.outerWidth()+A.innerWidth(),0)).height(kt(I-A.outerHeight()+A.innerHeight(),0)),vt(O[0]).css({left:r,top:o,width:q.x1,height:l}),vt(O[1]).css({left:r+q.x1,top:o,width:C,height:q.y1}),vt(O[2]).css({left:r+q.x2,top:o,width:c-q.x2,height:l}),vt(O[3]).css({left:r+q.x1,top:o+q.y2,width:C,height:l-q.y2}),C-=j.outerWidth(),I-=j.outerHeight(),j.length){case 8:vt(j[4]).css({left:C>>1}),vt(j[5]).css({left:C,top:I>>1}),vt(j[6]).css({left:C>>1,top:I}),vt(j[7]).css({top:I>>1});case 4:j.slice(1,3).css({left:C}),j.slice(2,4).css({top:I})}!1!==t&&(vt.imgAreaSelect.onKeyPress!=pt&&vt(document).unbind(vt.imgAreaSelect.keyPress,vt.imgAreaSelect.onKeyPress),a.keys&&vt(document)[vt.imgAreaSelect.keyPress](vt.imgAreaSelect.onKeyPress=pt)),mt&&A.outerWidth()-A.innerWidth()==2&&(A.css("margin",0),setTimeout(function(){A.css("margin","auto")},0))}}function X(t){J(),G(t),y=z(q.x1),k=K(q.y1),w=z(q.x2),x=K(q.y2)}function Z(t,e){a.fadeSpeed?t.fadeOut(a.fadeSpeed,e):t.hide()}function tt(t){var e=Y(V(t))-q.x1,t=B(W(t))-q.y1;N||(J(),N=!0,M.one("mouseout",function(){N=!1})),g="",a.resizable&&(t<=a.resizeMargin?g="n":t>=q.height-a.resizeMargin&&(g="s"),e<=a.resizeMargin?g+="w":e>=q.width-a.resizeMargin&&(g+="e")),M.css("cursor",g?g+"-resize":a.movable?"move":""),n&&n.toggle()}function et(t){vt("body").css("cursor",""),!a.autoHide&&q.width*q.height!=0||Z(M.add(O),function(){vt(this).hide()}),vt(document).unbind("mousemove",at),M.mousemove(tt),a.onSelectEnd(i,U())}function it(t){return 1!=t.which||(J(),g?(vt("body").css("cursor",g+"-resize"),y=z(q[/w/.test(g)?"x2":"x1"]),k=K(q[/n/.test(g)?"y2":"y1"]),vt(document).mousemove(at).one("mouseup",et),M.unbind("mousemove",tt)):a.movable?(d=r+q.x1-V(t),u=o+q.y1-W(t),M.unbind("mousemove",tt),vt(document).mousemove(ot).one("mouseup",function(){a.onSelectEnd(i,U()),vt(document).unbind("mousemove",ot),M.mousemove(tt)})):T.mousedown(t)),!1}function nt(t){b&&(t?(w=kt(r,wt(r+c,y+yt(x-k)*b*(y<w||-1))),x=xt(kt(o,wt(o+l,k+yt(w-y)/b*(k<x||-1)))),w=xt(w)):(x=kt(o,wt(o+l,k+yt(w-y)/b*(k<x||-1))),w=xt(kt(r,wt(r+c,y+yt(x-k)*b*(y<w||-1)))),x=xt(x)))}function st(){y=wt(y,r+c),k=wt(k,o+l),yt(w-y)<t&&((w=y-t*(w<y||-1))<r?y=r+t:r+c<w&&(y=r+c-t)),yt(x-k)<f&&((x=k-f*(x<k||-1))<o?k=o+f:o+l<x&&(k=o+l-f)),w=kt(r,wt(w,r+c)),x=kt(o,wt(x,o+l)),nt(yt(w-y)<yt(x-k)*b),yt(w-y)>m&&(w=y-m*(w<y||-1),nt()),yt(x-k)>_&&(x=k-_*(x<k||-1),nt(!0)),q={x1:Y(wt(y,w)),x2:Y(kt(y,w)),y1:B(wt(k,x)),y2:B(kt(k,x)),width:yt(w-y),height:yt(x-k)},G(),a.onSelectChange(i,U())}function at(t){return w=/w|e|^$/.test(g)||b?V(t):z(q.x2),x=/n|s|^$/.test(g)||b?W(t):K(q.y2),st(),!1}function rt(t,e){w=(y=t)+q.width,x=(k=e)+q.height,vt.extend(q,{x1:Y(y),y1:B(k),x2:Y(w),y2:B(x)}),G(),a.onSelectChange(i,U())}function ot(t){return y=kt(r,wt(d+V(t),r+c-q.width)),k=kt(o,wt(u+W(t),o+l-q.height)),rt(y,k),t.preventDefault(),!1}function ct(){vt(document).unbind("mousemove",ct),J(),w=y,x=k,st(),g="",O.is(":visible")||M.add(O).hide().fadeIn(a.fadeSpeed||0),v=!0,vt(document).unbind("mouseup",lt).mousemove(at).one("mouseup",et),M.unbind("mousemove",tt),a.onSelectStart(i,U())}function lt(){vt(document).unbind("mousemove",ct).unbind("mouseup",lt),Z(M.add(O)),Q(Y(y),B(k),Y(y),B(k)),this instanceof vt.imgAreaSelect||(a.onSelectChange(i,U()),a.onSelectEnd(i,U()))}function dt(t){return 1!=t.which||O.is(":animated")||(J(),d=y=V(t),u=k=W(t),vt(document).mousemove(ct).mouseup(lt)),!1}function ut(){X(!1)}function ht(){e=!0,ft(a=vt.extend({classPrefix:"imgareaselect",movable:!0,parent:"body",resizable:!0,resizeMargin:10,onInit:function(){},onSelectStart:function(){},onSelectChange:function(){},onSelectEnd:function(){}},a)),M.add(O).css({visibility:""}),a.show&&(v=!0,J(),G(),M.add(O).hide().fadeIn(a.fadeSpeed||0)),setTimeout(function(){a.onInit(i,U())},0)}var pt=function(t){var e,i=a.keys,n=t.keyCode,s=isNaN(i.alt)||!t.altKey&&!t.originalEvent.altKey?!isNaN(i.ctrl)&&t.ctrlKey?i.ctrl:!isNaN(i.shift)&&t.shiftKey?i.shift:isNaN(i.arrows)?10:i.arrows:i.alt;if("resize"==i.arrows||"resize"==i.shift&&t.shiftKey||"resize"==i.ctrl&&t.ctrlKey||"resize"==i.alt&&(t.altKey||t.originalEvent.altKey)){switch(n){case 37:s=-s;case 39:e=kt(y,w),y=wt(y,w),w=kt(e+s,y),nt();break;case 38:s=-s;case 40:e=kt(k,x),k=wt(k,x),x=kt(e+s,k),nt(!0);break;default:return}st()}else switch(y=wt(y,w),k=wt(k,x),n){case 37:rt(kt(y-s,r),k);break;case 38:rt(y,kt(k-s,o));break;case 39:rt(y+wt(s,c-Y(w)),k);break;case 40:rt(y,k+wt(s,l-B(x)));break;default:return}return!1};function gt(t,e){for(var i in e)void 0!==a[i]&&t.css(e[i],a[i])}function ft(t){if(t.parent&&(s=vt(t.parent)).append(M.add(O)),vt.extend(a,t),J(),null!=t.handles){for(j.remove(),j=vt([]),S=t.handles?"corners"==t.handles?4:8:0;S--;)j=j.add(St());j.addClass(a.classPrefix+"-handle").css({position:"absolute",fontSize:0,zIndex:H+1||1}),0<=!parseInt(j.css("width"))&&j.width(5).height(5),(D=a.borderWidth)&&j.css({borderWidth:D,borderStyle:"solid"}),gt(j,{borderColor1:"border-color",borderColor2:"background-color",borderOpacity:"opacity"})}for(h=a.imageWidth/c||1,p=a.imageHeight/l||1,null!=t.x1&&(Q(t.x1,t.y1,t.x2,t.y2),t.show=!t.hide),t.keys&&(a.keys=vt.extend({shift:1,ctrl:"resize"},t.keys)),O.addClass(a.classPrefix+"-outer"),E.addClass(a.classPrefix+"-selection"),S=0;S++<4;)vt(A[S-1]).addClass(a.classPrefix+"-border"+S);gt(E,{selectionColor:"background-color",selectionOpacity:"opacity"}),gt(A,{borderOpacity:"opacity",borderWidth:"border-width"}),gt(O,{outerColor:"background-color",outerOpacity:"opacity"}),(D=a.borderColor1)&&vt(A[0]).css({borderStyle:"solid",borderColor:D}),(D=a.borderColor2)&&vt(A[1]).css({borderStyle:"dashed",borderColor:D}),M.append(E.add(A).add(n)).append(j),mt&&((D=(O.css("filter")||"").match(/opacity=(\d+)/))&&O.css("opacity",D[1]/100),(D=(A.css("filter")||"").match(/opacity=(\d+)/))&&A.css("opacity",D[1]/100)),t.hide?Z(M.add(O)):t.show&&e&&(v=!0,M.add(O).fadeIn(a.fadeSpeed||0),X()),b=(D=(a.aspectRatio||"").split(/:/))[0]/D[1],T.add(O).unbind("mousedown",dt),a.disable||!1===a.enable?(M.unbind("mousemove",tt).unbind("mousedown",it),vt(window).unbind("resize",ut)):(!a.enable&&!1!==a.disable||((a.resizable||a.movable)&&M.mousemove(tt).mousedown(it),vt(window).resize(ut)),a.persistent||T.add(O).mousedown(dt)),a.enable=a.disable=void 0}this.remove=function(){ft({disable:!0}),M.add(O).remove()},this.getOptions=function(){return a},this.setOptions=ft,this.getSelection=U,this.setSelection=Q,this.cancelSelection=lt,this.update=X;for(var mt=(/msie ([\w.]+)/i.exec(R)||[])[1],_t=/opera/i.test(R),R=/webkit/i.test(R)&&!/chrome/i.test(R),bt=T;bt.length;)H=kt(H,isNaN(bt.css("z-index"))?H:bt.css("z-index")),"fixed"==bt.css("position")&&($="fixed"),bt=bt.parent(":not(body)");H=a.zIndex||H,mt&&T.attr("unselectable","on"),vt.imgAreaSelect.keyPress=mt||R?"keydown":"keypress",_t&&(n=St().css({width:"100%",height:"100%",position:"absolute",zIndex:H+2||2})),M.add(O).css({visibility:"hidden",position:$,overflow:"hidden",zIndex:H||"0"}),M.css({zIndex:H+2||2}),E.add(A).css({position:"absolute",fontSize:0}),i.complete||"complete"==i.readyState||!T.is("img")?ht():T.one("load",ht),!e&&mt&&7<=mt&&(i.src=i.src)},vt.fn.imgAreaSelect=function(t){return t=t||{},this.each(function(){vt(this).data("imgAreaSelect")?t.remove?(vt(this).data("imgAreaSelect").remove(),vt(this).removeData("imgAreaSelect")):vt(this).data("imgAreaSelect").setOptions(t):t.remove||(void 0===t.enable&&void 0===t.disable&&(t.enable=!0),vt(this).data("imgAreaSelect",new vt.imgAreaSelect(this,t)))}),t.instance?vt(this).data("imgAreaSelect"):this}}(jQuery),function(c){var n,r,o,l,d,t,u={isMsie:function(){return!!/(msie|trident)/i.test(navigator.userAgent)&&navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2]},isBlankString:function(t){return!t||/^\s*$/.test(t)},escapeRegExChars:function(t){return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isArray:c.isArray,isFunction:c.isFunction,isObject:c.isPlainObject,isUndefined:function(t){return void 0===t},bind:c.proxy,each:function(t,i){c.each(t,function(t,e){return i(e,t)})},map:c.map,filter:c.grep,every:function(i,n){var s=!0;return i?(c.each(i,function(t,e){return!!(s=n.call(null,e,t,i))&&void 0}),!!s):s},some:function(i,n){var s=!1;return i?(c.each(i,function(t,e){return!(s=n.call(null,e,t,i))&&void 0}),!!s):s},mixin:c.extend,getUniqueId:(t=0,function(){return t++}),templatify:function(t){return c.isFunction(t)?t:function(){return String(t)}},defer:function(t){setTimeout(t,0)},debounce:function(s,a,r){var o,c;return function(){var t=this,e=arguments,i=function(){o=null,r||(c=s.apply(t,e))},n=r&&!o;return clearTimeout(o),o=setTimeout(i,a),c=n?s.apply(t,e):c}},throttle:function(i,n){var s,a,r,o,c=0,l=function(){c=new Date,r=null,o=i.apply(s,a)};return function(){var t=new Date,e=n-(t-c);return s=this,a=arguments,e<=0?(clearTimeout(r),r=null,c=t,o=i.apply(s,a)):r=r||setTimeout(l,e),o}},noop:function(){}},e=(u.mixin(k.prototype,{set:function(t,e){var i=this.list.tail;this.size>=this.maxSize&&(this.list.remove(i),delete this.hash[i.key]),(i=this.hash[t])?(i.val=e,this.list.moveToFront(i)):(i=new x(t,e),this.list.add(i),this.hash[t]=i,this.size++)},get:function(t){t=this.hash[t];return t?(this.list.moveToFront(t),t.val):void 0}}),u.mixin(w.prototype,{add:function(t){this.head&&(t.next=this.head,this.head.prev=t),this.head=t,this.tail=this.tail||t},remove:function(t){t.prev?t.prev.next=t.next:this.head=t.next,t.next?t.next.prev=t.prev:this.tail=t.prev},moveToFront:function(t){this.remove(t),this.add(t)}}),k),i=function(){function t(t){this.prefix=["__",t,"__"].join(""),this.ttlKey="__ttl__",this.keyMatcher=new RegExp("^"+this.prefix)}function n(){return(new Date).getTime()}function s(t){return JSON.stringify(u.isUndefined(t)?null:t)}function e(t){return JSON.parse(t)}var a,i;try{(a=window.localStorage).setItem("~~~","!"),a.removeItem("~~~")}catch(t){a=null}return i=a&&window.JSON?{_prefix:function(t){return this.prefix+t},_ttlKey:function(t){return this._prefix(t)+this.ttlKey},get:function(t){return this.isExpired(t)&&this.remove(t),e(a.getItem(this._prefix(t)))},set:function(t,e,i){return u.isNumber(i)?a.setItem(this._ttlKey(t),s(n()+i)):a.removeItem(this._ttlKey(t)),a.setItem(this._prefix(t),s(e))},remove:function(t){return a.removeItem(this._ttlKey(t)),a.removeItem(this._prefix(t)),this},clear:function(){for(var t,e=[],i=a.length,n=0;n<i;n++)(t=a.key(n)).match(this.keyMatcher)&&e.push(t.replace(this.keyMatcher,""));for(n=e.length;n--;)this.remove(e[n]);return this},isExpired:function(t){t=e(a.getItem(this._ttlKey(t)));return!!(u.isNumber(t)&&n()>t)}}:{get:u.noop,set:u.noop,remove:u.noop,clear:u.noop,isExpired:u.noop},u.mixin(t.prototype,i),t}(),s=(r=0,o={},l=6,d=new e(10),y.setMaxPendingRequests=function(t){l=t},y.resetCache=function(){d=new e(10)},u.mixin(y.prototype,{_get:function(e,t,i){function n(t){i&&i(t),d.set(e,t)}var s,a=this;(s=o[e])?s.done(n):r<l?(r++,o[e]=this._send(e,t).done(n).always(function(){r--,delete o[e],a.onDeckRequestArgs&&(a._get.apply(a,a.onDeckRequestArgs),a.onDeckRequestArgs=null)})):this.onDeckRequestArgs=[].slice.call(arguments,0)},get:function(t,e,i){var n;return u.isFunction(e)&&(i=e,e={}),(n=d.get(t))?u.defer(function(){i&&i(n)}):this._get(t,e,i),!!n}}),y),a=(u.mixin(_.prototype,{bootstrap:function(t){this.datums=t.datums,this.trie=t.trie},add:function(t){var a=this;t=u.isArray(t)?t:[t],u.each(t,function(t){var s=a.datums.push(t)-1,t=b(a.datumTokenizer(t));u.each(t,function(t){for(var e,i=a.trie,n=t.split("");e=n.shift();)(i=i.children[e]||(i.children[e]=v())).ids.push(s)})})},get:function(t){var s,a=this,t=b(this.queryTokenizer(t));return u.each(t,function(t){var e,i,n;if(s&&0===s.length)return!1;for(e=a.trie,i=t.split("");e&&(n=i.shift());)e=e.children[n];return e&&0===i.length?(t=e.ids.slice(0),void(s=s?function(t,e){function i(t,e){return t-e}var n=0,s=0,a=[];for(t=t.sort(i),e=e.sort(i);n<t.length&&s<e.length;)t[n]<e[s]?n++:(t[n]>e[s]||(a.push(t[n]),n++),s++);return a}(s,t):t)):!(s=[])}),s?u.map(function(t){for(var e={},i=[],n=0;n<t.length;n++)e[t[n]]||(e[t[n]]=!0,i.push(t[n]));return i}(s),function(t){return a.datums[t]}):[]},serialize:function(){return{datums:this.datums,trie:this.trie}}}),_),h={local:function(t){return t=t.local||null,t=u.isFunction(t)?t.call(null):t},prefetch:function(t){var e={url:null,thumbprint:"",ttl:864e5,filter:null,ajax:{}};return(t=t.prefetch||null)&&(t=u.isString(t)?{url:t}:t,(t=u.mixin(e,t)).thumbprint="0.10.1"+t.thumbprint,t.ajax.type=t.ajax.type||"GET",t.ajax.dataType=t.ajax.dataType||"json",t.url||c.error("prefetch requires url to be set")),t},remote:function(t){var e,i,n={url:null,wildcard:"%QUERY",replace:null,rateLimitBy:"debounce",rateLimitWait:300,send:null,filter:null,ajax:{}};return(t=t.remote||null)&&(t=u.isString(t)?{url:t}:t,(t=u.mixin(n,t)).rateLimiter=/^throttle$/i.test(t.rateLimitBy)?(i=t.rateLimitWait,function(t){return u.throttle(t,i)}):(e=t.rateLimitWait,function(t){return u.debounce(t,e)}),t.ajax.type=t.ajax.type||"GET",t.ajax.dataType=t.ajax.dataType||"json",delete t.rateLimitBy,delete t.rateLimitWait,t.url||c.error("remote requires url to be set")),t}},p=(window.Bloodhound=(n={data:"data",protocol:"protocol",thumbprint:"thumbprint"},f.tokenizers={whitespace:function(t){return t.split(/\s+/)},nonword:function(t){return t.split(/\W+/)}},u.mixin(f.prototype,{_loadPrefetch:function(e){var i=this,t=(t=this._readFromStorage(e.thumbprint))?(this.index.bootstrap(t),c.Deferred().resolve()):c.ajax(e.url,e.ajax).done(function(t){t=e.filter?e.filter(t):t,i.add(t),i._saveToStorage(i.index.serialize(),e.thumbprint,e.ttl)});return t},_getFromRemote:function(t,e){var i,n=this;return t=t||"",i=encodeURIComponent(t),i=this.remote.replace?this.remote.replace(this.remote.url,t):this.remote.url.replace(this.remote.wildcard,i),this.transport.get(i,this.remote.ajax,function(t){t=n.remote.filter?n.remote.filter(t):t,e(t)})},_saveToStorage:function(t,e,i){this.storage&&(this.storage.set(n.data,t,i),this.storage.set(n.protocol,location.protocol,i),this.storage.set(n.thumbprint,e,i))},_readFromStorage:function(t){var e={};return this.storage&&(e.data=this.storage.get(n.data),e.protocol=this.storage.get(n.protocol),e.thumbprint=this.storage.get(n.thumbprint)),t=e.thumbprint!==t||e.protocol!==location.protocol,e.data&&!t?e.data:null},initialize:function(){var t=this,e=this.prefetch?this._loadPrefetch(this.prefetch):c.Deferred().resolve();return this.local&&e.done(function(){t.add(t.local)}),this.transport=this.remote?new s(this.remote):null,this.initialize=function(){return e.promise()},e.promise()},add:function(t){this.index.add(t)},get:function(t,e){var n=this,i=!1,s=this.index.get(t);!(i=(s=this.sorter(s).slice(0,this.limit)).length<this.limit&&this.transport?this._getFromRemote(t,function(t){var i=s.slice(0);u.each(t,function(e){return u.some(i,function(t){return n.dupDetector(e,t)})||i.push(e),i.length<n.limit}),e&&e(n.sorter(i))}):i)&&e&&e(s)},ttAdapter:function(){return u.bind(this.get,this)}}),f),{wrapper:'<span class="twitter-typeahead"></span>',dropdown:'<span class="tt-dropdown-menu"></span>',dataset:'<div class="tt-dataset-%CLASS%"></div>',suggestions:'<span class="tt-suggestions"></span>',suggestion:'<div class="tt-suggestion">%BODY%</div>'}),g={wrapper:{position:"relative",display:"inline-block"},hint:{position:"absolute",top:"0",left:"0",borderColor:"transparent",boxShadow:"none"},input:{position:"relative",verticalAlign:"top",backgroundColor:"transparent"},inputWithNoHint:{position:"relative",verticalAlign:"top"},dropdown:{position:"absolute",top:"100%",left:"0",zIndex:"100",display:"none"},suggestions:{display:"block"},suggestion:{whiteSpace:"nowrap",cursor:"pointer"},suggestionChild:{whiteSpace:"normal"},ltr:{left:"0",right:"auto"},rtl:{left:"auto",right:" 0"}};function f(t){var e;t&&(t.local||t.prefetch||t.remote)||c.error("one of local, prefetch, or remote is required"),this.limit=t.limit||5,this.sorter=(e=t.sorter,u.isFunction(e)?function(t){return t.sort(e)}:function(t){return t}),this.dupDetector=t.dupDetector||m,this.local=h.local(t),this.prefetch=h.prefetch(t),this.remote=h.remote(t),this.cacheKey=this.prefetch?this.prefetch.cacheKey||this.prefetch.url:null,this.index=new a({datumTokenizer:t.datumTokenizer,queryTokenizer:t.queryTokenizer}),this.storage=this.cacheKey?new i(this.cacheKey):null}function m(){return!1}function _(t){(t=t||{}).datumTokenizer&&t.queryTokenizer||c.error("datumTokenizer and queryTokenizer are both required"),this.datumTokenizer=t.datumTokenizer,this.queryTokenizer=t.queryTokenizer,this.datums=[],this.trie=v()}function b(t){return t=u.filter(t,function(t){return!!t}),u.map(t,function(t){return t.toLowerCase()})}function v(){return{ids:[],children:{}}}function y(t){var n;t=t||{},this._send=t.transport?(n=t.transport,function(t,e){var i=c.Deferred();return n(t,e,function(t){u.defer(function(){i.resolve(t)})},function(t){u.defer(function(){i.reject(t)})}),i}):c.ajax,this._get=t.rateLimiter?t.rateLimiter(this._get):this._get}function k(t){this.maxSize=t||100,this.size=0,this.hash={},this.list=new w}function w(){this.head=this.tail=null}function x(t,e){this.key=t,this.val=e,this.prev=this.next=null}u.isMsie()&&u.mixin(g.input,{backgroundImage:"url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)"}),u.isMsie()&&u.isMsie()<=7&&u.mixin(g.input,{marginTop:"-1px"});var S,D,C,I,N,T,M,E,A,O,j,P,L=(u.mixin(G.prototype,{trigger:function(t){var e=[].slice.call(arguments,1);this.$el.trigger("typeahead:"+t,e)}}),G),H=(E=/\s+/,A=window.setImmediate?function(t){setImmediate(function(){t()})}:function(t){setTimeout(function(){t()},0)},{onSync:function(t,e,i){return Q.call(this,"sync",t,e,i)},onAsync:function(t,e,i){return Q.call(this,"async",t,e,i)},off:function(t){var e;if(!this._callbacks)return this;for(t=t.split(E);e=t.shift();)delete this._callbacks[e];return this},trigger:function(t){var e,i,n,s;if(!this._callbacks)return this;for(t=t.split(E),i=[].slice.call(arguments,1);(s=t.shift())&&(e=this._callbacks[s]);)n=J(e.sync,this,[s].concat(i)),s=J(e.async,this,[s].concat(i)),n()&&A(s);return this}}),$=(T=window.document,M={node:null,pattern:null,tagName:"strong",className:null,wordsOnly:!1,caseSensitive:!1},function(n){var s;(n=u.mixin({},M,n)).node&&n.pattern&&(n.pattern=u.isArray(n.pattern)?n.pattern:[n.pattern],s=function(t,e,i){for(var n=[],s=0;s<t.length;s++)n.push(u.escapeRegExChars(t[s]));return i=i?"\\b("+n.join("|")+")\\b":"("+n.join("|")+")",e?new RegExp(i):new RegExp(i,"i")}(n.pattern,n.caseSensitive,n.wordsOnly),function t(e,i){for(var n,s=0;s<e.childNodes.length;s++)3===(n=e.childNodes[s]).nodeType?s+=i(n)?1:0:t(n,i)}(n.node,function(t){var e,i;return(e=s.exec(t.data))&&(wrapperNode=T.createElement(n.tagName),n.className&&(wrapperNode.className=n.className),(i=t.splitText(e.index)).splitText(e[0].length),wrapperNode.appendChild(i.cloneNode(!0)),t.parentNode.replaceChild(wrapperNode,i)),!!e}))}),q=(N={9:"tab",27:"esc",37:"left",39:"right",13:"enter",38:"up",40:"down"},W.normalizeQuery=function(t){return(t||"").replace(/^\s*/g,"").replace(/\s{2,}/g," ")},u.mixin(W.prototype,H,{_onBlur:function(){this.resetInputValue(),this.trigger("blurred")},_onFocus:function(){this.trigger("focused")},_onKeydown:function(t){var e=N[t.which||t.keyCode];this._managePreventDefault(e,t),e&&this._shouldTrigger(e,t)&&this.trigger(e+"Keyed",t)},_onInput:function(){this._checkInputValue()},_managePreventDefault:function(t,e){var i,n,s;switch(t){case"tab":n=this.getHintValue(),s=this.getInputValue(),i=n&&n!==s&&!U(e);break;case"up":case"down":i=!U(e);break;default:i=!1}i&&e.preventDefault()},_shouldTrigger:function(t,e){e="tab"!==t||!U(e);return e},_checkInputValue:function(){var t,e,i=this.getInputValue();t=i,e=this.query,e=(t=W.normalizeQuery(t)===W.normalizeQuery(e))&&this.query.length!==i.length,t?e&&this.trigger("whitespaceChanged",this.query):this.trigger("queryChanged",this.query=i)},focus:function(){this.$input.focus()},blur:function(){this.$input.blur()},getQuery:function(){return this.query},setQuery:function(t){this.query=t},getInputValue:function(){return this.$input.val()},setInputValue:function(t,e){this.$input.val(t),e||this._checkInputValue()},getHintValue:function(){return this.$hint.val()},setHintValue:function(t){this.$hint.val(t)},resetInputValue:function(){this.$input.val(this.query)},clearHint:function(){this.$hint.val("")},getLanguageDirection:function(){return(this.$input.css("direction")||"ltr").toLowerCase()},hasOverflow:function(){var t=this.$input.width()-2;return this.$overflowHelper.text(this.getInputValue()),this.$overflowHelper.width()>=t},isCursorAtEnd:function(){var t=this.$input.val().length,e=this.$input[0].selectionStart;return u.isNumber(e)?e===t:!document.selection||((e=document.selection.createRange()).moveStart("character",-t),t===e.text.length)},destroy:function(){this.$hint.off(".tt"),this.$input.off(".tt"),this.$hint=this.$input=this.$overflowHelper=null}}),W),F=(D="ttDataset",C="ttValue",I="ttDatum",V.extractDatasetName=function(t){return c(t).data(D)},V.extractValue=function(t){return c(t).data(C)},V.extractDatum=function(t){return c(t).data(I)},u.mixin(V.prototype,H,{_render:function(t,e){function i(){return a.templates.header({query:t,isEmpty:!s})}function n(){return a.templates.footer({query:t,isEmpty:!s})}var s,a,r,o;this.$el&&((a=this).$el.empty(),!(s=e&&e.length)&&this.templates.empty?this.$el.html(a.templates.empty({query:t,isEmpty:!0})).prepend(a.templates.header?i():null).append(a.templates.footer?n():null):s&&this.$el.html((r=c(p.suggestions).css(g.suggestions),o=u.map(e,function(t){var e=a.templates.suggestion(t),e=p.suggestion.replace("%BODY%",e);return(t=c(e).data(D,a.name).data(C,a.displayFn(t)).data(I,t)).children().each(function(){c(this).css(g.suggestionChild)}),t}),r.append.apply(r,o),a.highlight&&$({node:r[0],pattern:t}),r)).prepend(a.templates.header?i():null).append(a.templates.footer?n():null),this.trigger("rendered"))},getRoot:function(){return this.$el},update:function(e){var i=this;this.query=e,this.source(e,function(t){e===i.query&&i._render(e,t)})},clear:function(){this._render(this.query||"")},isEmpty:function(){return this.$el.is(":empty")},destroy:function(){this.$el=null}}),V),R=(u.mixin(Y.prototype,H,{_onSuggestionClick:function(t){this.trigger("suggestionClicked",c(t.currentTarget))},_onSuggestionMouseEnter:function(t){this._removeCursor(),this._setCursor(c(t.currentTarget),!0)},_onSuggestionMouseLeave:function(){this._removeCursor()},_onRendered:function(){this.isEmpty=u.every(this.datasets,function(t){return t.isEmpty()}),this.isEmpty?this._hide():this.isOpen&&this._show(),this.trigger("datasetRendered")},_hide:function(){this.$menu.hide()},_show:function(){this.$menu.css("display","block")},_getSuggestions:function(){return this.$menu.find(".tt-suggestion")},_getCursor:function(){return this.$menu.find(".tt-cursor").first()},_setCursor:function(t,e){t.first().addClass("tt-cursor"),e||this.trigger("cursorMoved")},_removeCursor:function(){this._getCursor().removeClass("tt-cursor")},_moveCursor:function(t){var e,i;this.isOpen&&(i=this._getCursor(),e=this._getSuggestions(),this._removeCursor(),-1!==(t=((t=e.index(i)+t)+1)%(e.length+1)-1)?(t<-1&&(t=e.length-1),this._setCursor(t=e.eq(t)),this._ensureVisible(t)):this.trigger("cursorRemoved"))},_ensureVisible:function(t){var e=t.position().top,i=e+t.outerHeight(!0),n=this.$menu.scrollTop(),t=this.$menu.height()+parseInt(this.$menu.css("paddingTop"),10)+parseInt(this.$menu.css("paddingBottom"),10);e<0?this.$menu.scrollTop(n+e):t<i&&this.$menu.scrollTop(n+(i-t))},close:function(){this.isOpen&&(this.isOpen=!1,this._removeCursor(),this._hide(),this.trigger("closed"))},open:function(){this.isOpen||(this.isOpen=!0,this.isEmpty||this._show(),this.trigger("opened"))},setLanguageDirection:function(t){this.$menu.css("ltr"===t?g.ltr:g.rtl)},moveCursorUp:function(){this._moveCursor(-1)},moveCursorDown:function(){this._moveCursor(1)},getDatumForSuggestion:function(t){var e=null;return e=t.length?{raw:F.extractDatum(t),value:F.extractValue(t),datasetName:F.extractDatasetName(t)}:e},getDatumForCursor:function(){return this.getDatumForSuggestion(this._getCursor().first())},getDatumForTopSuggestion:function(){return this.getDatumForSuggestion(this._getSuggestions().first())},update:function(e){u.each(this.datasets,function(t){t.update(e)})},empty:function(){u.each(this.datasets,function(t){t.clear()}),this.isEmpty=!0},isVisible:function(){return this.isOpen&&!this.isEmpty},destroy:function(){this.$menu.off(".tt"),this.$menu=null,u.each(this.datasets,function(t){t.destroy()})}}),Y),z=(S="ttAttrs",u.mixin(K.prototype,{_onSuggestionClicked:function(t,e){(e=this.dropdown.getDatumForSuggestion(e))&&this._select(e)},_onCursorMoved:function(){var t=this.dropdown.getDatumForCursor();this.input.clearHint(),this.input.setInputValue(t.value,!0),this.eventBus.trigger("cursorchanged",t.raw,t.datasetName)},_onCursorRemoved:function(){this.input.resetInputValue(),this._updateHint()},_onDatasetRendered:function(){this._updateHint()},_onOpened:function(){this._updateHint(),this.eventBus.trigger("opened")},_onClosed:function(){this.input.clearHint(),this.eventBus.trigger("closed")},_onFocused:function(){this.dropdown.empty(),this.dropdown.open()},_onBlurred:function(){this.dropdown.close()},_onEnterKeyed:function(t,e){var i=this.dropdown.getDatumForCursor(),n=this.dropdown.getDatumForTopSuggestion();i?(this._select(i),e.preventDefault()):this.autoselect&&n&&(this._select(n),e.preventDefault())},_onTabKeyed:function(t,e){var i;(i=this.dropdown.getDatumForCursor())?(this._select(i),e.preventDefault()):this._autocomplete()},_onEscKeyed:function(){this.dropdown.close(),this.input.resetInputValue()},_onUpKeyed:function(){var t=this.input.getQuery();!this.dropdown.isOpen&&t.length>=this.minLength&&this.dropdown.update(t),this.dropdown.open(),this.dropdown.moveCursorUp()},_onDownKeyed:function(){var t=this.input.getQuery();!this.dropdown.isOpen&&t.length>=this.minLength&&this.dropdown.update(t),this.dropdown.open(),this.dropdown.moveCursorDown()},_onLeftKeyed:function(){"rtl"===this.dir&&this._autocomplete()},_onRightKeyed:function(){"ltr"===this.dir&&this._autocomplete()},_onQueryChanged:function(t,e){this.input.clearHint(),this.dropdown.empty(),e.length>=this.minLength&&this.dropdown.update(e),this.dropdown.open(),this._setLanguageDirection()},_onWhitespaceChanged:function(){this._updateHint(),this.dropdown.open()},_setLanguageDirection:function(){var t;this.dir!==(t=this.input.getLanguageDirection())&&(this.dir=t,this.$node.css("direction",t),this.dropdown.setLanguageDirection(t))},_updateHint:function(){var t,e,i=this.dropdown.getDatumForTopSuggestion();i&&this.dropdown.isVisible()&&!this.input.hasOverflow()&&(t=this.input.getInputValue(),e=q.normalizeQuery(t),e=u.escapeRegExChars(e),i=new RegExp("^(?:"+e+")(.*$)","i").exec(i.value),this.input.setHintValue(t+(i?i[1]:"")))},_autocomplete:function(){var t=this.input.getHintValue(),e=this.input.getQuery();t&&e!==t&&this.input.isCursorAtEnd()&&((t=this.dropdown.getDatumForTopSuggestion())&&this.input.setInputValue(t.value),this.eventBus.trigger("autocompleted",t.raw,t.datasetName))},_select:function(t){this.input.clearHint(),this.input.setQuery(t.value),this.input.setInputValue(t.value,!0),this._setLanguageDirection(),this.eventBus.trigger("selected",t.raw,t.datasetName),this.dropdown.close(),u.defer(u.bind(this.dropdown.empty,this.dropdown))},open:function(){this.dropdown.open()},close:function(){this.dropdown.close()},getQuery:function(){return this.input.getQuery()},setQuery:function(t){this.input.setInputValue(t)},destroy:function(){var t,i;this.input.destroy(),this.dropdown.destroy(),t=this.$node,i=t.find(".tt-input"),u.each(i.data(S),function(t,e){u.isUndefined(t)?i.removeAttr(e):i.attr(e,t)}),i.detach().removeData(S).removeClass("tt-input").insertAfter(t),t.remove(),this.$node=null}}),K);function K(t){var e,i,n;(t=t||{}).input||c.error("missing input"),this.autoselect=!!t.autoselect,this.minLength=u.isNumber(t.minLength)?t.minLength:1,this.$node=function(t,e){var i,n,s;i=c(t),n=c(p.wrapper).css(g.wrapper),s=c(p.dropdown).css(g.dropdown),(t=i.clone().css(g.hint).css(function(t){return{backgroundAttachment:t.css("background-attachment"),backgroundClip:t.css("background-clip"),backgroundColor:t.css("background-color"),backgroundImage:t.css("background-image"),backgroundOrigin:t.css("background-origin"),backgroundPosition:t.css("background-position"),backgroundRepeat:t.css("background-repeat"),backgroundSize:t.css("background-size")}}(i))).val("").removeData().addClass("tt-hint").removeAttr("id name placeholder").prop("disabled",!0).attr({autocomplete:"off",spellcheck:"false"}),i.data(S,{dir:i.attr("dir"),autocomplete:i.attr("autocomplete"),spellcheck:i.attr("spellcheck"),style:i.attr("style")}),i.addClass("tt-input").attr({autocomplete:"off",spellcheck:!1}).css(e?g.input:g.inputWithNoHint);try{i.attr("dir")||i.attr("dir","auto")}catch(t){}return i.wrap(n).parent().prepend(e?t:null).append(s)}(t.input,t.withHint),e=this.$node.find(".tt-dropdown-menu"),i=this.$node.find(".tt-input"),n=this.$node.find(".tt-hint"),this.eventBus=t.eventBus||new L({el:i}),this.dropdown=new R({menu:e,datasets:t.datasets}).onSync("suggestionClicked",this._onSuggestionClicked,this).onSync("cursorMoved",this._onCursorMoved,this).onSync("cursorRemoved",this._onCursorRemoved,this).onSync("opened",this._onOpened,this).onSync("closed",this._onClosed,this).onAsync("datasetRendered",this._onDatasetRendered,this),this.input=new q({input:i,hint:n}).onSync("focused",this._onFocused,this).onSync("blurred",this._onBlurred,this).onSync("enterKeyed",this._onEnterKeyed,this).onSync("tabKeyed",this._onTabKeyed,this).onSync("escKeyed",this._onEscKeyed,this).onSync("upKeyed",this._onUpKeyed,this).onSync("downKeyed",this._onDownKeyed,this).onSync("leftKeyed",this._onLeftKeyed,this).onSync("rightKeyed",this._onRightKeyed,this).onSync("queryChanged",this._onQueryChanged,this).onSync("whitespaceChanged",this._onWhitespaceChanged,this),e.on("mousedown.tt",function(t){u.isMsie()&&u.isMsie()<9&&(i[0].onbeforedeactivate=function(){window.event.returnValue=!1,i[0].onbeforedeactivate=null}),t.preventDefault()})}function Y(t){var e,i,n,s=this;(t=t||{}).menu||c.error("menu is required"),this.isOpen=!1,this.isEmpty=!0,this.datasets=u.map(t.datasets,B),e=u.bind(this._onSuggestionClick,this),i=u.bind(this._onSuggestionMouseEnter,this),n=u.bind(this._onSuggestionMouseLeave,this),this.$menu=c(t.menu).on("click.tt",".tt-suggestion",e).on("mouseenter.tt",".tt-suggestion",i).on("mouseleave.tt",".tt-suggestion",n),u.each(this.datasets,function(t){s.$menu.append(t.getRoot()),t.onSync("rendered",s._onRendered,s)})}function B(t){return new F(t)}function V(t){var e,i;(t=t||{}).templates=t.templates||{},t.source||c.error("missing source"),t.name&&!/^[_a-zA-Z0-9-]+$/.test(t.name)&&c.error("invalid dataset name: "+t.name),this.query=null,this.highlight=!!t.highlight,this.name=t.name||u.getUniqueId(),this.source=t.source,this.displayFn=(i=(i=t.display||t.displayKey)||"value",u.isFunction(i)?i:function(t){return t[i]}),this.templates=(t=t.templates,e=this.displayFn,{empty:t.empty&&u.templatify(t.empty),header:t.header&&u.templatify(t.header),footer:t.footer&&u.templatify(t.footer),suggestion:t.suggestion||function(t){return"<p>"+e(t)+"</p>"}}),this.$el=c(p.dataset.replace("%CLASS%",this.name))}function W(t){var e,i,n,s,a=this;(t=t||{}).input||c.error("input is missing"),e=u.bind(this._onBlur,this),i=u.bind(this._onFocus,this),n=u.bind(this._onKeydown,this),s=u.bind(this._onInput,this),this.$hint=c(t.hint),this.$input=c(t.input).on("blur.tt",e).on("focus.tt",i).on("keydown.tt",n),0===this.$hint.length&&(this.setHintValue=this.getHintValue=this.clearHint=u.noop),u.isMsie()?this.$input.on("keydown.tt keypress.tt cut.tt paste.tt",function(t){N[t.which||t.keyCode]||u.defer(u.bind(a._onInput,a,t))}):this.$input.on("input.tt",s),this.query=this.$input.val(),this.$overflowHelper=(s=this.$input,c('<pre aria-hidden="true"></pre>').css({position:"absolute",visibility:"hidden",whiteSpace:"nowrap",fontFamily:s.css("font-family"),fontSize:s.css("font-size"),fontStyle:s.css("font-style"),fontVariant:s.css("font-variant"),fontWeight:s.css("font-weight"),wordSpacing:s.css("word-spacing"),letterSpacing:s.css("letter-spacing"),textIndent:s.css("text-indent"),textRendering:s.css("text-rendering"),textTransform:s.css("text-transform")}).insertAfter(s))}function U(t){return t.altKey||t.ctrlKey||t.metaKey||t.shiftKey}function Q(t,e,i,n){var s,a,r;if(!i)return this;for(e=e.split(E),i=n?(r=n,(a=i).bind?a.bind(r):function(){a.apply(r,[].slice.call(arguments,0))}):i,this._callbacks=this._callbacks||{};s=e.shift();)this._callbacks[s]=this._callbacks[s]||{sync:[],async:[]},this._callbacks[s][t].push(i);return this}function J(i,n,s){return function(){for(var t,e=0;!t&&e<i.length;e+=1)t=!1===i[e].apply(n,s);return!t}}function G(t){t&&t.el||c.error("EventBus initialized without el"),this.$el=c(t.el)}O=c.fn.typeahead,j="ttTypeahead",P={initialize:function(i,n){return n=u.isArray(n)?n:[].slice.call(arguments,1),i=i||{},this.each(function(){var t,e=c(this);u.each(n,function(t){t.highlight=!!i.highlight}),t=new z({input:e,eventBus:new L({el:e}),withHint:!!u.isUndefined(i.hint)||!!i.hint,minLength:i.minLength,autoselect:i.autoselect,datasets:n}),e.data(j,t)})},open:function(){return this.each(function(){var t;(t=c(this).data(j))&&t.open()})},close:function(){return this.each(function(){var t;(t=c(this).data(j))&&t.close()})},val:function(e){return arguments.length?this.each(function(){var t;(t=c(this).data(j))&&t.setQuery(e)}):(t=this.first(),i=(t=t.data(j))?t.getQuery():i);var t,i},destroy:function(){return this.each(function(){var t,e=c(this);(t=e.data(j))&&(t.destroy(),e.removeData(j))})}},c.fn.typeahead=function(t){return P[t]?P[t].apply(this,[].slice.call(arguments,1)):P.initialize.apply(this,arguments)},c.fn.typeahead.noConflict=function(){return c.fn.typeahead=O,this}}(window.jQuery),function(n,s){var t,a,r,o,c,l={isset:!1,timer:null,position:0},d={isset:!1,timer:null,position:0};function e(){var t=function(){if(void 0!==window.pageYOffset)return window.pageYOffset;var t=s.documentElement;return(t.clientHeight?t:s.body).scrollTop}(),e=(clearTimeout(l.timer),l.timer=setTimeout(function(){l.isset=!1},300),l.isset||(l.position=n("#post-body").offset().top-o,l.isset=!0),l.position),i=0;e<t?(r.addClass("sticky"),i=t-e):r.removeClass("sticky"),e+c<(clearTimeout(d.timer),d.timer=setTimeout(function(){d.isset=!1},300),d.isset||(e=a.height()-c,d.position=0<e?e:0,d.isset=!0),d.position)&&(i=i,r.css({top:i,height:c}))}function i(){e()}function u(){c=n(window).height()-o}function h(){u(),e()}function p(t){var e=n("#post-body"),t=n(t.currentTarget);return e.hasClass("pb-toggled")?t.find(".fa-chevron-left").removeClass("fa-chevron-left").addClass("fa-chevron-right"):t.find(".fa-chevron-right").removeClass("fa-chevron-right").addClass("fa-chevron-left"),e.toggleClass("pb-toggled"),!1}n(s).ready(function(){t=n(window),n(s),a=n("#postbox-container-2"),r=n("#postbox-container-1"),o=n("#wpadminbar").height(),r.prepend('<a href="#"id="settings-bar-toggler"title="Toggles the sidebar"><i class="fa fa-chevron-right"></i></a>'),t.on("resize",h).on("scroll",i),r.on("click","#settings-bar-toggler",p),u(),setTimeout(e,500)})}(jQuery,document);