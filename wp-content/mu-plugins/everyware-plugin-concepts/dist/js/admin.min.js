!function(t,e,n){let o,c,i,r,s,l,a,p="concept.settings.toggleSpinner",u="concept.settings.updateTooltip",d="concept.settings.removeConcept",g="concept.settings.removePost",f="concepts_settings_sync",m="concepts_remove_post",h="concepts";function C(e,o){(function(e,o="sync"){return t.post(n,{action:h,route:"sync",uuid:e})})(e).success((function(c,i,r){c.length,o.trigger(u,[y(r)]),function(e,o){t.post(n,{action:f,uuid:e}).success((function(){o.trigger(p),o.trigger(d)})).fail((function(t){o.trigger(u,[t.responseJSON.message]),o.trigger(p)}))}(e,o)})).fail((function(t){o.trigger(u,[y(t)]),o.trigger(p)}))}function y(t){return 201===t.status?"Concept created!":424===t.status?"Whoops, Concept could not be found in Open Content! Try refresh the diff list":"Concept updated!"}function b(e){let n=t(e.currentTarget);!function(e,n){0!==n.length?(c.addClass("hidden"),c.filter((function(e,o){return t(o).data("title").toLowerCase().indexOf(n)>-1})).removeClass("hidden")):c.removeClass("hidden")}(0,n.val().toLowerCase())}t(e).ready((function(){o=t(".concepts-js-copy"),s=t(".concepts-js-sync-single"),l=t(".concepts-js-remove-post"),r=t(".concepts-js-table-filter"),c=t(".concept-js-table-row"),i=t(".concepts-js-event-log-health"),a=t(".concepts-js-spinner"),o.tooltip({placement:"bottom",html:!0}),s.tooltip({placement:"left",html:!0}),i.tooltip({placement:"left",html:!0}),r.focus(),o.click((function(n){n.stopPropagation();let o=t(n.currentTarget);!function(t,n){if(!0===e.queryCommandSupported("copy")){let o=e.createElement("textarea");o.value=t,e.body.appendChild(o),o.select();try{let t=e.execCommand("copy");n.trigger(u,[t?"Copied!":"Whoops, not copied!"])}catch(t){}e.body.removeChild(o)}else window.prompt("Copy to clipboard: Ctrl+C or Command+C, Enter",t)}(o.data("copy"),o)})),s.click((function(e){let n=t(e.currentTarget);C(n.data("uuid"),n)})),l.click((function(e){let o=t(e.currentTarget);!function(e,o){t.post(n,{action:m,id:e}).success((function(){o.trigger(g)})).fail((function(t){o.trigger(u,[t.responseJSON.message])}))}(o.data("id"),o)})),s.bind(d,(function(e){t(e.currentTarget).closest(".concept-js-table-row").remove()})),l.bind(g,(function(e){let n=t(e.currentTarget).closest(".concept-post__item"),o=n.siblings().length+1,c=n.closest(".panel");o<=1?c.remove():(n.remove(),t(".badge",c).html(o-1))})),r.on("keyup",b).on("blur",b).on("focus",b),t(".concepts-js-tooltip").tooltip({html:!0}).bind(u,(function(e,n){let o=t(e.currentTarget),c=o.data("original-title");o.attr("title",n).tooltip("fixTitle").tooltip("show").attr("title",c).tooltip("fixTitle")})),a.bind(p,(function(e){let n=t(e.currentTarget),o=n;o.is(".fa")||(o=n.children(".fa")),o.hasClass("fa-spin")?o.removeClass("fa-spin"):o.addClass("fa-spin")})),a.click((function(e){t(e.currentTarget).trigger(p)}))}))}(jQuery,document,ajaxurl||"/ajax.php");