!function l(s,n,o){function a(t,e){if(!n[t]){if(!s[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(r)return r(t,!0);throw(i=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",i}i=n[t]={exports:{}},s[t][0].call(i.exports,function(e){return a(s[t][1][e]||e)},i,i.exports,l,s,n,o)}return n[t].exports}for(var r="function"==typeof require&&require,e=0;e<o.length;e++)a(o[e]);return a}({1:[function(e,t,i){e("./components/sortable-list"),e("./components/json-import-export"),e("./jquery/jquery.multi-select.js"),e("./components/oc-query-tester"),e("./components/image-upload"),jQuery(function(l){l(".ew-wrap .ew-tooltip").each(function(e,t){var i=l(t).closest(".ew-wrap");l(t).tooltip({container:i,trigger:"focus",toggle:"tooltip",html:!0,template:'<div class="tooltip ew-tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>'})}),l(".ew-wrap .ew-popover").popover()})},{"./components/image-upload":2,"./components/json-import-export":3,"./components/oc-query-tester":4,"./components/sortable-list":5,"./jquery/jquery.multi-select.js":6}],2:[function(e,t,i){jQuery(function(i){i(document).ready(function(e){window.ImageUpload=window.ImageUpload||{};var t=window.ImageUpload;t.file_frame=null,t.initialized=!1,t.uploadTriggered=!1,t.uploadButton=void 0,t.init=function(){t.initialized=!0,i(document).on("click",".upload_button",function(e){e.preventDefault(),e.stopPropagation(),t.uploadTriggered||(t.uploadTriggered=!0,t.uploadButton=i(e.target),t.file_frame=wp.media.frames.file_frame=wp.media({title:"Picture",button:{text:"select"},multiple:!1}),t.file_frame.on("select",function(){var e=t.file_frame.state().get("selection").first().toJSON();t.appendImage(e)}),t.file_frame.on("close",function(){t.uploadTriggered=!1}),t.file_frame.open())}),i(document).on("click",".image_placeholder .remove",t.removeImage)},t.appendImage=function(e){i(t.uploadButton).siblings(".image_placeholder").html('<span class="ew-image__wrapper img_wrapper"><img class="ew-img__object" src="'+t.createImageSrc(e.url)+'"/><span class="ew-image__icon--remove remove fa fa-times"></span></span>'),i(t.uploadButton).siblings(".hidden").val(e.url),t.uploadButton.val("Byt bild")},t.createImageSrc=function(e){return e+"?"+(new Date).getTime()},t.removeImage=function(e){e=i(e.target).parents(".image_placeholder");e.siblings(".hidden").val(""),e.html(""),t.uploadButton.val("VÃ¤lj bild")},t.initialized||t.init()})})},{}],3:[function(e,t,i){jQuery(function(e){var t,i,l;e(document).ready(function(){t=e("#import-export__wrapper"),i=e(".import__wrapper",t),l=e(".export__wrapper",t),t.on("click",".export__btn",function(){l.slideToggle(),l.find("textarea").select(),i.is(":visible")&&i.slideToggle()}),t.on("click",".import__btn",function(){i.slideToggle(),i.find("textarea").select(),l.is(":visible")&&l.slideToggle()})})})},{}],4:[function(e,t,i){oc_ajax.oc_ajax_url=oc_ajax.oc_ajax_url||"",translation.oc_query_result=translation.oc_query_result||"",jQuery(function(s){var n,i=oc_ajax.oc_ajax_url||"",l="oc-query-result--loaded",o=".oc-query-box",a=".oc-query-result",e=".oc-query-test",r={limit:".oc-query-limit",query:".oc-query-search",start:".oc-query-start",sort:".oc-query-sort"};s(document).on("click",e,function(e){e.preventDefault();var t=e.target,e=s(t),t=e.closest(o),e={action:"test_oc_query",query:(e=e.closest(o)).find(r.query).val(),oc_query_start:e.find(r.start).val(),oc_query_limit:e.find(r.limit).val(),oc_query_sort:e.find(r.sort).val()};return(n=t.find(a)).empty().append('<i class="fa fa-spinner fa-spin fa-2x fa-fw"></i>').addClass(l),s.post(i,e).done(function(e){var t,i='<h4 class="oc-query-result__headline">'+translation.oc_query_result+"</h4>",l=s.parseJSON(e);for(t in l)!{}.hasOwnProperty.call(l,t)||(i+='<p class="oc-query-result__message">'+t+" : "+l[t]+"</p>");n.empty().append(i)}),!1})})},{}],5:[function(e,t,i){jQuery(function(i){var t,l="sortable-list__item--template",s={list:"."+"sortable-list",item:"."+"sortable-list__item",itemClone:"."+l,dragHandle:"."+"sortable-list__drag-handle",addBtn:"."+"sortable-list__item-add",deleteBtn:"."+"sortable-list__item-delete"};i(document).ready(function(){(t=i(s.list).sortable({axis:"y",containment:"parent",items:"> "+s.item,cursor:"move",handle:s.dragHandle,placeholder:"sortable-placeholder",forcePlaceholderSize:!0,tolerance:"pointer"})).on("click",s.deleteBtn,function(e){e.preventDefault();var t=i(e.target).closest(s.item).fadeOut(200,function(){t.remove()})}),i(s.addBtn).on("click",function(e){e.preventDefault();e=i(s.itemClone).clone();e.removeClass(l).appendTo(t),e.find("input").eq(0).focus()})})})},{}],6:[function(e,t,i){!function(h){"use strict";function n(e,t){this.options=t,this.$element=h(e),this.$container=h("<div/>",{class:"ms-container"}),this.$selectableContainer=h("<div/>",{class:"ms-selectable"}),this.$selectionContainer=h("<div/>",{class:"ms-selection"}),this.$selectableUl=h("<ul/>",{class:"ms-list",tabindex:"-1"}),this.$selectionUl=h("<ul/>",{class:"ms-list",tabindex:"-1"}),this.scrollTo=0,this.elemsSelector="li:visible:not(.ms-optgroup-label,.ms-optgroup-container,."+t.disabledClass+")"}n.prototype={constructor:n,init:function(){var e,t=this,i=this.$element;0===i.next(".ms-container").length&&(i.css({position:"absolute",left:"-9999px"}),i.attr("id",i.attr("id")?i.attr("id"):Math.ceil(1e3*Math.random())+"multiselect"),this.$container.attr("id","ms-"+i.attr("id")),this.$container.addClass(t.options.cssClass),i.find("option").each(function(){t.generateLisFromOption(this)}),this.$selectionUl.find(".ms-optgroup-label").hide(),t.options.selectableHeader&&t.$selectableContainer.append(t.options.selectableHeader),t.$selectableContainer.append(t.$selectableUl),t.options.selectableFooter&&t.$selectableContainer.append(t.options.selectableFooter),t.options.selectionHeader&&t.$selectionContainer.append(t.options.selectionHeader),t.$selectionContainer.append(t.$selectionUl),t.options.selectionFooter&&t.$selectionContainer.append(t.options.selectionFooter),t.$container.append(t.$selectableContainer),t.$container.append(t.$selectionContainer),i.after(t.$container),t.activeMouse(t.$selectableUl),t.activeKeyboard(t.$selectableUl),e=t.options.dblClick?"dblclick":"click",t.$selectableUl.on(e,".ms-elem-selectable",function(){t.select(h(this).data("ms-value"))}),t.$selectionUl.on(e,".ms-elem-selection",function(){t.deselect(h(this).data("ms-value"))}),t.activeMouse(t.$selectionUl),t.activeKeyboard(t.$selectionUl),i.on("focus",function(){t.$selectableUl.focus()}));i=i.find("option:selected").map(function(){return h(this).val()}).get();t.select(i,"init"),"function"==typeof t.options.afterInit&&t.options.afterInit.call(this,this.$container)},generateLisFromOption:function(e,t,i){for(var l=this,s=l.$element,n="",o=h(e),a=0;a<e.attributes.length;a++){var r=e.attributes[a];"value"!==r.name&&"disabled"!==r.name&&(n+=r.name+'="'+r.value+'" ')}var c=h("<li "+n+"><span>"+l.escapeHTML(o.text())+"</span></li>"),d=c.clone(),p=o.val(),u=l.sanitize(p);c.data("ms-value",p).addClass("ms-elem-selectable").attr("id",u+"-selectable"),d.data("ms-value",p).addClass("ms-elem-selection").attr("id",u+"-selection").hide(),(o.prop("disabled")||s.prop("disabled"))&&(d.addClass(l.options.disabledClass),c.addClass(l.options.disabledClass));var f,m=o.parent("optgroup");0<m.length?(f=m.attr("label"),p=l.sanitize(f),u=l.$selectableUl.find("#optgroup-selectable-"+p),s=l.$selectionUl.find("#optgroup-selection-"+p),0===u.length&&(o='<ul class="ms-optgroup"><li class="ms-optgroup-label"><span>'+f+"</span></li></ul>",u=h(f='<li class="ms-optgroup-container"></li>'),s=h(f),u.attr("id","optgroup-selectable-"+p),s.attr("id","optgroup-selection-"+p),u.append(h(o)),s.append(h(o)),l.options.selectableOptgroup&&(u.find(".ms-optgroup-label").on("click",function(){var e=m.children(":not(:selected, :disabled)").map(function(){return h(this).val()}).get();l.select(e)}),s.find(".ms-optgroup-label").on("click",function(){var e=m.children(":selected:not(:disabled)").map(function(){return h(this).val()}).get();l.deselect(e)})),l.$selectableUl.append(u),l.$selectionUl.append(s)),t=void 0===t?u.find("ul").children().length:t+1,c.insertAt(t,u.children()),d.insertAt(t,s.children())):(t=void 0===t?l.$selectableUl.children().length:t,c.insertAt(t,l.$selectableUl),d.insertAt(t,l.$selectionUl))},addOption:function(e){var s=this;void 0!==e.value&&null!==e.value&&(e=[e]),h.each(e,function(e,t){var i,l;void 0!==t.value&&null!==t.value&&0===s.$element.find("option[value='"+t.value+"']").length&&(i=h('<option value="'+t.value+'">'+t.text+"</option>"),e=parseInt(void 0===t.index?s.$element.children().length:t.index),l=void 0===t.nested?s.$element:h("optgroup[label='"+t.nested+"']"),i.insertAt(e,l),s.generateLisFromOption(i.get(0),e,t.nested))})},escapeHTML:function(e){return h("<div>").text(e).html()},activeKeyboard:function(i){var l=this;i.on("focus",function(){h(this).addClass("ms-focus")}).on("blur",function(){h(this).removeClass("ms-focus")}).on("keydown",function(e){switch(e.which){case 40:case 38:return e.preventDefault(),e.stopPropagation(),void l.moveHighlight(h(this),38===e.which?-1:1);case 37:case 39:return e.preventDefault(),e.stopPropagation(),void l.switchList(i);case 9:if(l.$element.is("[tabindex]")){e.preventDefault();var t=parseInt(l.$element.attr("tabindex"),10),t=e.shiftKey?t-1:t+1;return void h('[tabindex="'+t+'"]').focus()}e.shiftKey&&l.$element.trigger("focus")}-1<h.inArray(e.which,l.options.keySelect)&&(e.preventDefault(),e.stopPropagation(),l.selectHighlighted(i))})},moveHighlight:function(e,t){var i,l,s,n=e.find(this.elemsSelector),o=n.filter(".ms-hover"),a=null,r=n.first().outerHeight(),c=e.height();this.$container.prop("id");n.removeClass("ms-hover"),1===t?0===(a=o.nextAll(this.elemsSelector).first()).length&&(a=((l=o.parent()).hasClass("ms-optgroup")&&0<(i=l.parent().next(":visible")).length?i.find(this.elemsSelector):n).first()):-1===t&&0===(a=o.prevAll(this.elemsSelector).first()).length&&(a=((l=o.parent()).hasClass("ms-optgroup")&&0<(s=l.parent().prev(":visible")).length?s.find(this.elemsSelector):n).last()),0<a.length&&(a.addClass("ms-hover"),r=e.scrollTop()+a.position().top-c/2+r/2,e.scrollTop(r))},selectHighlighted:function(e){var t=e.find(this.elemsSelector),i=t.filter(".ms-hover").first();0<i.length&&(e.parent().hasClass("ms-selectable")?this.select(i.data("ms-value")):this.deselect(i.data("ms-value")),t.removeClass("ms-hover"))},switchList:function(e){e.blur(),this.$container.find(this.elemsSelector).removeClass("ms-hover"),(e.parent().hasClass("ms-selectable")?this.$selectionUl:this.$selectableUl).focus()},activeMouse:function(e){var t=this;this.$container.on("mouseenter",t.elemsSelector,function(){h(this).parents(".ms-container").find(t.elemsSelector).removeClass("ms-hover"),h(this).addClass("ms-hover")}),this.$container.on("mouseleave",t.elemsSelector,function(){h(this).parents(".ms-container").find(t.elemsSelector).removeClass("ms-hover")})},refresh:function(){this.destroy(),this.$element.multiSelect(this.options)},destroy:function(){h("#ms-"+this.$element.attr("id")).remove(),this.$element.off("focus"),this.$element.css("position","").css("left",""),this.$element.removeData("multiselect")},select:function(e,t){"string"==typeof e&&(e=[e]);var i=this,l=this.$element,s=h.map(e,function(e){return i.sanitize(e)}),n=this.$selectableUl.find("#"+s.join("-selectable, #")+"-selectable").filter(":not(."+i.options.disabledClass+")"),o=this.$selectionUl.find("#"+s.join("-selection, #")+"-selection").filter(":not(."+i.options.disabledClass+")"),a=l.find("option:not(:disabled)").filter(function(){return-1<h.inArray(this.value,e)});"init"===t&&(n=this.$selectableUl.find("#"+s.join("-selectable, #")+"-selectable"),o=this.$selectionUl.find("#"+s.join("-selection, #")+"-selection")),0<n.length&&(n.addClass("ms-selected").hide(),o.addClass("ms-selected").show(),a.prop("selected",!0),i.$container.find(i.elemsSelector).removeClass("ms-hover"),0<(a=i.$selectableUl.children(".ms-optgroup-container")).length?(a.each(function(){var e=h(this).find(".ms-elem-selectable");e.length===e.filter(".ms-selected").length&&h(this).find(".ms-optgroup-label").hide()}),i.$selectionUl.children(".ms-optgroup-container").each(function(){0<h(this).find(".ms-elem-selection").filter(".ms-selected").length&&h(this).find(".ms-optgroup-label").show()})):!i.options.keepOrder||"init"===t||1<(a=i.$selectionUl.find(".ms-selected")).length&&a.last().get(0)!=o.get(0)&&o.insertAfter(a.last()),"init"!==t&&(l.trigger("change"),"function"==typeof i.options.afterSelect&&i.options.afterSelect.call(this,e)))},deselect:function(e){"string"==typeof e&&(e=[e]);var t=this,i=this.$element,l=h.map(e,function(e){return t.sanitize(e)}),s=this.$selectableUl.find("#"+l.join("-selectable, #")+"-selectable"),n=this.$selectionUl.find("#"+l.join("-selection, #")+"-selection").filter(".ms-selected").filter(":not(."+t.options.disabledClass+")"),l=i.find("option").filter(function(){return-1<h.inArray(this.value,e)});0<n.length&&(s.removeClass("ms-selected").show(),n.removeClass("ms-selected").hide(),l.prop("selected",!1),t.$container.find(t.elemsSelector).removeClass("ms-hover"),0<(l=t.$selectableUl.children(".ms-optgroup-container")).length&&(l.each(function(){0<h(this).find(".ms-elem-selectable").filter(":not(.ms-selected)").length&&h(this).find(".ms-optgroup-label").show()}),t.$selectionUl.children(".ms-optgroup-container").each(function(){0===h(this).find(".ms-elem-selection").filter(".ms-selected").length&&h(this).find(".ms-optgroup-label").hide()})),i.trigger("change"),"function"==typeof t.options.afterDeselect&&t.options.afterDeselect.call(this,e))},select_all:function(){var e=this.$element,t=e.val();e.find('option:not(":disabled")').prop("selected",!0),this.$selectableUl.find(".ms-elem-selectable").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").hide(),this.$selectionUl.find(".ms-optgroup-label").show(),this.$selectableUl.find(".ms-optgroup-label").hide(),this.$selectionUl.find(".ms-elem-selection").filter(":not(."+this.options.disabledClass+")").addClass("ms-selected").show(),this.$selectionUl.focus(),e.trigger("change"),"function"==typeof this.options.afterSelect&&(e=h.grep(e.val(),function(e){return h.inArray(e,t)<0}),this.options.afterSelect.call(this,e))},deselect_all:function(){var e=this.$element,t=e.val();e.find("option").prop("selected",!1),this.$selectableUl.find(".ms-elem-selectable").removeClass("ms-selected").show(),this.$selectionUl.find(".ms-optgroup-label").hide(),this.$selectableUl.find(".ms-optgroup-label").show(),this.$selectionUl.find(".ms-elem-selection").removeClass("ms-selected").hide(),this.$selectableUl.focus(),e.trigger("change"),"function"==typeof this.options.afterDeselect&&this.options.afterDeselect.call(this,t)},sanitize:function(e){var t=0;if(0==e.length)return t;for(var i=0,l=e.length;i<l;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return t}},h.fn.multiSelect=function(){var l=arguments[0],s=arguments;return this.each(function(){var e=h(this),t=e.data("multiselect"),i=h.extend({},h.fn.multiSelect.defaults,e.data(),"object"==typeof l&&l);t||e.data("multiselect",t=new n(this,i)),"string"==typeof l?t[l](s[1]):t.init()})},h.fn.multiSelect.defaults={keySelect:[32],selectableOptgroup:!1,disabledClass:"disabled",dblClick:!1,keepOrder:!1,cssClass:""},h.fn.multiSelect.Constructor=n,h.fn.insertAt=function(e,t){return this.each(function(){0===e?t.prepend(this):t.children().eq(e-1).after(this)})}}(window.jQuery)},{}]},{},[1]);