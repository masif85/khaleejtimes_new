{"version":3,"sources":["node_modules/browser-pack/_prelude.js","assets/js/body/everyboard/index.js"],"names":[],"mappings":"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","file":"body-everyboard.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","\"use strict\";\n\n$(document).ready(function () {\n\n    /**\n     * Device size names used by Everyboard to formulate class names.\n     *\n     * @type {string[]}\n     */\n    const everyboardDevices = ['xs', 'sm', 'md', 'lg'];\n\n    /**\n     * Supported frameworks and patterns to the classes Everyboard uses to hide/show elements on different devices.\n     *\n     * If a pattern is specific to a device, it should be captured by the first parenthesis.\n     * Else it will be assumed to be a device-independent class.\n     *\n     * The devices in `deviceMap` correspond to the four devices in `everyboardDevices`.\n     */\n    const frameworks = [\n        { // Bootstrap4\n            hidePattern: /^d-([a-z]{2})?-?none$/,\n            showPattern: /^d-([a-z]{2})-[a-z]+/,\n            deviceMap: ['sm', 'md', 'lg', 'xl']\n        },\n        { // Suit\n            hidePattern: /^u-([a-z]{2})-hidden$/,\n            showPattern: null,\n            deviceMap: ['sm', 'md', 'lg', 'xl']\n        },\n        { // Legacy\n            hidePattern: /^hidden-([a-z]{2})$/,\n            showPattern: null,\n            deviceMap: ['xs', 'sm', 'md', 'lg']\n        }\n    ];\n\n    /**\n     * @type {boolean} Setting TRUE optimizes so that only the patterns of the first detected framework will be tried.\n     */\n    const onlyOneFrameworkCanBeActive = true;\n\n    /**\n     * @type {number|null}\n     */\n    let detectedFrameworkIndex = null;\n\n    /**\n     * Add CSS classes to make it clear which elements in a collection that will be\n     * the first and last VISIBLE ones, when viewed on a certain device.\n     *\n     * Classes are only added when something in $collection has been hidden, i.e.\n     * when :first-child and :last-child will not be enough to select the elements.\n     *\n     * @param {jQuery} $collection\n     */\n    const classifyFirstAndLastVisibleElement = function ($collection) {\n\n        if (detectedFrameworkIndex !== null) {\n            classifyUsingFramework($collection, frameworks[detectedFrameworkIndex]);\n\n            return;\n        }\n\n        for (let i = 0; i < frameworks.length; i++) {\n            const hasMatches = classifyUsingFramework($collection, frameworks[i]);\n            if (hasMatches && onlyOneFrameworkCanBeActive) {\n                detectedFrameworkIndex = i;\n\n                return;\n            }\n        }\n    };\n\n    /**\n     * @param {string} ebDevice\n     *\n     * @returns {string}\n     */\n    const getFirstVisibleClass = function (ebDevice) {\n        return 'first-' + ebDevice;\n    };\n\n    /**\n     * @param {string} ebDevice\n     *\n     * @returns {string}\n     */\n    const getLastVisibleClass = function (ebDevice) {\n        return 'last-' + ebDevice;\n    };\n\n    /**\n     * @param {jQuery} $collection\n     * @param {object} framework\n     *\n     * @returns {boolean}  TRUE if found any matches on this framework, else FALSE\n     */\n    const classifyUsingFramework = function ($collection, framework) {\n        let foundMatchInFramework = false;\n\n        for (let i = 0; i < framework.deviceMap.length; i++) {\n            const ebDevice = everyboardDevices[i];\n\n            let lastVisibleIndex = null;\n            for (let j = 0; j < $collection.length; j++) {\n                const $element = $collection.eq(j);\n\n                if (frameworkHidesElementOnDevice(framework, $element, i)) {\n                    continue;\n                }\n\n                // This element is visible on this device!\n                const firstVisibleElement = (lastVisibleIndex === null);\n                const firstElementAnyway = (j === 0);\n                lastVisibleIndex = j;\n\n                if (firstVisibleElement && !firstElementAnyway) {\n                    $element.addClass(getFirstVisibleClass(ebDevice));\n                }\n            }\n\n            if (lastVisibleIndex !== null) {\n                const lastElementAnyway = (lastVisibleIndex === $collection.length - 1);\n                if (!lastElementAnyway) {\n                    $collection.eq(lastVisibleIndex).addClass(getLastVisibleClass(ebDevice));\n                }\n                foundMatchInFramework = true;\n            }\n        }\n\n        return foundMatchInFramework;\n    }\n\n    /**\n     * @param {object} framework\n     * @param {jQuery} $element\n     * @param {number} deviceIndex\n     *\n     * @returns {boolean}\n     */\n    const frameworkHidesElementOnDevice = function (framework, $element, deviceIndex) {\n        let isHidden = false;\n        const classes = $element.attr('class').split(' ');\n\n        // From smallest device to largest...\n        for (let i = 0; i <= deviceIndex; i++) {\n\n            // Check each class in the order they are mentioned...\n            for (let j = 0; j < classes.length; j++) {\n\n                const hideMatch = (framework.hidePattern === null) ? null : framework.hidePattern.exec(classes[j]);\n                const showMatch = (framework.showPattern === null) ? null : framework.showPattern.exec(classes[j]);\n\n                if (matchAppliesToDevice(hideMatch, i, framework.deviceMap)) {\n                    isHidden = true;\n                } else if (matchAppliesToDevice(showMatch, i, framework.deviceMap)) {\n                    isHidden = false;\n                }\n            }\n        }\n\n        return isHidden;\n    };\n\n    /**\n     * @param {object|null} match       Result from RegExp.prototype.exec()\n     * @param {number}      deviceIndex\n     * @param {string[]}    deviceList  In order from smallest to largest\n     *\n     * @returns {boolean}\n     */\n    const matchAppliesToDevice = function (match, deviceIndex, deviceList) {\n        if (match === null) {\n            return false;\n        }\n        const specificToDevice = (typeof match[1] === \"string\") ? match[1] : false;\n        const isSmallestDevice = (deviceIndex === 0);\n        return (specificToDevice === deviceList[deviceIndex] || (specificToDevice === false && isSmallestDevice));\n    };\n\n    // Classify all rows, columns and items in Everyboards.\n    $('.every_board').each(function () {\n\n        const $rows = $(this).children();\n        classifyFirstAndLastVisibleElement($rows);\n\n        $rows.each(function () {\n            const $cols = $(this).children();\n            classifyFirstAndLastVisibleElement($cols);\n\n            $cols.each(function () {\n                const $items = $(this).children();\n                classifyFirstAndLastVisibleElement($items);\n            });\n\n        });\n\n    });\n\n});\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhc3NldHMvanMvYm9keS9ldmVyeWJvYXJkL2luZGV4LmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0FDQUE7O0FBRUEsQ0FBQyxDQUFDLFFBQUQsQ0FBRCxDQUFZLEtBQVosQ0FBa0IsWUFBWTtBQUUxQjtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0ksTUFBTSxpQkFBaUIsR0FBRyxDQUFDLElBQUQsRUFBTyxJQUFQLEVBQWEsSUFBYixFQUFtQixJQUFuQixDQUExQjtBQUVBO0FBQ0o7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0ksTUFBTSxVQUFVLEdBQUcsQ0FDZjtBQUFFO0FBQ0UsSUFBQSxXQUFXLEVBQUUsdUJBRGpCO0FBRUksSUFBQSxXQUFXLEVBQUUsc0JBRmpCO0FBR0ksSUFBQSxTQUFTLEVBQUUsQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWIsRUFBbUIsSUFBbkI7QUFIZixHQURlLEVBTWY7QUFBRTtBQUNFLElBQUEsV0FBVyxFQUFFLHVCQURqQjtBQUVJLElBQUEsV0FBVyxFQUFFLElBRmpCO0FBR0ksSUFBQSxTQUFTLEVBQUUsQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWIsRUFBbUIsSUFBbkI7QUFIZixHQU5lLEVBV2Y7QUFBRTtBQUNFLElBQUEsV0FBVyxFQUFFLHFCQURqQjtBQUVJLElBQUEsV0FBVyxFQUFFLElBRmpCO0FBR0ksSUFBQSxTQUFTLEVBQUUsQ0FBQyxJQUFELEVBQU8sSUFBUCxFQUFhLElBQWIsRUFBbUIsSUFBbkI7QUFIZixHQVhlLENBQW5CO0FBa0JBO0FBQ0o7QUFDQTs7QUFDSSxNQUFNLDJCQUEyQixHQUFHLElBQXBDO0FBRUE7QUFDSjtBQUNBOztBQUNJLE1BQUksc0JBQXNCLEdBQUcsSUFBN0I7QUFFQTtBQUNKO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBQ0ksTUFBTSxrQ0FB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SyxDQUFDLENBQUQsQ0FBWixLQUFvQixRQUFyQixHQUFpQyxLQUFLLENBQUMsQ0FBRCxDQUF0QyxHQUE0QyxLQUFyRTtBQUNBLFFBQU0sZ0JBQWdCLEdBQUksV0FBVyxLQUFLLENBQTFDO0FBQ0EsV0FBUSxnQkFBZ0IsS0FBSyxVQUFVLENBQUMsV0FBRCxDQUEvQixJQUFpRCxnQkFBZ0IsS0FBSyxLQUFyQixJQUE4QixnQkFBdkY7QUFDSCxHQVBELENBMUswQixDQW1MMUI7OztBQUNBLEVBQUEsQ0FBQyxDQUFDLGNBQUQsQ0FBRCxDQUFrQixJQUFsQixDQUF1QixZQUFZO0FBRS9CLFFBQU0sS0FBSyxHQUFHLENBQUMsQ0FBQyxJQUFELENBQUQsQ0FBUSxRQUFSLEVBQWQ7QUFDQSxJQUFBLGtDQUFrQyxDQUFDLEtBQUQsQ0FBbEM7QUFFQSxJQUFBLEtBQUssQ0FBQyxJQUFOLENBQVcsWUFBWTtBQUNuQixVQUFNLEtBQUssR0FBRyxDQUFDLENBQUMsSUFBRCxDQUFELENBQVEsUUFBUixFQUFkO0FBQ0EsTUFBQSxrQ0FBa0MsQ0FBQyxLQUFELENBQWxDO0FBRUEsTUFBQSxLQUFLLENBQUMsSUFBTixDQUFXLFlBQVk7QUFDbkIsWUFBTSxNQUFNLEdBQUcsQ0FBQyxDQUFDLElBQUQsQ0FBRCxDQUFRLFFBQVIsRUFBZjtBQUNBLFFBQUEsa0NBQWtDLENBQUMsTUFBRCxDQUFsQztBQUNILE9BSEQ7QUFLSCxLQVREO0FBV0gsR0FoQkQ7QUFrQkgsQ0F0TUQiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJcInVzZSBzdHJpY3RcIjtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG4gICAgLyoqXG4gICAgICogRGV2aWNlIHNpemUgbmFtZXMgdXNlZCBieSBFdmVyeWJvYXJkIHRvIGZvcm11bGF0ZSBjbGFzcyBuYW1lcy5cbiAgICAgKlxuICAgICAqIEB0eXBlIHtzdHJpbmdbXX1cbiAgICAgKi9cbiAgICBjb25zdCBldmVyeWJvYXJkRGV2aWNlcyA9IFsneHMnLCAnc20nLCAnbWQnLCAnbGcnXTtcblxuICAgIC8qKlxuICAgICAqIFN1cHBvcnRlZCBmcmFtZXdvcmtzIGFuZCBwYXR0ZXJucyB0byB0aGUgY2xhc3NlcyBFdmVyeWJvYXJkIHVzZXMgdG8gaGlkZS9zaG93IGVsZW1lbnRzIG9uIGRpZmZlcmVudCBkZXZpY2VzLlxuICAgICAqXG4gICAgICogSWYgYSBwYXR0ZXJuIGlzIHNwZWNpZmljIHRvIGEgZGV2aWNlLCBpdCBzaG91bGQgYmUgY2FwdHVyZWQgYnkgdGhlIGZpcnN0IHBhcmVudGhlc2lzLlxuICAgICAqIEVsc2UgaXQgd2lsbCBiZSBhc3N1bWVkIHRvIGJlIGEgZGV2aWNlLWluZGVwZW5kZW50IGNsYXNzLlxuICAgICAqXG4gICAgICogVGhlIGRldmljZXMgaW4gYGRldmljZU1hcGAgY29ycmVzcG9uZCB0byB0aGUgZm91ciBkZXZpY2VzIGluIGBldmVyeWJvYXJkRGV2aWNlc2AuXG4gICAgICovXG4gICAgY29uc3QgZnJhbWV3b3JrcyA9IFtcbiAgICAgICAgeyAvLyBCb290c3RyYXA0XG4gICAgICAgICAgICBoaWRlUGF0dGVybjogL15kLShbYS16XXsyfSk/LT9ub25lJC8sXG4gICAgICAgICAgICBzaG93UGF0dGVybjogL15kLShbYS16XXsyfSktW2Etel0rLyxcbiAgICAgICAgICAgIGRldmljZU1hcDogWydzbScsICdtZCcsICdsZycsICd4bCddXG4gICAgICAgIH0sXG4gICAgICAgIHsgLy8gU3VpdFxuICAgICAgICAgICAgaGlkZVBhdHRlcm46IC9edS0oW2Etel17Mn0pLWhpZGRlbiQvLFxuICAgICAgICAgICAgc2hvd1BhdHRlcm46IG51bGwsXG4gICAgICAgICAgICBkZXZpY2VNYXA6IFsnc20nLCAnbWQnLCAnbGcnLCAneGwnXVxuICAgICAgICB9LFxuICAgICAgICB7IC8vIExlZ2FjeVxuICAgICAgICAgICAgaGlkZVBhdHRlcm46IC9eaGlkZGVuLShbYS16XXsyfSkkLyxcbiAgICAgICAgICAgIHNob3dQYXR0ZXJuOiBudWxsLFxuICAgICAgICAgICAgZGV2aWNlTWFwOiBbJ3hzJywgJ3NtJywgJ21kJywgJ2xnJ11cbiAgICAgICAgfVxuICAgIF07XG5cbiAgICAvKipcbiAgICAgKiBAdHlwZSB7Ym9vbGVhbn0gU2V0dGluZyBUUlVFIG9wdGltaXplcyBzbyB0aGF0IG9ubHkgdGhlIHBhdHRlcm5zIG9mIHRoZSBmaXJzdCBkZXRlY3RlZCBmcmFtZXdvcmsgd2lsbCBiZSB0cmllZC5cbiAgICAgKi9cbiAgICBjb25zdCBvbmx5T25lRnJhbWV3b3JrQ2FuQmVBY3RpdmUgPSB0cnVlO1xuXG4gICAgLyoqXG4gICAgICogQHR5cGUge251bWJlcnxudWxsfVxuICAgICAqL1xuICAgIGxldCBkZXRlY3RlZEZyYW1ld29ya0luZGV4ID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIEFkZCBDU1MgY2xhc3NlcyB0byBtYWtlIGl0IGNsZWFyIHdoaWNoIGVsZW1lbnRzIGluIGEgY29sbGVjdGlvbiB0aGF0IHdpbGwgYmVcbiAgICAgKiB0aGUgZmlyc3QgYW5kIGxhc3QgVklTSUJMRSBvbmVzLCB3aGVuIHZpZXdlZCBvbiBhIGNlcnRhaW4gZGV2aWNlLlxuICAgICAqXG4gICAgICogQ2xhc3NlcyBhcmUgb25seSBhZGRlZCB3aGVuIHNvbWV0aGluZyBpbiAkY29sbGVjdGlvbiBoYXMgYmVlbiBoaWRkZW4sIGkuZS5cbiAgICAgKiB3aGVuIDpmaXJzdC1jaGlsZCBhbmQgOmxhc3QtY2hpbGQgd2lsbCBub3QgYmUgZW5vdWdoIHRvIHNlbGVjdCB0aGUgZWxlbWVudHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJGNvbGxlY3Rpb25cbiAgICAgKi9cbiAgICBjb25zdCBjbGFzc2lmeUZpcnN0QW5kTGFzdFZpc2libGVFbGVtZW50ID0gZnVuY3Rpb24gKCRjb2xsZWN0aW9uKSB7XG5cbiAgICAgICAgaWYgKGRldGVjdGVkRnJhbWV3b3JrSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGNsYXNzaWZ5VXNpbmdGcmFtZXdvcmsoJGNvbGxlY3Rpb24sIGZyYW1ld29ya3NbZGV0ZWN0ZWRGcmFtZXdvcmtJbmRleF0pO1xuXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYW1ld29ya3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGhhc01hdGNoZXMgPSBjbGFzc2lmeVVzaW5nRnJhbWV3b3JrKCRjb2xsZWN0aW9uLCBmcmFtZXdvcmtzW2ldKTtcbiAgICAgICAgICAgIGlmIChoYXNNYXRjaGVzICYmIG9ubHlPbmVGcmFtZXdvcmtDYW5CZUFjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGRldGVjdGVkRnJhbWV3b3JrSW5kZXggPSBpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBlYkRldmljZVxuICAgICAqXG4gICAgICogQHJldHVybnMge3N0cmluZ31cbiAgICAgKi9cbiAgICBjb25zdCBnZXRGaXJzdFZpc2libGVDbGFzcyA9IGZ1bmN0aW9uIChlYkRldmljZSkge1xuICAgICAgICByZXR1cm4gJ2ZpcnN0LScgKyBlYkRldmljZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGViRGV2aWNlXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgICAqL1xuICAgIGNvbnN0IGdldExhc3RWaXNpYmxlQ2xhc3MgPSBmdW5jdGlvbiAoZWJEZXZpY2UpIHtcbiAgICAgICAgcmV0dXJuICdsYXN0LScgKyBlYkRldmljZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtqUXVlcnl9ICRjb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGZyYW1ld29ya1xuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59ICBUUlVFIGlmIGZvdW5kIGFueSBtYXRjaGVzIG9uIHRoaXMgZnJhbWV3b3JrLCBlbHNlIEZBTFNFXG4gICAgICovXG4gICAgY29uc3QgY2xhc3NpZnlVc2luZ0ZyYW1ld29yayA9IGZ1bmN0aW9uICgkY29sbGVjdGlvbiwgZnJhbWV3b3JrKSB7XG4gICAgICAgIGxldCBmb3VuZE1hdGNoSW5GcmFtZXdvcmsgPSBmYWxzZTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGZyYW1ld29yay5kZXZpY2VNYXAubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGViRGV2aWNlID0gZXZlcnlib2FyZERldmljZXNbaV07XG5cbiAgICAgICAgICAgIGxldCBsYXN0VmlzaWJsZUluZGV4ID0gbnVsbDtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgJGNvbGxlY3Rpb24ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICBjb25zdCAkZWxlbWVudCA9ICRjb2xsZWN0aW9uLmVxKGopO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZyYW1ld29ya0hpZGVzRWxlbWVudE9uRGV2aWNlKGZyYW1ld29yaywgJGVsZW1lbnQsIGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIFRoaXMgZWxlbWVudCBpcyB2aXNpYmxlIG9uIHRoaXMgZGV2aWNlIVxuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0VmlzaWJsZUVsZW1lbnQgPSAobGFzdFZpc2libGVJbmRleCA9PT0gbnVsbCk7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RFbGVtZW50QW55d2F5ID0gKGogPT09IDApO1xuICAgICAgICAgICAgICAgIGxhc3RWaXNpYmxlSW5kZXggPSBqO1xuXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0VmlzaWJsZUVsZW1lbnQgJiYgIWZpcnN0RWxlbWVudEFueXdheSkge1xuICAgICAgICAgICAgICAgICAgICAkZWxlbWVudC5hZGRDbGFzcyhnZXRGaXJzdFZpc2libGVDbGFzcyhlYkRldmljZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGxhc3RWaXNpYmxlSW5kZXggIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBsYXN0RWxlbWVudEFueXdheSA9IChsYXN0VmlzaWJsZUluZGV4ID09PSAkY29sbGVjdGlvbi5sZW5ndGggLSAxKTtcbiAgICAgICAgICAgICAgICBpZiAoIWxhc3RFbGVtZW50QW55d2F5KSB7XG4gICAgICAgICAgICAgICAgICAgICRjb2xsZWN0aW9uLmVxKGxhc3RWaXNpYmxlSW5kZXgpLmFkZENsYXNzKGdldExhc3RWaXNpYmxlQ2xhc3MoZWJEZXZpY2UpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm91bmRNYXRjaEluRnJhbWV3b3JrID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3VuZE1hdGNoSW5GcmFtZXdvcms7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHtvYmplY3R9IGZyYW1ld29ya1xuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxlbWVudFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXZpY2VJbmRleFxuICAgICAqXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59XG4gICAgICovXG4gICAgY29uc3QgZnJhbWV3b3JrSGlkZXNFbGVtZW50T25EZXZpY2UgPSBmdW5jdGlvbiAoZnJhbWV3b3JrLCAkZWxlbWVudCwgZGV2aWNlSW5kZXgpIHtcbiAgICAgICAgbGV0IGlzSGlkZGVuID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IGNsYXNzZXMgPSAkZWxlbWVudC5hdHRyKCdjbGFzcycpLnNwbGl0KCcgJyk7XG5cbiAgICAgICAgLy8gRnJvbSBzbWFsbGVzdCBkZXZpY2UgdG8gbGFyZ2VzdC4uLlxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8PSBkZXZpY2VJbmRleDsgaSsrKSB7XG5cbiAgICAgICAgICAgIC8vIENoZWNrIGVhY2ggY2xhc3MgaW4gdGhlIG9yZGVyIHRoZXkgYXJlIG1lbnRpb25lZC4uLlxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBjbGFzc2VzLmxlbmd0aDsgaisrKSB7XG5cbiAgICAgICAgICAgICAgICBjb25zdCBoaWRlTWF0Y2ggPSAoZnJhbWV3b3JrLmhpZGVQYXR0ZXJuID09PSBudWxsKSA/IG51bGwgOiBmcmFtZXdvcmsuaGlkZVBhdHRlcm4uZXhlYyhjbGFzc2VzW2pdKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzaG93TWF0Y2ggPSAoZnJhbWV3b3JrLnNob3dQYXR0ZXJuID09PSBudWxsKSA/IG51bGwgOiBmcmFtZXdvcmsuc2hvd1BhdHRlcm4uZXhlYyhjbGFzc2VzW2pdKTtcblxuICAgICAgICAgICAgICAgIGlmIChtYXRjaEFwcGxpZXNUb0RldmljZShoaWRlTWF0Y2gsIGksIGZyYW1ld29yay5kZXZpY2VNYXApKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzSGlkZGVuID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKG1hdGNoQXBwbGllc1RvRGV2aWNlKHNob3dNYXRjaCwgaSwgZnJhbWV3b3JrLmRldmljZU1hcCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNIaWRkZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaXNIaWRkZW47XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEBwYXJhbSB7b2JqZWN0fG51bGx9IG1hdGNoICAgICAgIFJlc3VsdCBmcm9tIFJlZ0V4cC5wcm90b3R5cGUuZXhlYygpXG4gICAgICogQHBhcmFtIHtudW1iZXJ9ICAgICAgZGV2aWNlSW5kZXhcbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSAgICBkZXZpY2VMaXN0ICBJbiBvcmRlciBmcm9tIHNtYWxsZXN0IHRvIGxhcmdlc3RcbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufVxuICAgICAqL1xuICAgIGNvbnN0IG1hdGNoQXBwbGllc1RvRGV2aWNlID0gZnVuY3Rpb24gKG1hdGNoLCBkZXZpY2VJbmRleCwgZGV2aWNlTGlzdCkge1xuICAgICAgICBpZiAobWF0Y2ggPT09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzcGVjaWZpY1RvRGV2aWNlID0gKHR5cGVvZiBtYXRjaFsxXSA9PT0gXCJzdHJpbmdcIikgPyBtYXRjaFsxXSA6IGZhbHNlO1xuICAgICAgICBjb25zdCBpc1NtYWxsZXN0RGV2aWNlID0gKGRldmljZUluZGV4ID09PSAwKTtcbiAgICAgICAgcmV0dXJuIChzcGVjaWZpY1RvRGV2aWNlID09PSBkZXZpY2VMaXN0W2RldmljZUluZGV4XSB8fCAoc3BlY2lmaWNUb0RldmljZSA9PT0gZmFsc2UgJiYgaXNTbWFsbGVzdERldmljZSkpO1xuICAgIH07XG5cbiAgICAvLyBDbGFzc2lmeSBhbGwgcm93cywgY29sdW1ucyBhbmQgaXRlbXMgaW4gRXZlcnlib2FyZHMuXG4gICAgJCgnLmV2ZXJ5X2JvYXJkJykuZWFjaChmdW5jdGlvbiAoKSB7XG5cbiAgICAgICAgY29uc3QgJHJvd3MgPSAkKHRoaXMpLmNoaWxkcmVuKCk7XG4gICAgICAgIGNsYXNzaWZ5Rmlyc3RBbmRMYXN0VmlzaWJsZUVsZW1lbnQoJHJvd3MpO1xuXG4gICAgICAgICRyb3dzLmVhY2goZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY29uc3QgJGNvbHMgPSAkKHRoaXMpLmNoaWxkcmVuKCk7XG4gICAgICAgICAgICBjbGFzc2lmeUZpcnN0QW5kTGFzdFZpc2libGVFbGVtZW50KCRjb2xzKTtcblxuICAgICAgICAgICAgJGNvbHMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgJGl0ZW1zID0gJCh0aGlzKS5jaGlsZHJlbigpO1xuICAgICAgICAgICAgICAgIGNsYXNzaWZ5Rmlyc3RBbmRMYXN0VmlzaWJsZUVsZW1lbnQoJGl0ZW1zKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0pO1xuXG4gICAgfSk7XG5cbn0pO1xuIl19"}